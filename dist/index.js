import*as e from"../../../../power-user.js";import*as t from"../../../../../script.js";import*as n from"../../../../world-info.js";import*as r from"../../../../slash-commands.js";import*as i from"../../../../personas.js";import*as o from"../../../../instruct-mode.js";import*as s from"../../../../chats.js";import*as a from"../../../../openai.js";import*as l from"../../../../authors-note.js";import*as c from"../../../../group-chats.js";import*as u from"../../../regex/engine.js";import*as d from"../../../../utils.js";import*as h from"../../../../slash-commands/SlashCommandCommonEnumsProvider.js";import*as f from"../../../../slash-commands/SlashCommandEnumValue.js";import*as p from"../../../../popup.js";import*as m from"../../../../../lib/dialog-polyfill.esm.js";var g={162:(e,t,n)=>{
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),i=n(888);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(s=e,t):(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},221:(e,t,n)=>{
/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},242:(e,t,n)=>{e.exports=n(162)},247:(e,t,n)=>{var r=n(982),i=n(540),o=n(961);
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var P=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function Q(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case O:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case P:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case $:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return Q(e(t))}catch(e){}}return null}var A=Array.isArray,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},z=[],j=-1;function R(e){return{current:e}}function Z(e){0>j||(e.current=z[j],z[j]=null,j--)}function L(e,t){j++,z[j]=e.current,e.current=t}var U=R(null),X=R(null),V=R(null),B=R(null);function Y(e,t){switch(L(V,t),L(X,e),L(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(U),L(U,e)}function W(){Z(U),Z(X),Z(V)}function F(e){null!==e.memoizedState&&L(B,e);var t=U.current,n=od(t,e.type);t!==n&&(L(X,e),L(U,n))}function q(e){X.current===e&&(Z(U),Z(X)),B.current===e&&(Z(B),Fd._currentValue=D)}var G=Object.prototype.hasOwnProperty,H=r.unstable_scheduleCallback,K=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"==typeof le&&ce(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(e){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function Oe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Oe(r):0!==(s&=a)?i=Oe(s):n||0!==(n=a&~e)&&(i=Oe(n)):0!==(a=r&~o)?i=Oe(a):0!==s?i=Oe(s):n||0!==(n=r&~e)&&(i=Oe(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=ge;return!(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ve;return!(62914560&(ve<<=1))&&(ve=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Te(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ie=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Ie,Ae="__reactProps$"+Ie,Ne="__reactContainer$"+Ie,Me="__reactEvents$"+Ie,De="__reactListeners$"+Ie,ze="__reactHandles$"+Ie,je="__reactResources$"+Ie,Re="__reactMarker$"+Ie;function Ze(e){delete e[Qe],delete e[Ae],delete e[Me],delete e[De],delete e[ze]}function Le(e){var t=e[Qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ne]||n[Qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yd(e);null!==e;){if(n=e[Qe])return n;e=yd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Qe]||e[Ne]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ve(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Be(e){e[Re]=!0}var Ye=new Set,We={};function Fe(e,t){qe(e,t),qe(e+"Capture",t)}function qe(e,t){for(We[e]=t,e=0;e<t.length;e++)Ye.add(t[e])}var Ge,He,Ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(i=t,G.call(et,i)||!G.call(Je,i)&&(Ke.test(i)?et[i]=!0:(Je[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ge)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ge=t&&t[1]||"",He=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ge+e+He}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?Ot(e,s,ct(t)):null!=n?Ot(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function Ot(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(A(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $t(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Qt=null,At=null;function Nt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Ae]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ae]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Dt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Qt||null!==At)&&(Lc(),Qt&&(t=Qt,e=At,At=Qt=null,Nt(t),e)))for(t=0;t<e.length;t++)Nt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ae]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var jt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Rt=!1;if(jt)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch(e){Rt=!1}var Lt=null,Ut=null,Xt=null;function Vt(){if(Xt)return Xt;var e,t,n=Ut,r=n.length,i="value"in Lt?Lt.value:Lt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Bt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Wt(){return!1}function Ft(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var qt,Gt,Ht,Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Ft(Kt),en=h({},Kt,{view:0,detail:0}),tn=Ft(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ht&&(Ht&&"mousemove"===e.type?(qt=e.screenX-Ht.screenX,Gt=e.screenY-Ht.screenY):Gt=qt=0,Ht=e),qt)},movementY:function(e){return"movementY"in e?e.movementY:Gt}}),rn=Ft(nn),on=Ft(h({},nn,{dataTransfer:0})),sn=Ft(h({},en,{relatedTarget:0})),an=Ft(h({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Ft(h({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Ft(h({},Kt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Ft(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Bt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Bt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Bt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Ft(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Ft(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),On=Ft(h({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Ft(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Ft(h({},Kt,{newState:0,oldState:0})),wn=[9,13,27,32],xn=jt&&"CompositionEvent"in window,Sn=null;jt&&"documentMode"in document&&(Sn=document.documentMode);var kn=jt&&"TextEvent"in window&&!Sn,$n=jt&&(!xn||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),Pn=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function An(e,t,n,r){Qt?At?At.push(r):At=[r]:Qt=r,0<(t=Vu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nn=null,Mn=null;function Dn(e){Du(e,0)}function zn(e){if(ht(Xe(e)))return e}function jn(e,t){if("change"===e)return t}var Rn=!1;if(jt){var Zn;if(jt){var Ln="oninput"in document;if(!Ln){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Ln="function"==typeof Un.oninput}Zn=Ln}else Zn=!1;Rn=Zn&&(!document.documentMode||9<document.documentMode)}function Xn(){Nn&&(Nn.detachEvent("onpropertychange",Vn),Mn=Nn=null)}function Vn(e){if("value"===e.propertyName&&zn(Mn)){var t=[];An(t,Mn,e,It(e)),Dt(Dn,t)}}function Bn(e,t,n){"focusin"===e?(Xn(),Mn=n,(Nn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Xn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Mn)}function Wn(e,t){if("click"===e)return zn(t)}function Fn(e,t){if("input"===e||"change"===e)return zn(t)}var qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Gn(e,t){if(qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!G.call(t,i)||!qn(e[i],t[i]))return!1}return!0}function Hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kn(e,t){var n,r=Hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Gn(or,r)||(or=r,0<(r=Vu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}jt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),Or=hr("transitioncancel"),yr=hr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){br.set(e,t),Fe(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function kr(e,t){if("object"==typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var $r=[],_r=0,Pr=0;function Er(){for(var e=_r,t=Pr=_r=0;t<e;){var n=$r[t];$r[t++]=null;var r=$r[t];$r[t++]=null;var i=$r[t];$r[t++]=null;var o=$r[t];if($r[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Qr(n,i,o)}}function Cr(e,t,n,r){$r[_r++]=e,$r[_r++]=t,$r[_r++]=n,$r[_r++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Cr(e,t,n,r),Ar(e)}function Ir(e,t){return Cr(e,null,null,t),Ar(e)}function Qr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Ar(e){if(50<Qc)throw Qc=0,Ac=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Mr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Rr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zr(e,t,n,r,i,o){var a=0;if(r=e,"function"==typeof e)zr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Dr(31,n,t,i)).elementType=P,e.lanes=o,e;case g:return Lr(n.children,i,o,t);case v:a=8,i|=24;break;case O:return(e=Dr(12,n,t,2|i)).elementType=O,e.lanes=o,e;case S:return(e=Dr(13,n,t,i)).elementType=S,e.lanes=o,e;case k:return(e=Dr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case w:a=10;break e;case b:a=9;break e;case x:a=11;break e;case $:a=14;break e;case _:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lr(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Xr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],Br=0,Yr=null,Wr=0,Fr=[],qr=0,Gr=null,Hr=1,Kr="";function Jr(e,t){Vr[Br++]=Wr,Vr[Br++]=Yr,Yr=e,Wr=t}function ei(e,t,n){Fr[qr++]=Hr,Fr[qr++]=Kr,Fr[qr++]=Gr,Gr=e;var r=Hr;e=Kr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hr=1<<32-fe(t)+i|n<<i|r,Kr=o+e}else Hr=1<<o|n<<i|r,Kr=e}function ti(e){null!==e.return&&(Jr(e,1),ei(e,1,0))}function ni(e){for(;e===Yr;)Yr=Vr[--Br],Vr[Br]=null,Wr=Vr[--Br],Vr[Br]=null;for(;e===Gr;)Gr=Fr[--qr],Fr[qr]=null,Kr=Fr[--qr],Fr[qr]=null,Hr=Fr[--qr],Fr[qr]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ci(e){throw mi(kr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Qe]=e,t[Ae]=r,n){case"dialog":zu("cancel",t),zu("close",t);break;case"iframe":case"object":case"embed":zu("load",t);break;case"video":case"audio":for(n=0;n<Nu.length;n++)zu(Nu[n],t);break;case"source":zu("error",t);break;case"img":case"image":case"link":zu("error",t),zu("load",t);break;case"details":zu("toggle",t);break;case"input":zu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":zu("invalid",t);break;case"textarea":zu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Gu(t.textContent,n)?(null!=r.popover&&(zu("beforetoggle",t),zu("toggle",t)),null!=r.onScroll&&zu("scroll",t),null!=r.onScrollEnd&&zu("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=Od,Od=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,oi=!1}function pi(){var e=si;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=R(null),vi=null,Oi=null;function yi(e,t,n){L(gi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=gi.current,Z(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wi(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),wi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Si(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(524288&i.flags)o=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;qn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===B.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Fd):e=[Fd])}i=i.return}null!==e&&xi(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $i(e){vi=e,Oi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Ei(vi,e)}function Pi(e,t){return null===vi&&$i(e),Ei(e,t)}function Ei(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Oi){if(null===e)throw Error(s(308));Oi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oi=Oi.next=t;return n}var Ci="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ti=r.unstable_scheduleCallback,Ii=r.unstable_NormalPriority,Qi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ai(){return{controller:new Ci,data:new Map,refCount:0}}function Ni(e){e.refCount--,0===e.refCount&&Ti(Ii,function(){e.controller.abort()})}var Mi=null,Di=0,zi=0,ji=null;function Ri(){if(0===--Di&&null!==Mi){null!==ji&&(ji.status="fulfilled");var e=Mi;Mi=null,zi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Zi=N.S;N.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Di=0,zi=Cu(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Di++,t.then(Ri,Ri)}(0,t),null!==Zi&&Zi(e,t)};var Li=R(null);function Ui(){var e=Li.current;return null!==e?e:rc.pooledCache}function Xi(e,t){L(Li,null===t?Li.current:t.pool)}function Vi(){var e=Ui();return null===e?null:{parent:Qi._currentValue,pool:e}}var Bi=Error(s(460)),Yi=Error(s(474)),Wi=Error(s(542)),Fi={then:function(){}};function qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Gi(){}function Hi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Gi,Gi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"==typeof t.status)t.then(Gi,Gi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ki=t,Bi}}var Ki=null;function Ji(){if(null===Ki)throw Error(s(459));var e=Ki;return Ki=null,e}function eo(e){if(e===Bi||e===Wi)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),Qr(e,null,n),t}return Cr(e,r,t,n),Ar(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==ji)throw ji}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===zi&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var v=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(v,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(v,d,f):m))break e;d=h({},d,f);break e;case 2:to=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var po=R(null),mo=R(0);function go(e,t){L(mo,e=dc),L(po,t),dc=e|t.baseLanes}function vo(){L(mo,dc),L(po,po.current)}function Oo(){dc=mo.current,Z(po),Z(mo)}var yo=0,bo=null,wo=null,xo=null,So=!1,ko=!1,$o=!1,_o=0,Po=0,Eo=null,Co=0;function To(){throw Error(s(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function Qo(e,t,n,r,i,o){return yo=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Ys:Ws,$o=!1,o=n(r,i),$o=!1,ko&&(o=No(t,n,r,i)),Ao(e),o}function Ao(e){N.H=Bs;var t=null!==wo&&null!==wo.next;if(yo=0,xo=wo=bo=null,So=!1,Po=0,Eo=null,t)throw Error(s(300));null===e||Pa||null!==(e=e.dependencies)&&ki(e)&&(Pa=!0)}function No(e,t,n,r){bo=e;var i=0;do{if(ko&&(Eo=null),Po=0,ko=!1,25<=i)throw Error(s(301));if(i+=1,xo=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}N.H=Fs,o=t(n,r)}while(ko);return o}function Mo(){var e=N.H,t=e.useState()[0];return t="function"==typeof t.then?Lo(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(bo.flags|=1024),t}function Do(){var e=0!==_o;return _o=0,e}function zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function jo(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}yo=0,xo=wo=bo=null,ko=!1,Po=_o=0,Eo=null}function Ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?bo.memoizedState=xo=e:xo=xo.next=e,xo}function Zo(){if(null===wo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===xo?bo.memoizedState:xo.next;if(null!==t)xo=t,wo=e;else{if(null===e){if(null===bo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===xo?bo.memoizedState=xo=e:xo=xo.next=e}return xo}function Lo(e){var t=Po;return Po+=1,null===Eo&&(Eo=[]),e=Hi(Eo,e,t),t=bo,null===(null===xo?t.memoizedState:xo.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Ys:Ws),e}function Uo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Lo(e);if(e.$$typeof===w)return _i(e)}throw Error(s(438,String(e)))}function Xo(e){var t=null,n=bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Vo(e,t){return"function"==typeof t?t(e):t}function Bo(e){return Yo(Zo(),wo,e)}function Yo(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(yo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===zi&&(d=!0);else{if((yo&f)===f){u=u.next,f===zi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,bo.lanes|=f,fc|=f}h=u.action,$o&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,bo.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!qn(o,e.memoizedState)&&(Pa=!0,d&&null!==(n=ji)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wo(e){var t=Zo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);qn(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fo(e,t,n){var r=bo,i=Zo(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!qn((wo||i).memoizedState,n);if(a&&(i.memoizedState=n,Pa=!0),i=i.queue,vs(2048,8,Ho.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==xo&&1&xo.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Go.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));o||124&yo||qo(r,t,n)}return n}function qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Go(e,t,n,r){t.value=n,t.getSnapshot=r,Ko(t)&&Jo(e)}function Ho(e,t,n){return n(function(){Ko(t)&&Jo(e)})}function Ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch(e){return!0}}function Jo(e){var t=Ir(e,2);null!==t&&Dc(t,e,2)}function es(e){var t=Ro();if("function"==typeof e){var n=e;if(e=n(),$o){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Yo(e,wo,"function"==typeof r?r:Vo)}function ns(e,t,n,r,i){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==N.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=N.T,s={};N.T=s;try{var a=n(i,r),l=N.S;null!==l&&l(s,a),is(e,t,a)}catch(n){ss(e,t,n)}finally{N.T=o}}else try{is(e,t,o=n(i,r))}catch(n){ss(e,t,n)}}function is(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){os(e,t,n)},function(n){return ss(e,t,n)}):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=bo;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Ro()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Rs.bind(null,bo,r),r.dispatch=n,r=es(!1),o=Ls.bind(null,bo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ro()).queue=i,n=ns.bind(null,bo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(Zo(),wo,e)}function ds(e,t,n){if(t=Yo(e,t,ls)[0],e=Bo(Vo)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Lo(t)}catch(e){if(e===Bi)throw Wi;throw e}else r=t;var i=(t=Zo()).queue,o=i.dispatch;return n!==t.memoizedState&&(bo.flags|=2048,ps(9,{destroy:void 0,resource:void 0},hs.bind(null,i,n),null)),[r,o,e]}function hs(e,t){e.action=t}function fs(e){var t=Zo(),n=wo;if(null!==n)return ds(t,n,e);Zo(),t=t.memoizedState;var r=(n=Zo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Zo().memoizedState}function gs(e,t,n,r){var i=Ro();r=void 0===r?null:r,bo.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function vs(e,t,n,r){var i=Zo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==wo&&null!==r&&Io(r,wo.memoizedState.deps)?i.memoizedState=ps(t,o,n,r):(bo.flags|=e,i.memoizedState=ps(1|t,o,n,r))}function Os(e,t){gs(8390656,8,e,t)}function ys(e,t){vs(2048,8,e,t)}function bs(e,t){return vs(4,2,e,t)}function ws(e,t){return vs(4,4,e,t)}function xs(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=null!=n?n.concat([e]):null,vs(4,4,xs.bind(null,t,e),n)}function ks(){}function $s(e,t){var n=Zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _s(e,t){var n=Zo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Io(t,r[1]))return r[0];if(r=e(),$o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ps(e,t,n){return void 0===n||1073741824&yo?e.memoizedState=t:(e.memoizedState=n,e=Mc(),bo.lanes|=e,fc|=e,n)}function Es(e,t,n,r){return qn(n,t)?n:null!==po.current?(e=Ps(e,n,r),qn(e,t)||(Pa=!0),e):42&yo?(e=Mc(),bo.lanes|=e,fc|=e,t):(Pa=!0,e.memoizedState=n)}function Cs(e,t,n,r,i){var o=M.p;M.p=0!==o&&8>o?o:8;var s,a,l,c=N.T,u={};N.T=u,Ls(e,!1,t,n);try{var d=i(),h=N.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=(s=r,a=[],l={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<a.length;e++)(0,a[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),l);Zs(e,t,f,Nc())}else Zs(e,t,r,Nc())}catch(n){Zs(e,t,{then:function(){},status:"rejected",reason:n},Nc())}finally{M.p=o,N.T=c}}function Ts(){}function Is(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Qs(e).queue;Cs(e,i,t,D,null===n?Ts:function(){return As(e),n(r)})}function Qs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function As(e){Zs(e,Qs(e).next.queue,{},Nc())}function Ns(){return _i(Fd)}function Ms(){return Zo().memoizedState}function Ds(){return Zo().memoizedState}function zs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nc(),r=oo(t,e=io(n),n);return null!==r&&(Dc(r,t,n),so(r,t,n)),t={cache:Ai()},void(e.payload=t)}t=t.return}}function js(e,t,n){var r=Nc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?Xs(t,n):null!==(n=Tr(e,t,n,r))&&(Dc(n,e,r),Vs(n,t,r))}function Rs(e,t,n){Zs(e,t,n,Nc())}function Zs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Xs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,qn(a,s))return Cr(e,t,i,0),null===rc&&Er(),!1}catch(e){}if(null!==(n=Tr(e,t,i,r)))return Dc(n,e,r),Vs(n,t,r),!0}return!1}function Ls(e,t,n,r){if(r={lane:2,revertLane:Cu(),action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Tr(e,n,r,2))&&Dc(t,e,2)}function Us(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function Xs(e,t){ko=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Bs={readContext:_i,use:Uo,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useLayoutEffect:To,useInsertionEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useSyncExternalStore:To,useId:To,useHostTransitionStatus:To,useFormState:To,useActionState:To,useOptimistic:To,useMemoCache:To,useCacheRefresh:To},Ys={readContext:_i,use:Uo,useCallback:function(e,t){return Ro().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:Os,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,gs(4194308,4,xs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=Ro();t=void 0===t?null:t;var r=e();if($o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ro();if(void 0!==n){var i=n(t);if($o){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ro().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Rs.bind(null,bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Ps(Ro(),e,t)},useTransition:function(){var e=es(!1);return e=Cs.bind(null,bo,e.queue,!0,!1),Ro().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bo,i=Ro();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));124&oc||qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Os(Ho.bind(null,r,o,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Go.bind(null,r,o,n,t),null),n},useId:function(){var e=Ro(),t=rc.identifierPrefix;if(oi){var n=Kr;t="«"+t+"R"+(n=(Hr&~(1<<32-fe(Hr)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Co++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ns,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Ro();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ls.bind(null,bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xo,useCacheRefresh:function(){return Ro().memoizedState=zs.bind(null,bo)}},Ws={readContext:_i,use:Uo,useCallback:$s,useContext:_i,useEffect:ys,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:_s,useReducer:Bo,useRef:ms,useState:function(){return Bo(Vo)},useDebugValue:ks,useDeferredValue:function(e,t){return Es(Zo(),wo.memoizedState,e,t)},useTransition:function(){var e=Bo(Vo)[0],t=Zo().memoizedState;return["boolean"==typeof e?e:Lo(e),t]},useSyncExternalStore:Fo,useId:Ms,useHostTransitionStatus:Ns,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Zo(),0,e,t)},useMemoCache:Xo,useCacheRefresh:Ds},Fs={readContext:_i,use:Uo,useCallback:$s,useContext:_i,useEffect:ys,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:_s,useReducer:Wo,useRef:ms,useState:function(){return Wo(Vo)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Zo();return null===wo?Ps(n,e,t):Es(n,wo.memoizedState,e,t)},useTransition:function(){var e=Wo(Vo)[0],t=Zo().memoizedState;return["boolean"==typeof e?e:Lo(e),t]},useSyncExternalStore:Fo,useId:Ms,useHostTransitionStatus:Ns,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Zo();return null!==wo?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xo,useCacheRefresh:Ds},qs=null,Gs=0;function Hs(e){var t=Gs;return Gs+=1,null===qs&&(qs=[]),Hi(qs,e,t)}function Ks(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===_&&ea(o)===t.type)?(Ks(t=i(t,n.props),n),t.return=e,t):(Ks(t=Zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return Ks(n=Zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Xr(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(A(t)||T(t))return(t=Lr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Hs(t),n);if(t.$$typeof===w)return h(e,Pi(e,t),n);Js(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case _:return f(e,t,n=(i=n._init)(n._payload),r)}if(A(n)||T(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,Hs(n),r);if(n.$$typeof===w)return f(e,t,Pi(e,n),r);Js(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(A(r)||T(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,Hs(r),i);if(r.$$typeof===w)return v(e,t,n,Pi(t,r),i);Js(t,r)}return null}function O(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===_&&ea(y)===c.type){n(l,c.sibling),Ks(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Lr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Ks(d=Zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Xr(u,l.mode,d)).return=l,l=d}return a(l);case _:return O(l,c,u=(y=u._init)(u._payload),d)}if(A(u))return function(i,s,a,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<a.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,a[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===a.length)return n(i,d),oi&&Jr(i,p),c;if(null===d){for(;p<a.length;p++)null!==(d=h(i,a[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return oi&&Jr(i,p),c}for(d=r(d);p<a.length;p++)null!==(m=v(d,i,p,a[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=o(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),oi&&Jr(i,p),c}(l,c,u,d);if(T(u)){if("function"!=typeof(y=T(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=a,m=a=0,g=null,O=l.next();null!==p&&!O.done;m++,O=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=f(i,p,O.value,c);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=o(y,a,m),null===d?u=y:d.sibling=y,d=y,p=g}if(O.done)return n(i,p),oi&&Jr(i,m),u;if(null===p){for(;!O.done;m++,O=l.next())null!==(O=h(i,O.value,c))&&(a=o(O,a,m),null===d?u=O:d.sibling=O,d=O);return oi&&Jr(i,m),u}for(p=r(p);!O.done;m++,O=l.next())null!==(O=v(p,i,m,O.value,c))&&(e&&null!==O.alternate&&p.delete(null===O.key?m:O.key),a=o(O,a,m),null===d?u=O:d.sibling=O,d=O);return e&&p.forEach(function(e){return t(i,e)}),oi&&Jr(i,m),u}(l,c,u=y.call(u),d)}if("function"==typeof u.then)return O(l,c,Hs(u),d);if(u.$$typeof===w)return O(l,c,Pi(l,u),d);Js(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Ur(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Gs=0;var i=O(e,t,n,r);return qs=null,i}catch(t){if(t===Bi||t===Wi)throw t;var o=Dr(29,t,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),ia=R(null),oa=null;function sa(e){var t=e.alternate;L(ua,1&ua.current),L(ia,e),null===oa&&(null===t||null!==po.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(L(ua,ua.current),L(ia,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){L(ua,ua.current),L(ia,ia.current)}function ca(e){Z(ia),oa===e&&(oa=null),Z(ua)}var ua=R(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nc(),i=io(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Dc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nc(),i=io(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Dc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nc(),r=io(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Dc(t,e,n),so(t,e,n))}};function pa(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Gn(n,r)||!Gn(i,o))}function ma(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var va="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Oa(e){va(e)}function ya(e){console.error(e)}function ba(e){va(e)}function wa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function xa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Sa(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){wa(e,t)},n}function ka(e){return(e=io(e)).tag=3,e}function $a(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){xa(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){xa(t,n,r),"function"!=typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _a=Error(s(461)),Pa=!1;function Ea(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Ca(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return $i(t),r=Qo(e,t,n,s,o,i),a=Do(),null===e||Pa?(oi&&a&&ti(t),t.flags|=1,Ea(e,t,r,i),t.child):(zo(e,t,i),qa(e,t,i))}function Ta(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,!Ga(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Gn)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=jr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Gn(o,r)&&e.ref===t.ref){if(Pa=!1,t.pendingProps=r=o,!Ga(e,i))return t.lanes=e.lanes,qa(e,t,i);131072&e.flags&&(Pa=!0)}}return Ma(e,t,n,r,i)}function Qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Aa(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Aa(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==o?o.cachePool:null),null!==o?go(t,o):vo(),aa(t)}else null!==o?(Xi(0,o.cachePool),go(t,o),la(),t.memoizedState=null):(null!==e&&Xi(0,null),vo(),la());return Ea(e,t,i,n),t.child}function Aa(e,t,n,r){var i=Ui();return i=null===i?null:{parent:Qi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Xi(0,null),vo(),aa(t),null!==e&&Si(e,t,r,!0),null}function Na(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ma(e,t,n,r,i){return $i(t),n=Qo(e,t,n,r,void 0,i),r=Do(),null===e||Pa?(oi&&r&&ti(t),t.flags|=1,Ea(e,t,n,i),t.child):(zo(e,t,i),qa(e,t,i))}function Da(e,t,n,r,i,o){return $i(t),t.updateQueue=null,n=No(t,r,n,i),Ao(e),r=Do(),null===e||Pa?(oi&&r&&ti(t),t.flags|=1,Ea(e,t,n,o),t.child):(zo(e,t,o),qa(e,t,o))}function za(e,t,n,r,i){if($i(t),null===t.stateNode){var o=Nr,s=n.contextType;"object"==typeof s&&null!==s&&(o=_i(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"==typeof s&&null!==s?_i(s):Nr,o.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(s=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&fa.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ga(n,a);o.props=l;var c=o.context,u=n.contextType;s=Nr,"object"==typeof u&&null!==u&&(s=_i(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,r,s),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,i),co(),c=t.memoizedState,a||h!==c||to?("function"==typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=to||pa(t,n,l,r,h,c,s))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ga(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Nr,"object"==typeof c&&null!==c&&(l=_i(c)),(c="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,i),co();var f=t.memoizedState;s!==d||h!==f||to||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"==typeof a&&(ha(t,n,a,r),f=t.memoizedState),(u=to||pa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Na(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Ea(e,t,n,i),t.memoizedState=o.state,e=t.child):e=qa(e,t,i),e}function ja(e,t,n,r){return fi(),t.flags|=256,Ea(e,t,n,r),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Za(e){return{baseLanes:e,cachePool:Vi()}}function La(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ua(e,t,n){var r,i=t.pendingProps,o=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&ua.current)),r&&(o=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?sa(t):la(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Gr?{id:Hr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},(l=Dr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,o?(la(),c=Va({mode:"hidden",children:c},o=t.mode),i=Lr(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Za(n),o.childLanes=La(e,r,n),t.memoizedState=Ra,i):(sa(t),Xa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ba(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=i.fallback,c=t.mode,i=Va({mode:"visible",children:i.children},c),(o=Lr(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=Za(n),i.childLanes=La(e,r,n),t.memoizedState=Ra,t=o);else if(sa(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ba(e,t,n)}else if(Pa||Si(e,t,n,!1),r=0!==(n&e.childLanes),Pa||r){if(null!==(r=rc)&&(0!==(i=0!==((i=42&(i=n&-n)?1:Ee(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ir(e,i),Dc(r,e,i),_a;"$?"===c.data||Wc(),t=Ba(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Fr[qr++]=Hr,Fr[qr++]=Kr,Fr[qr++]=Gr,Hr=e.id,Kr=e.overflow,Gr=t),(t=Xa(t,i.children)).flags|=4096);return t}return o?(la(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=jr(u,o):(o=Lr(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Za(n):(null!==(l=c.cachePool)?(u=Qi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=La(e,r,n),t.memoizedState=Ra,i):(sa(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=Va({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Va(e,t){return(e=Dr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ba(e,t,n){return na(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ya(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Wa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ea(e,t,r.children,n),2&(r=ua.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n,t);else if(19===e.tag)Ya(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(L(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Ha(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Pa=!0;else{if(!(Ga(e,n)||128&t.flags))return Pa=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),yi(0,Qi,e.memoizedState.cache),fi();break;case 27:case 5:F(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:yi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(sa(t),null!==(e=qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Fa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),L(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Qa(e,t,n);case 24:yi(0,Qi,e.memoizedState.cache)}return qa(e,t,n)}(e,t,n);Pa=!!(131072&e.flags)}else Pa=!1,oi&&1048576&t.flags&&ei(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((i=r.$$typeof)===x){t.tag=11,t=Ca(null,t,r,e,n);break e}if(i===$){t.tag=14,t=Ta(null,t,r,e,n);break e}}throw t=Q(r)||r,Error(s(306,t,""))}zr(r)?(e=ga(r,e),t.tag=1,t=za(null,t,r,e,n)):(t.tag=0,t=Ma(null,t,r,e,n))}return t;case 0:return Ma(e,t,t.type,t.pendingProps,n);case 1:return za(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,yi(0,Qi,r),r!==o.cache&&xi(t,[Qi],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ja(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(s(424)),t)),t=ja(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=qa(e,t,n);break e}Ea(e,t,r,n)}t=t.child}return t;case 26:return Na(e,t),null===e?(n=Ed(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rd(V.current).createElement(n))[Qe]=t,r[Ae]=e,ed(r,n,e),Be(r),t.stateNode=r):t.memoizedState=Ed(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return F(t),null===e&&oi&&(r=t.stateNode=bd(t.type,t.pendingProps,V.current),ri=t,ai=!0,i=ii,fd(t.type)?(Od=i,ii=vd(r.firstChild)):ii=i),Ea(e,t,t.pendingProps.children,n),Na(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Re])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),F(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,sd(i,o)?r=null:null!==a&&sd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Qo(e,t,Mo,null,null,n),Fd._currentValue=i),Na(e,t),Ea(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Ua(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return Ca(e,t,t.type,t.pendingProps,n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,yi(0,t.type,r.value),Ea(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,$i(t),r=r(i=_i(i)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return Ta(e,t,t.type,t.pendingProps,n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 19:return Fa(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Va(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Qa(e,t,n);case 24:return $i(t),r=_i(Qi),null===e?(null===(i=Ui())&&(i=rc,o=Ai(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),yi(0,Qi,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),yi(0,Qi,r)):(r=o.cache,yi(0,Qi,r),r!==i.cache&&xi(t,[Qi],n,!0))),Ea(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ka(e){e.flags|=4}function Ja(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Ld(t)){if(null!==(t=ia.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&!(536870912&oc)||t!==oa))throw Ki=Fi,Yi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Qi),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Ka(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ka(t),null!==n?(nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ka(t),nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ka(t),nl(t),t.flags&=-16777217),null;case 27:q(t),n=V.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ka(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,hi(t)?ui(t):(e=bd(i,r,n),t.stateNode=e,Ka(t))}return nl(t),null;case 5:if(q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ka(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,hi(t))ui(t);else{switch(i=rd(V.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Qe]=t,e[Ae]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ka(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ka(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=V.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Qe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Gu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Qe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Qe]=t}else fi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&Zu(t.stateNode.containerInfo),nl(t),null;case 10:return bi(t.type),nl(t),null;case 19:if(Z(ua),null===(i=t.memoizedState))return nl(t),null;if(r=!!(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Rr(n,e),n=n.sibling;return L(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>xc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,L(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),Oo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Z(Li),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Qi),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Qi),W(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return q(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Z(ua),null;case 4:return W(),null;case 10:return bi(t.type),null;case 22:case 23:return ca(t),Oo(),null!==e&&Z(Li),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Qi),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:bi(Qi),W();break;case 26:case 27:case 5:q(t);break;case 4:W();break;case 13:ca(t);break;case 19:Z(ua);break;case 10:bi(t.type);break;case 22:case 23:ca(t),Oo(),null!==e&&Z(Li);break;case 24:bi(Qi)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(e){uu(t,t.return,e)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(e){uu(i,l,e)}}}r=r.next}while(r!==o)}}catch(e){uu(t,t.return,e)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fo(t,n)}catch(t){uu(e,e.return,t)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){uu(e,t,n)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){uu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){uu(e,t,n)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){uu(e,e.return,t)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ku(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Ku(e,t,f,p,r,h)}}return void gt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Ku(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Ku(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?yt(e,!!n,f,!1):!!r!=!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ku(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Ku(e,t,a,i,r,o)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ku(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else Ku(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ku(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ku(e,t,u,f,r,p)}return;default:if(_t(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Ju(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Ju(e,t,d,f,r,p);return}}for(var O in n)f=n[O],n.hasOwnProperty(O)&&null!=f&&!r.hasOwnProperty(O)&&Ku(e,t,O,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ku(e,t,h,f,r,p)}(r,e.type,n,t),r[Ae]=t}catch(t){uu(e,e.return,t)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function Ol(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Qe]=e,t[Ae]=n}catch(t){uu(e,e.return,t)}}var yl=!1,bl=!1,wl=!1,xl="function"==typeof WeakSet?WeakSet:Set,Sl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),4&r&&sl(5,n);break;case 1:if(zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){uu(n,n.return,e)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){uu(n,n.return,e)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fo(e,t)}catch(e){uu(n,n.return,e)}}break;case 27:null===t&&4&r&&Ol(n);case 26:case 5:zl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:zl(e,n);break;case 13:zl(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||bl,i=yl;var o=bl;yl=r,(bl=t)&&!o?Rl(e,n,!!(8772&n.subtreeFlags)):zl(e,n),yl=i,bl=o}break;case 30:break;default:zl(e,n)}}function $l(e){var t=e.alternate;null!==t&&(e.alternate=null,$l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Pl=!1;function El(e,t,n){for(n=n.child;null!==n;)Cl(e,t,n),n=n.sibling}function Cl(e,t,n){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(e){}switch(n.tag){case 26:bl||dl(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var r=_l,i=Pl;fd(n.type)&&(_l=n.stateNode,Pl=!1),El(e,t,n),wd(n.stateNode),_l=r,Pl=i;break;case 5:bl||dl(n,t);case 6:if(r=_l,i=Pl,_l=null,El(e,t,n),Pl=i,null!==(_l=r))if(Pl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(e){uu(n,t,e)}else try{_l.removeChild(n.stateNode)}catch(e){uu(n,t,e)}break;case 18:null!==_l&&(Pl?(pd(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ph(e)):pd(_l,n.stateNode));break;case 4:r=_l,i=Pl,_l=n.stateNode.containerInfo,Pl=!0,El(e,t,n),_l=r,Pl=i;break;case 0:case 11:case 14:case 15:bl||al(2,n,t),bl||al(4,n,t),El(e,t,n);break;case 1:bl||(dl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,El(e,t,n),bl=r;break;default:El(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ph(e)}catch(e){uu(t,t.return,e)}}function Il(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){_l=l.stateNode,Pl=!1;break e}break;case 5:_l=l.stateNode,Pl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Pl=!0;break e}l=l.return}if(null===_l)throw Error(s(160));Cl(o,a,i),_l=null,Pl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}var Al=null;function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ql(t,e),Ml(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Ql(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),64&r&&yl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Al;if(Ql(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Re]||o[Qe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),ed(o,r,n),o[Qe]=e,Be(o),r=o;break e;case"link":var a=Rd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=Rd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Qe]=e,Be(o),r=o}e.stateNode=r}else Zd(i,e.type,e.stateNode);else e.stateNode=Nd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Zd(i,e.type,e.stateNode):Nd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ql(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ql(t,e),Ml(e),512&r&&(bl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(t){uu(e,e.return,t)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Ql(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){uu(e,e.return,t)}}break;case 3:if(jd=null,i=Al,Al=kd(t.containerInfo),Ql(t,e),Al=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(t){uu(e,e.return,t)}wl&&(wl=!1,Dl(e));break;case 4:r=Al,Al=kd(e.stateNode.containerInfo),Ql(t,e),Ml(e),Al=r;break;case 12:default:Ql(t,e),Ml(e);break;case 13:Ql(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=yl,d=bl;if(yl=u||i,bl=d||c,Ql(t,e),bl=d,yl=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||yl||bl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){uu(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(e){uu(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Il(e,n))));break;case 19:Ql(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(xt(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(t){uu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),jl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&cl(t,t.return,n),jl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function Rl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Rl(i,o,n),sl(4,o);break;case 1:if(Rl(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){uu(r,r.return,e)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],a)}catch(e){uu(r,r.return,e)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:Ol(o);case 26:case 5:Rl(i,o,n),n&&null===r&&4&s&&hl(o),ul(o,o.return);break;case 12:Rl(i,o,n);break;case 13:Rl(i,o,n),n&&4&s&&Tl(i,o);break;case 22:null===o.memoizedState&&Rl(i,o,n),ul(o,o.return);break;case 30:break;default:Rl(i,o,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ni(n))}function Ll(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Xl(e,t,n,r),t=t.sibling}function Xl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e)));break;case 12:if(2048&i){Ul(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"==typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){uu(t,t.return,e)}}else Ul(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Ul(e,t,n,r):Bl(e,t):2&o._visibility?Ul(e,t,n,r):(o._visibility|=2,Vl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Zl(s,t);break;case 24:Ul(e,t,n,r),2048&i&&Ll(t.alternate,t)}}function Vl(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(o,s,a,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Vl(o,s,a,l,i):Bl(o,s):(u._visibility|=2,Vl(o,s,a,l,i)),i&&2048&c&&Zl(s.alternate,s);break;case 24:Vl(o,s,a,l,i),i&&2048&c&&Ll(s.alternate,s);break;default:Vl(o,s,a,l,i)}t=t.sibling}}function Bl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Bl(n,r),2048&i&&Zl(r.alternate,r);break;case 24:Bl(n,r),2048&i&&Ll(r.alternate,r);break;default:Bl(n,r)}t=t.sibling}}var Yl=8192;function Wl(e){if(e.subtreeFlags&Yl)for(e=e.child;null!==e;)Fl(e),e=e.sibling}function Fl(e){switch(e.tag){case 26:Wl(e),e.flags&Yl&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(s(475));var r=Ud;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var i=Cd(n.href),o=e.querySelector(Td(i));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Vd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Be(o);o=e.ownerDocument||e,n=Id(n),(i=xd.get(i))&&Dd(n,i),Be(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Vd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Al,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Al;Al=kd(e.stateNode.containerInfo),Wl(e),Al=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Yl,Yl=16777216,Wl(e),Yl=t):Wl(e))}}function ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Gl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Hl(e),e=e.sibling}function Hl(e){switch(e.tag){case 0:case 11:case 15:Gl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Gl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Kl(e)):Gl(e)}}function Kl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Kl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Kl(t));break;default:Kl(t)}e=e.sibling}}function Jl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ni(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,o=r.return;if($l(r),r===n){Sl=null;break e}if(null!==i){i.return=o,Sl=i;break e}Sl=o}}}var ec={getCacheForType:function(e){var t=_i(Qi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"==typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,vc=0,Oc=null,yc=null,bc=!1,wc=0,xc=1/0,Sc=null,kc=null,$c=0,_c=null,Pc=null,Ec=0,Cc=0,Tc=null,Ic=null,Qc=0,Ac=null;function Nc(){if(2&nc&&0!==oc)return oc&-oc;if(null!==N.T){return 0!==zi?zi:Cu()}return Te()}function Mc(){0===gc&&(gc=536870912&oc&&!oi?536870912:xe());var e=ia.current;return null!==e&&(e.flags|=32),gc}function Dc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Xc(e,0),Zc(e,oc,gc,!1)),$e(e,n),2&nc&&e===rc||(e===rc&&(!(2&nc)&&(pc|=n),4===hc&&Zc(e,oc,gc,!1)),xu(e))}function zc(e,t,n){if(6&nc)throw Error(s(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Bc(),i=Yc();rc!==e||oc!==t?(Sc=null,xc=te()+500,Xc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var o=ac;t:switch(sc){case 1:sc=0,ac=null,Jc(e,t,o,1);break;case 2:case 9:if(qi(o)){sc=0,ac=null,Kc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),xu(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:qi(o)?(sc=0,ac=null,Kc(t)):(sc=0,ac=null,Jc(e,t,o,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||Ld(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,ac=null,Jc(e,t,o,5);break;case 6:sc=0,ac=null,Jc(e,t,o,6);break;case 8:Uc(),hc=6;break e;default:throw Error(s(462))}}Gc();break}catch(t){Vc(e,t)}return Oi=vi=null,N.H=r,N.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Er(),hc)}(e,t):Fc(e,t,!0),o=r;;){if(0===i){cc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Rc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Oc;var c=l.current.memoizedState.isDehydrated;if(c&&(Xc(l,a).flags|=256),2!==(a=Fc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,i=4;break e}o=yc,yc=i,null!==o&&(null===yc?yc=o:yc.push.apply(yc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){Xc(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,gc,!lc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(Zc(r,t,gc,!lc),0!==ye(r,0,!0))break e;r.timeoutHandle=ld(jc.bind(null,r,n,yc,Sc,bc,t,gc,pc,vc,lc,o,2,-0,0),i)}else jc(r,n,yc,Sc,bc,t,gc,pc,vc,lc,o,0,-0,0)}break}i=Fc(e,t,!1),o=!1}xu(e)}function jc(e,t,n,r,i,o,a,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Ud={stylesheets:null,count:0,unsuspend:Xd},Fl(t),null!==(h=function(){if(null===Ud)throw Error(s(475));var e=Ud;return e.stylesheets&&0===e.count&&Yd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,o,n,r,i,a,l,c,d,1,f,p)),void Zc(e,o,a,!u);nu(e,t,o,n,r,i,a,l,c)}function Rc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qn(o(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&_e(e,n,t)}function Lc(){return!!(6&nc)||(Su(0,!1),!1)}function Uc(){if(null!==ic){if(0===sc)var e=ic.return;else Oi=vi=null,jo(e=ic),qs=null,Gs=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Xc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ic=n=jr(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=be(e,t),uc=!1,vc=gc=mc=pc=fc=hc=0,yc=Oc=null,bc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return dc=t,Er(),n}function Vc(e,t){bo=null,N.H=Bs,t===Bi||t===Wi?(t=Ji(),sc=3):t===Yi?(t=Ji(),sc=4):sc=t===_a?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,ac=t,null===ic&&(hc=1,wa(e,kr(t,e.current)))}function Bc(){var e=N.H;return N.H=Bs,null===e?Bs:e}function Yc(){var e=N.A;return N.A=ec,e}function Wc(){hc=4,lc||(4194048&oc)!==oc&&null!==ia.current||(cc=!0),!(134217727&fc)&&!(134217727&pc)||null===rc||Zc(rc,oc,gc,!1)}function Fc(e,t,n){var r=nc;nc|=2;var i=Bc(),o=Yc();rc===e&&oc===t||(Sc=null,Xc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var a=ic,l=ac;switch(sc){case 8:Uc(),s=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=sc;if(sc=0,ac=null,Jc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Jc(e,a,l,c)}}qc(),s=hc;break}catch(t){Vc(e,t)}return t&&e.shellSuspendCounter++,Oi=vi=null,nc=r,N.H=i,N.A=o,null===ic&&(rc=null,oc=0,Er()),s}function qc(){for(;null!==ic;)Hc(ic)}function Gc(){for(;null!==ic&&!J();)Hc(ic)}function Hc(e){var t=Ha(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Kc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Da(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Da(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:jo(t);default:ol(n,t),t=Ha(n,t=ic=Rr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e,t,n,r){Oi=vi=null,jo(t),qs=null,Gs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===oa?Wc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Fi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Fi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Wc(),!1}if(oi)return null!==(t=ia.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),ao(e,i=Sa(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var o=Error(s(520),{cause:r});if(o=kr(o,n),null===Oc?Oc=[o]:Oc.push(o),4!==hc&&(hc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=Sa(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==kc&&kc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,$a(i=ka(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return hc=1,wa(e,kr(n,e.current)),void(ic=null)}catch(t){if(null!==i)throw ic=i,t;return hc=1,wa(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||536870912&oc?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(32768&t.flags)return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==$c);if(6&nc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Pr,a,l,c),e===rc&&(ic=rc=null,oc=0),Pc=t,_c=e,Ec=n,Cc=o,Tc=i,Ic=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,H(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=N.T,N.T=null,i=M.p,M.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,1024&t.subtreeFlags&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(o=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){uu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=a,M.p=i,N.T=r}}$c=1,ru(),iu(),ou()}}function ru(){if(1===$c){$c=0;var e=_c,t=Pc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=N.T,N.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Nl(t,e);var o=nd,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Jn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=Kn(a,m),O=Kn(a,g);if(v&&O&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==O.node||f.focusOffset!==O.offset)){var y=d.createRange();y.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(y),f.extend(O.node,O.offset)):(y.setEnd(O.node,O.offset),f.addRange(y))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var b=d[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=i,M.p=r,N.T=n}}e.current=t,$c=2}}function iu(){if(2===$c){$c=0;var e=_c,t=Pc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=N.T,N.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=i,M.p=r,N.T=n}}$c=3}}function ou(){if(4===$c||3===$c){$c=0,ee();var e=_c,t=Pc,n=Ec,r=Ic;10256&t.subtreeFlags||10256&t.flags?$c=5:($c=0,Pc=_c=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(kc=null),Ce(n),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=N.T,i=M.p,M.p=2,N.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{N.T=t,M.p=i}}3&Ec&&au(),xu(e),i=e.pendingLanes,4194090&n&&42&i?e===Ac?Qc++:(Qc=0,Ac=e):Qc=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ni(t)))}function au(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==$c)return!1;var e=_c,t=Cc;Cc=0;var n=Ce(Ec),r=N.T,i=M.p;try{M.p=32>n?32:n,N.T=null,n=Tc,Tc=null;var o=_c,a=Ec;if($c=0,Pc=_c=null,Ec=0,6&nc)throw Error(s(331));var l=nc;if(nc|=4,Hl(o.current),Xl(o,o.current,a,n),nc=l,Su(0,!1),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(e){}return!0}finally{M.p=i,N.T=r,su(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=oo(e,t=Sa(e.stateNode,t,2),2))&&($e(e,2),xu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=oo(t,n=ka(2),2))&&($a(n,r,t,e),$e(r,2),xu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-wc?!(2&nc)&&Xc(e,0):mc|=n,vc===oc&&(vc=0)),xu(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Ir(e,t))&&($e(e,t),xu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,Ou=!1,yu=!1,bu=!1,wu=0;function xu(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),yu=!0,Ou||(Ou=!0,dd(function(){6&nc?H(re,ku):$u()}))}function Su(e,t){if(!bu&&yu){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Eu(r,o))}else o=oc,!(3&(o=ye(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,o)||(n=!0,Eu(r,o));r=r.next}}while(n);bu=!1}}function ku(){$u()}function $u(){yu=Ou=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=_u(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||3&o)&&(yu=!0)),r=i}Su(e,!1)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-fe(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=we(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=ye(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&K(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&K(r),Ce(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Pu.bind(null,e),n=H(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&K(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==$c&&5!==$c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=ye(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zc(e,r,t),_u(e,te()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Eu(e,t){if(au())return null;zc(e,t,!0)}function Cu(){return 0===wu&&(wu=xe()),wu}function Tu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ct(""+e)}function Iu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Qu=0;Qu<wr.length;Qu++){var Au=wr[Qu];xr(Au.toLowerCase(),"on"+(Au[0].toUpperCase()+Au.slice(1)))}xr(fr,"onAnimationEnd"),xr(pr,"onAnimationIteration"),xr(mr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(gr,"onTransitionRun"),xr(vr,"onTransitionStart"),xr(Or,"onTransitionCancel"),xr(yr,"onTransitionEnd"),qe("onMouseEnter",["mouseout","mouseover"]),qe("onMouseLeave",["mouseout","mouseover"]),qe("onPointerEnter",["pointerout","pointerover"]),qe("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Du(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(e){va(e)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(e){va(e)}i.currentTarget=null,o=l}}}}function zu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(Lu(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),Lu(n,e,r,t)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Ru]){e[Ru]=!0,Ye.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||ju(t,!1,e),ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ru]||(t[Ru]=!0,ju("selectionchange",!1,t))}}function Lu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Rt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Le(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Dt(function(){var r=o,i=It(n),s=[];e:{var a=br.get(e);if(void 0!==a){var c=Jt,u=e;switch(e){case"keypress":if(0===Bt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=an;break;case yr:c=On;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&d.push(Xu(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!Le(u)&&!u[Ne])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Le(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:Xe(c),p=null==u?a:Xe(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=p,g=null,Le(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Bu(p))m++;for(p=0,g=f;g;g=Bu(g))p++;for(;0<m-p;)d=Bu(d),m--;for(;0<p-m;)f=Bu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Bu(d),f=Bu(f)}d=null}else d=null;null!==c&&Yu(s,a,c,d,!1),null!==u&&null!==h&&Yu(s,h,u,d,!0)}if("select"===(c=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=jn;else if(Qn(a))if(Rn)v=Fn;else{v=Yn;var O=Bn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&_t(r.elementType)&&(v=jn):v=Wn;switch(v&&(v=v(e,r))?An(s,v,n,i):(O&&O(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&Ot(a,"number",a.value)),O=r?Xe(r):window,e){case"focusin":(Qn(O)||"true"===O.contentEditable)&&(rr=O,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var y;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Tn?En(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Tn&&(y=Vt()):(Ut="value"in(Lt=i)?Lt.value:Lt.textContent,Tn=!0)),0<(O=Vu(r,b)).length&&(b=new cn(b,e,null,n,i),s.push({event:b,listeners:O}),y?b.data=y:null!==(y=Cn(n))&&(b.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return Cn(t);case"keypress":return 32!==t.which?null:(Pn=!0,_n);case"textInput":return(e=t.data)===_n&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!xn&&En(e,t)?(e=Vt(),Xt=Ut=Lt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Vu(r,"onBeforeInput")).length&&(O=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:O,listeners:b}),O.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Tu((i[Ae]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ae]||null)?Tu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Jt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=s?Iu(i,s):new FormData(i);Is(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(a.preventDefault(),e=s?Iu(i,s):new FormData(i),Is(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Du(s,t)})}function Xu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=zt(e,n))&&r.unshift(Xu(e,i,o)),null!=(i=zt(e,t))&&r.push(Xu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Bu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Yu(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=zt(n,o))&&s.unshift(Xu(n,c,l)):i||null!=(c=zt(n,o))&&s.push(Xu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wu=/\r\n?/g,Fu=/\u0000|\uFFFD/g;function qu(e){return("string"==typeof e?e:""+e).replace(Wu,"\n").replace(Fu,"")}function Gu(e,t){return t=qu(t),qu(e)===t}function Hu(){}function Ku(e,t,n,r,i,o){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":$t(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&Ku(e,t,"name",i.name,i,null),Ku(e,t,"formEncType",i.formEncType,i,null),Ku(e,t,"formMethod",i.formMethod,i,null),Ku(e,t,"formTarget",i.formTarget,i,null)):(Ku(e,t,"encType",i.encType,i,null),Ku(e,t,"method",i.method,i,null),Ku(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":zu("beforetoggle",e),zu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Pt.get(n)||n,r)}}function Ju(e,t,n,r,i,o){switch(n){case"style":$t(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof r?xt(e,r):("number"==typeof r||"bigint"==typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Ae]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zu("error",e),zu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ku(e,t,r,a,n,null)}}return o&&Ku(e,t,"srcSet",n.srcSet,n,null),void(i&&Ku(e,t,"src",n.src,n,null));case"input":zu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ku(e,t,i,d,n,null)}}return vt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in zu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ku(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?yt(e,!!i,t,!1):null!=n&&yt(e,!!i,n,!0));case"textarea":for(a in zu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ku(e,t,a,l,n,null)}return wt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else Ku(e,t,c,i,n,null);return;case"dialog":zu("beforetoggle",e),zu("toggle",e),zu("cancel",e),zu("close",e);break;case"iframe":case"object":zu("load",e);break;case"video":case"audio":for(i=0;i<Nu.length;i++)zu(Nu[i],e);break;case"image":zu("error",e),zu("load",e);break;case"details":zu("toggle",e);break;case"embed":case"source":case"link":zu("error",e),zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ku(e,t,u,i,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Ju(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ku(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"==typeof setTimeout?setTimeout:void 0,cd="function"==typeof clearTimeout?clearTimeout:void 0,ud="function"==typeof Promise?Promise:void 0,dd="function"==typeof queueMicrotask?queueMicrotask:void 0!==ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wd(s.documentElement),2&n&&wd(s.body),4&n)for(wd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Re]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Ph(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ph(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var Od=null;function yd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ze(e)}var xd=new Map,Sd=new Set;function kd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var $d=M.d;M.d={f:function(){var e=$d.f(),t=Lc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?As(t):$d.r(e)},D:function(e){$d.D(e),Pd("dns-prefetch",e,null)},C:function(e,t){$d.C(e,t),Pd("preconnect",e,t)},L:function(e,t,n){$d.L(e,t,n);var r=_d;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Cd(e);break;case"script":o=Qd(e)}xd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),xd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Td(o))||"script"===t&&r.querySelector(Ad(o))||(ed(t=r.createElement("link"),"link",e),Be(t),r.head.appendChild(t)))}},m:function(e,t){$d.m(e,t);var n=_d;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Qd(e)}if(!xd.has(o)&&(e=h({rel:"modulepreload",href:e},t),xd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ad(o)))return}ed(r=n.createElement("link"),"link",e),Be(r),n.head.appendChild(r)}}},X:function(e,t){$d.X(e,t);var n=_d;if(n&&e){var r=Ve(n).hoistableScripts,i=Qd(e),o=r.get(i);o||((o=n.querySelector(Ad(i)))||(e=h({src:e,async:!0},t),(t=xd.get(i))&&zd(e,t),Be(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){$d.S(e,t,n);var r=_d;if(r&&e){var i=Ve(r).hoistableStyles,o=Cd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Td(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xd.get(o))&&Dd(e,n);var l=s=r.createElement("link");Be(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Md(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){$d.M(e,t);var n=_d;if(n&&e){var r=Ve(n).hoistableScripts,i=Qd(e),o=r.get(i);o||((o=n.querySelector(Ad(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=xd.get(i))&&zd(e,t),Be(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var _d="undefined"==typeof document?null:document;function Pd(e,t,n){var r=_d;if(r&&"string"==typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Sd.has(i)||(Sd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),Be(t),r.head.appendChild(t)))}}function Ed(e,t,n,r){var i,o,a,l,c=(c=V.current)?kd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Cd(n.href),(r=(n=Ve(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Cd(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),xd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xd.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",a),Be(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Qd(n),(r=(n=Ve(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cd(e){return'href="'+mt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+mt(e)+'"]'}function Ad(e){return"script[async]"+e}function Nd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Be(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Be(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Cd(n.href);var o=e.querySelector(Td(i));if(o)return t.state.loading|=4,t.instance=o,Be(o),o;r=Id(n),(i=xd.get(i))&&Dd(r,i),Be(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",r),t.state.loading|=4,Md(o,n.precedence,e),t.instance=o;case"script":return o=Qd(n.src),(i=e.querySelector(Ad(o)))?(t.instance=i,Be(i),i):(r=n,(i=xd.get(o))&&zd(r=h({},n),i),Be(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jd=null;function Rd(e,t,n){if(null===jd){var r=new Map,i=jd=new Map;i.set(n,r)}else(r=(i=jd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Re]||o[Qe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ld(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Ud=null;function Xd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Bd=null;function Yd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Bd=new Map,t.forEach(Wd,e),Bd=null,Vd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Bd.get(e);if(n)var r=n.get(null);else{n=new Map,Bd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Vd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Fd={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function qd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Gd(e,t,n,r,i,o,s,a,l,c,u,d){return e=new qd(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Dr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ai()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Hd(e){return e?e=Nr:Nr}function Kd(e,t,n,r,i,o){i=Hd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Dc(n,0,t),so(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function th(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Dc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=N.T;N.T=null;var o=M.p;try{M.p=2,oh(e,t,n,r)}finally{M.p=o,N.T=i}}function ih(e,t,n,r){var i=N.T;N.T=null;var o=M.p;try{M.p=8,oh(e,t,n,r)}finally{M.p=o,N.T=i}}function oh(e,t,n,r){if(nh){var i=sh(r);if(null===i)Uu(e,t,r,ah,n),Oh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=yh(dh,e,t,n,r,i),!0;case"dragenter":return hh=yh(hh,e,t,n,r,i),!0;case"mouseover":return fh=yh(fh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ph.set(o,yh(ph.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mh.set(o,yh(mh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Oh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var o=Ue(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Oe(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fe(s);a.entanglements[1]|=l,s&=~l}xu(o),!(6&nc)&&(xc=te()+500,Su(0,!1))}}break;case 13:null!==(a=Ir(o,2))&&Dc(a,0,2),Lc(),eh(o,2)}if(null===(o=sh(r))&&Uu(e,t,r,ah,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function sh(e){return lh(e=It(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Le(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function yh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function bh(e){var t=Le(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Nc();e=Ee(e);var t=Ir(n,e);null!==t&&Dc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function xh(e,t,n){wh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(xh),mh.forEach(xh)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var $h=null;function _h(e){$h!==e&&($h=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$h===e&&($h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===lh(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,Is(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ph(e){function t(t){return kh(t,e)}null!==dh&&kh(dh,e),null!==hh&&kh(hh,e),null!==fh&&kh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)bh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ae]||null;if("function"==typeof o)s||_h(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ae]||null)a=s.formAction;else if(null!==lh(i))continue}else a=s.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),_h(n)}}}function Eh(e){this._internalRoot=e}function Ch(e){this._internalRoot=e}Ch.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kd(t.current,Nc(),e,t,null,null)},Ch.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Kd(e.current,2,null,e,null,null),Lc(),t[Ne]=null}},Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&bh(e)}};var Th=i.version;if("19.1.1"!==Th)throw Error(s(527,Th,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ue=Qh.inject(Ih),de=Qh}catch(e){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Oa,o=ya,l=ba;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Gd(e,1,!1,null,0,n,r,i,o,l,0,null),e[Ne]=t.current,Zu(e),new Eh(t)}},338:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},477:(e,t)=>{
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,O="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,k||(k=!0,S());else{var t=r(u);null!==t&&Q(x,t.startTime-e)}}var S,k=!1,$=-1,_=5,P=-1;function E(){return!!v||!(t.unstable_now()-P<_)}function C(){if(v=!1,k){var e=t.unstable_now();P=e;var n=!0;try{e:{m=!1,g&&(g=!1,y($),$=-1),p=!0;var o=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&E());){var s=h.callback;if("function"==typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){h.callback=a,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&Q(x,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?S():k=!1}}}if("function"==typeof b)S=function(){b(C)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=C,S=function(){I.postMessage(null)}}else S=function(){O(C,0)};function Q(e,n){$=O(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y($),$=-1):g=!0,Q(x,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,k||(k=!0,S()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},493:(e,t,n)=>{
/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),s(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},540:(e,t,n)=>{e.exports=n(869)},698:(e,t)=>{
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},848:(e,t,n)=>{e.exports=n(698)},869:(e,t)=>{
/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function O(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=v.prototype;var b=y.prototype=new O;b.constructor=y,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function k(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function $(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function E(){}function C(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return C((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+P(e,0):o,w(s)?(i="",null!=u&&(i=u.replace(_,"$&/")+"/"),C(s,t,i,"",function(e){return e})):null!=s&&($(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=C(o=e[m],t,i,a=p+P(o,m),s);else if("function"==typeof(m=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=C(o=o.value,t,i,a=p+P(o,m++),s);else if("object"===a){if("function"==typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Q="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!$(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=$,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(A,Q)}catch(e){Q(e)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=x.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.1"},888:(e,t,n)=>{e.exports=n(493)},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},982:(e,t,n)=>{e.exports=n(477)}},v={};function O(e){var t=v[e];if(void 0!==t)return t.exports;var n=v[e]={exports:{}};return g[e](n,n.exports,O),n.exports}O.d=(e,t)=>{for(var n in t)O.o(t,n)&&!O.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},O.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),O.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var y={};O.r(y),O.d(y,{BIGINT_FORMAT_RANGES:()=>jh,Class:()=>af,NUMBER_FORMAT_RANGES:()=>zh,aborted:()=>Yh,allowsEval:()=>kh,assert:()=>ih,assertEqual:()=>eh,assertIs:()=>nh,assertNever:()=>rh,assertNotEqual:()=>th,assignProp:()=>mh,base64ToUint8Array:()=>ef,base64urlToUint8Array:()=>nf,cached:()=>lh,captureStackTrace:()=>xh,cleanEnum:()=>Jh,cleanRegex:()=>uh,clone:()=>Qh,cloneDef:()=>vh,createTransparentProxy:()=>Nh,defineLazy:()=>fh,esc:()=>wh,escapeRegex:()=>Ih,extend:()=>Lh,finalizeIssue:()=>qh,floatSafeRemainder:()=>dh,getElementAtPath:()=>Oh,getEnumValues:()=>oh,getLengthableOrigin:()=>Hh,getParsedType:()=>Eh,getSizableOrigin:()=>Gh,hexToUint8Array:()=>of,isObject:()=>Sh,isPlainObject:()=>$h,issue:()=>Kh,joinValues:()=>sh,jsonStringifyReplacer:()=>ah,merge:()=>Xh,mergeDefs:()=>gh,normalizeParams:()=>Ah,nullish:()=>ch,numKeys:()=>Ph,objectClone:()=>ph,omit:()=>Zh,optionalKeys:()=>Dh,partial:()=>Vh,pick:()=>Rh,prefixIssues:()=>Wh,primitiveTypes:()=>Th,promiseAllObject:()=>yh,propertyKeyTypes:()=>Ch,randomString:()=>bh,required:()=>Bh,safeExtend:()=>Uh,shallowClone:()=>_h,stringifyPrimitive:()=>Mh,uint8ArrayToBase64:()=>tf,uint8ArrayToBase64url:()=>rf,uint8ArrayToHex:()=>sf,unwrapMessage:()=>Fh});var b={};O.r(b),O.d(b,{base64:()=>dp,base64url:()=>hp,bigint:()=>xp,boolean:()=>$p,browserEmail:()=>ip,cidrv4:()=>cp,cidrv6:()=>up,cuid:()=>Zf,cuid2:()=>Lf,date:()=>vp,datetime:()=>bp,domain:()=>pp,duration:()=>Yf,e164:()=>mp,email:()=>Jf,emoji:()=>sp,extendedDuration:()=>Wf,guid:()=>Ff,hex:()=>Tp,hostname:()=>fp,html5Email:()=>ep,idnEmail:()=>rp,integer:()=>Sp,ipv4:()=>ap,ipv6:()=>lp,ksuid:()=>Vf,lowercase:()=>Ep,md5_base64:()=>Np,md5_base64url:()=>Mp,md5_hex:()=>Ap,nanoid:()=>Bf,null:()=>_p,number:()=>kp,rfc5322Email:()=>tp,sha1_base64:()=>zp,sha1_base64url:()=>jp,sha1_hex:()=>Dp,sha256_base64:()=>Zp,sha256_base64url:()=>Lp,sha256_hex:()=>Rp,sha384_base64:()=>Xp,sha384_base64url:()=>Vp,sha384_hex:()=>Up,sha512_base64:()=>Yp,sha512_base64url:()=>Wp,sha512_hex:()=>Bp,string:()=>wp,time:()=>yp,ulid:()=>Uf,undefined:()=>Pp,unicodeEmail:()=>np,uppercase:()=>Cp,uuid:()=>qf,uuid4:()=>Gf,uuid6:()=>Hf,uuid7:()=>Kf,xid:()=>Xf});var w={};O.r(w),O.d(w,{ar:()=>iv,az:()=>sv,be:()=>cv,ca:()=>dv,cs:()=>fv,da:()=>mv,de:()=>vv,en:()=>yv,eo:()=>wv,es:()=>Sv,fa:()=>$v,fi:()=>Pv,fr:()=>Cv,frCA:()=>Iv,he:()=>Av,hu:()=>Mv,id:()=>zv,is:()=>Rv,it:()=>Lv,ja:()=>Xv,ka:()=>Bv,kh:()=>Fv,km:()=>Wv,ko:()=>Gv,lt:()=>tO,mk:()=>rO,ms:()=>oO,nl:()=>aO,no:()=>cO,ota:()=>dO,pl:()=>mO,ps:()=>fO,pt:()=>vO,ru:()=>bO,sl:()=>xO,sv:()=>kO,ta:()=>_O,th:()=>EO,tr:()=>TO,ua:()=>AO,uk:()=>QO,ur:()=>MO,vi:()=>zO,yo:()=>XO,zhCN:()=>RO,zhTW:()=>LO});var x={};O.r(x);var S={};O.r(S),O.d(S,{$ZodAny:()=>ig,$ZodArray:()=>ug,$ZodAsyncError:()=>Gd,$ZodBase64:()=>Xm,$ZodBase64URL:()=>Bm,$ZodBigInt:()=>Jm,$ZodBigIntFormat:()=>eg,$ZodBoolean:()=>Km,$ZodCIDRv4:()=>Zm,$ZodCIDRv6:()=>Lm,$ZodCUID:()=>Cm,$ZodCUID2:()=>Tm,$ZodCatch:()=>Ug,$ZodCheck:()=>Fp,$ZodCheckBigIntFormat:()=>em,$ZodCheckEndsWith:()=>fm,$ZodCheckGreaterThan:()=>Hp,$ZodCheckIncludes:()=>dm,$ZodCheckLengthEquals:()=>sm,$ZodCheckLessThan:()=>Gp,$ZodCheckLowerCase:()=>cm,$ZodCheckMaxLength:()=>im,$ZodCheckMaxSize:()=>tm,$ZodCheckMimeType:()=>gm,$ZodCheckMinLength:()=>om,$ZodCheckMinSize:()=>nm,$ZodCheckMultipleOf:()=>Kp,$ZodCheckNumberFormat:()=>Jp,$ZodCheckOverwrite:()=>vm,$ZodCheckProperty:()=>mm,$ZodCheckRegex:()=>lm,$ZodCheckSizeEquals:()=>rm,$ZodCheckStartsWith:()=>hm,$ZodCheckStringFormat:()=>am,$ZodCheckUpperCase:()=>um,$ZodCodec:()=>Yg,$ZodCustom:()=>tv,$ZodCustomStringFormat:()=>qm,$ZodDate:()=>lg,$ZodDefault:()=>Dg,$ZodDiscriminatedUnion:()=>Og,$ZodE164:()=>Ym,$ZodEmail:()=>$m,$ZodEmoji:()=>Pm,$ZodEncodeError:()=>Hd,$ZodEnum:()=>Cg,$ZodError:()=>cf,$ZodFile:()=>Ig,$ZodFunction:()=>Kg,$ZodGUID:()=>Sm,$ZodIPv4:()=>jm,$ZodIPv6:()=>Rm,$ZodISODate:()=>Mm,$ZodISODateTime:()=>Nm,$ZodISODuration:()=>zm,$ZodISOTime:()=>Dm,$ZodIntersection:()=>yg,$ZodJWT:()=>Fm,$ZodKSUID:()=>Am,$ZodLazy:()=>ev,$ZodLiteral:()=>Tg,$ZodMap:()=>$g,$ZodNaN:()=>Xg,$ZodNanoID:()=>Em,$ZodNever:()=>sg,$ZodNonOptional:()=>Rg,$ZodNull:()=>rg,$ZodNullable:()=>Mg,$ZodNumber:()=>Gm,$ZodNumberFormat:()=>Hm,$ZodObject:()=>pg,$ZodObjectJIT:()=>mg,$ZodOptional:()=>Ng,$ZodPipe:()=>Vg,$ZodPrefault:()=>jg,$ZodPromise:()=>Jg,$ZodReadonly:()=>qg,$ZodRealError:()=>uf,$ZodRecord:()=>kg,$ZodRegistry:()=>YO,$ZodSet:()=>Pg,$ZodString:()=>wm,$ZodStringFormat:()=>xm,$ZodSuccess:()=>Lg,$ZodSymbol:()=>tg,$ZodTemplateLiteral:()=>Hg,$ZodTransform:()=>Qg,$ZodTuple:()=>xg,$ZodType:()=>bm,$ZodULID:()=>Im,$ZodURL:()=>_m,$ZodUUID:()=>km,$ZodUndefined:()=>ng,$ZodUnion:()=>vg,$ZodUnknown:()=>og,$ZodVoid:()=>ag,$ZodXID:()=>Qm,$brand:()=>qd,$constructor:()=>Fd,$input:()=>BO,$output:()=>VO,Doc:()=>Om,JSONSchema:()=>x,JSONSchemaGenerator:()=>Hb,NEVER:()=>Wd,TimePrecision:()=>yy,_any:()=>Zy,_array:()=>wb,_base64:()=>my,_base64url:()=>gy,_bigint:()=>Ay,_boolean:()=>Iy,_catch:()=>Rb,_check:()=>Fb,_cidrv4:()=>fy,_cidrv6:()=>py,_coercedBigint:()=>Ny,_coercedBoolean:()=>Qy,_coercedDate:()=>By,_coercedNumber:()=>$y,_coercedString:()=>GO,_cuid:()=>sy,_cuid2:()=>ay,_custom:()=>Bb,_date:()=>Vy,_decode:()=>_f,_decodeAsync:()=>Tf,_default:()=>Db,_discriminatedUnion:()=>Sb,_e164:()=>vy,_email:()=>HO,_emoji:()=>iy,_encode:()=>kf,_encodeAsync:()=>Ef,_endsWith:()=>fb,_enum:()=>Cb,_file:()=>Qb,_float32:()=>Py,_float64:()=>Ey,_gt:()=>qy,_gte:()=>Gy,_guid:()=>KO,_includes:()=>db,_int:()=>_y,_int32:()=>Cy,_int64:()=>My,_intersection:()=>kb,_ipv4:()=>dy,_ipv6:()=>hy,_isoDate:()=>wy,_isoDateTime:()=>by,_isoDuration:()=>Sy,_isoTime:()=>xy,_jwt:()=>Oy,_ksuid:()=>uy,_lazy:()=>Xb,_length:()=>ab,_literal:()=>Ib,_lowercase:()=>cb,_lt:()=>Wy,_lte:()=>Fy,_map:()=>Pb,_max:()=>Fy,_maxLength:()=>ob,_maxSize:()=>nb,_mime:()=>mb,_min:()=>Gy,_minLength:()=>sb,_minSize:()=>rb,_multipleOf:()=>tb,_nan:()=>Yy,_nanoid:()=>oy,_nativeEnum:()=>Tb,_negative:()=>Ky,_never:()=>Uy,_nonnegative:()=>eb,_nonoptional:()=>zb,_nonpositive:()=>Jy,_normalize:()=>vb,_null:()=>Ry,_nullable:()=>Mb,_number:()=>ky,_optional:()=>Nb,_overwrite:()=>gb,_parse:()=>gf,_parseAsync:()=>Of,_pipe:()=>Zb,_positive:()=>Hy,_promise:()=>Vb,_property:()=>pb,_readonly:()=>Lb,_record:()=>_b,_refine:()=>Yb,_regex:()=>lb,_safeDecode:()=>Nf,_safeDecodeAsync:()=>jf,_safeEncode:()=>Qf,_safeEncodeAsync:()=>Df,_safeParse:()=>bf,_safeParseAsync:()=>xf,_set:()=>Eb,_size:()=>ib,_startsWith:()=>hb,_string:()=>qO,_stringFormat:()=>Gb,_stringbool:()=>qb,_success:()=>jb,_superRefine:()=>Wb,_symbol:()=>zy,_templateLiteral:()=>Ub,_toLowerCase:()=>yb,_toUpperCase:()=>bb,_transform:()=>Ab,_trim:()=>Ob,_tuple:()=>$b,_uint32:()=>Ty,_uint64:()=>Dy,_ulid:()=>ly,_undefined:()=>jy,_union:()=>xb,_unknown:()=>Ly,_uppercase:()=>ub,_url:()=>ry,_uuid:()=>JO,_uuidv4:()=>ey,_uuidv6:()=>ty,_uuidv7:()=>ny,_void:()=>Xy,_xid:()=>cy,clone:()=>Qh,config:()=>Jd,decode:()=>Pf,decodeAsync:()=>If,encode:()=>$f,encodeAsync:()=>Cf,flattenError:()=>df,formatError:()=>hf,globalConfig:()=>Kd,globalRegistry:()=>FO,isValidBase64:()=>Um,isValidBase64URL:()=>Vm,isValidJWT:()=>Wm,locales:()=>w,parse:()=>vf,parseAsync:()=>yf,prettifyError:()=>mf,regexes:()=>b,registry:()=>WO,safeDecode:()=>Mf,safeDecodeAsync:()=>Rf,safeEncode:()=>Af,safeEncodeAsync:()=>zf,safeParse:()=>wf,safeParseAsync:()=>Sf,toDotPath:()=>pf,toJSONSchema:()=>Kb,treeifyError:()=>ff,util:()=>y,version:()=>ym});var k={};O.r(k),O.d(k,{ZodISODate:()=>nw,ZodISODateTime:()=>ew,ZodISODuration:()=>sw,ZodISOTime:()=>iw,date:()=>rw,datetime:()=>tw,duration:()=>aw,time:()=>ow});var $={};O.r($),O.d($,{bigint:()=>xk,boolean:()=>wk,date:()=>Sk,number:()=>bk,string:()=>yk});var _={};O.r(_),O.d(_,{$brand:()=>qd,$input:()=>BO,$output:()=>VO,NEVER:()=>Wd,TimePrecision:()=>yy,ZodAny:()=>Ux,ZodArray:()=>Kx,ZodBase64:()=>lx,ZodBase64URL:()=>ux,ZodBigInt:()=>Ix,ZodBigIntFormat:()=>Ax,ZodBoolean:()=>Cx,ZodCIDRv4:()=>ix,ZodCIDRv6:()=>sx,ZodCUID:()=>Vw,ZodCUID2:()=>Yw,ZodCatch:()=>US,ZodCodec:()=>FS,ZodCustom:()=>sk,ZodCustomStringFormat:()=>gx,ZodDate:()=>Gx,ZodDefault:()=>NS,ZodDiscriminatedUnion:()=>aS,ZodE164:()=>hx,ZodEmail:()=>Ew,ZodEmoji:()=>Zw,ZodEnum:()=>bS,ZodError:()=>cw,ZodFile:()=>$S,ZodFirstPartyTypeKind:()=>Ok,ZodFunction:()=>ik,ZodGUID:()=>Tw,ZodIPv4:()=>ex,ZodIPv6:()=>nx,ZodISODate:()=>nw,ZodISODateTime:()=>ew,ZodISODuration:()=>sw,ZodISOTime:()=>iw,ZodIntersection:()=>cS,ZodIssueCode:()=>mk,ZodJWT:()=>px,ZodKSUID:()=>Kw,ZodLazy:()=>ek,ZodLiteral:()=>SS,ZodMap:()=>gS,ZodNaN:()=>VS,ZodNanoID:()=>Uw,ZodNever:()=>Yx,ZodNonOptional:()=>jS,ZodNull:()=>Zx,ZodNullable:()=>IS,ZodNumber:()=>wx,ZodNumberFormat:()=>Sx,ZodObject:()=>tS,ZodOptional:()=>CS,ZodPipe:()=>YS,ZodPrefault:()=>DS,ZodPromise:()=>nk,ZodReadonly:()=>GS,ZodRealError:()=>uw,ZodRecord:()=>fS,ZodSet:()=>OS,ZodString:()=>$w,ZodStringFormat:()=>Pw,ZodSuccess:()=>ZS,ZodSymbol:()=>Dx,ZodTemplateLiteral:()=>KS,ZodTransform:()=>PS,ZodTuple:()=>dS,ZodType:()=>Sw,ZodULID:()=>Fw,ZodURL:()=>zw,ZodUUID:()=>Qw,ZodUndefined:()=>jx,ZodUnion:()=>oS,ZodUnknown:()=>Vx,ZodVoid:()=>Fx,ZodXID:()=>Gw,_ZodString:()=>kw,_default:()=>MS,_function:()=>ok,any:()=>Xx,array:()=>Jx,base64:()=>cx,base64url:()=>dx,bigint:()=>Qx,boolean:()=>Tx,catch:()=>XS,check:()=>ak,cidrv4:()=>ox,cidrv6:()=>ax,clone:()=>Qh,codec:()=>qS,coerce:()=>$,config:()=>Jd,core:()=>S,cuid:()=>Bw,cuid2:()=>Ww,custom:()=>lk,date:()=>Hx,decode:()=>gw,decodeAsync:()=>Ow,discriminatedUnion:()=>lS,e164:()=>fx,email:()=>Cw,emoji:()=>Lw,encode:()=>mw,encodeAsync:()=>vw,endsWith:()=>fb,enum:()=>wS,file:()=>_S,flattenError:()=>df,float32:()=>$x,float64:()=>_x,formatError:()=>hf,function:()=>ok,getErrorMap:()=>vk,globalRegistry:()=>FO,gt:()=>qy,gte:()=>Gy,guid:()=>Iw,hash:()=>bx,hex:()=>yx,hostname:()=>Ox,httpUrl:()=>Rw,includes:()=>db,instanceof:()=>dk,int:()=>kx,int32:()=>Px,int64:()=>Nx,intersection:()=>uS,ipv4:()=>tx,ipv6:()=>rx,iso:()=>k,json:()=>fk,jwt:()=>mx,keyof:()=>eS,ksuid:()=>Jw,lazy:()=>tk,length:()=>ab,literal:()=>kS,locales:()=>w,looseObject:()=>iS,lowercase:()=>cb,lt:()=>Wy,lte:()=>Fy,map:()=>vS,maxLength:()=>ob,maxSize:()=>nb,mime:()=>mb,minLength:()=>sb,minSize:()=>rb,multipleOf:()=>tb,nan:()=>BS,nanoid:()=>Xw,nativeEnum:()=>xS,negative:()=>Ky,never:()=>Wx,nonnegative:()=>eb,nonoptional:()=>RS,nonpositive:()=>Jy,normalize:()=>vb,null:()=>Lx,nullable:()=>QS,nullish:()=>AS,number:()=>xx,object:()=>nS,optional:()=>TS,overwrite:()=>gb,parse:()=>dw,parseAsync:()=>hw,partialRecord:()=>mS,pipe:()=>WS,positive:()=>Hy,prefault:()=>zS,preprocess:()=>pk,prettifyError:()=>mf,promise:()=>rk,property:()=>pb,readonly:()=>HS,record:()=>pS,refine:()=>ck,regex:()=>lb,regexes:()=>b,registry:()=>WO,safeDecode:()=>bw,safeDecodeAsync:()=>xw,safeEncode:()=>yw,safeEncodeAsync:()=>ww,safeParse:()=>fw,safeParseAsync:()=>pw,set:()=>yS,setErrorMap:()=>gk,size:()=>ib,startsWith:()=>hb,strictObject:()=>rS,string:()=>_w,stringFormat:()=>vx,stringbool:()=>hk,success:()=>LS,superRefine:()=>uk,symbol:()=>zx,templateLiteral:()=>JS,toJSONSchema:()=>Kb,toLowerCase:()=>yb,toUpperCase:()=>bb,transform:()=>ES,treeifyError:()=>ff,trim:()=>Ob,tuple:()=>hS,uint32:()=>Ex,uint64:()=>Mx,ulid:()=>qw,undefined:()=>Rx,union:()=>sS,unknown:()=>Bx,uppercase:()=>ub,url:()=>jw,util:()=>y,uuid:()=>Aw,uuidv4:()=>Nw,uuidv6:()=>Mw,uuidv7:()=>Dw,void:()=>qx,xid:()=>Hw});var P=O(848),E=O(540),C=O(338);const T=({children:e,className:t,overrideDefaults:n=!1,...r})=>{const i=(0,E.useMemo)(()=>{const e=[];return n||e.push("menu_button","interactable"),e.push(t),e.filter(Boolean).join(" ")},[n,t]);return(0,P.jsx)("button",{className:i,...r,children:e})},I=({label:e,className:t,overrideDefaults:n=!1,type:r="text",...i})=>{const o=(0,E.useMemo)(()=>{const e=[];return n||"text"!==r&&"number"!==r&&"password"!==r&&"email"!==r&&"search"!==r||e.push("text_pole"),e.push(t),e.filter(Boolean).join(" ")},[n,t,r]);if("checkbox"===r){const r=n?t:`checkbox_label ${t??""}`.trim();return(0,P.jsxs)("label",{className:r,children:[(0,P.jsx)("input",{type:"checkbox",...i}),e&&(0,P.jsx)("span",{children:e})]})}return(0,P.jsx)("input",{type:r,className:o,...i})},Q=({children:e,className:t,overrideDefaults:n=!1,...r})=>{const i=(0,E.useMemo)(()=>{const e=[];return n||e.push("text_pole"),e.push(t),e.filter(Boolean).join(" ")},[n,t]);return(0,P.jsx)("select",{className:i,...r,children:e})},A=({children:e,className:t,overrideDefaults:n=!1,...r})=>{const i=(0,E.useMemo)(()=>{const e=[];return n||e.push("text_pole","textarea_compact"),e.push(t),e.filter(Boolean).join(" ")},[n,t]);return(0,P.jsx)("textarea",{className:i,...r,children:e})};var N,M,D=O(961);!function(e){e[e.TEXT=1]="TEXT",e[e.CONFIRM=2]="CONFIRM",e[e.INPUT=3]="INPUT",e[e.DISPLAY=4]="DISPLAY"}(N||(N={})),function(e){e[e.AFFIRMATIVE=1]="AFFIRMATIVE",e[e.NEGATIVE=0]="NEGATIVE",e[e.CANCELLED=null]="CANCELLED"}(M||(M={}));const z=(e=>{var t={};return O.d(t,e),t})({persona_description_positions:()=>e.persona_description_positions,renderStoryString:()=>e.renderStoryString});const j=(e=>{var t={};return O.d(t,e),t})({baseChatReplace:()=>t.baseChatReplace,chat_metadata:()=>t.chat_metadata,depth_prompt_depth_default:()=>t.depth_prompt_depth_default,depth_prompt_role_default:()=>t.depth_prompt_role_default,extension_prompt_types:()=>t.extension_prompt_types,getMaxContextSize:()=>t.getMaxContextSize,name1:()=>t.name1,name2:()=>t.name2,parseMesExamples:()=>t.parseMesExamples,this_chid:()=>t.this_chid});const R=(e=>{var t={};return O.d(t,e),t})({wi_anchor_position:()=>n.wi_anchor_position,world_info_include_names:()=>n.world_info_include_names});(e=>{var t={};O.d(t,e)})({});(e=>{var t={};O.d(t,e)})({});const Z=(e=>{var t={};return O.d(t,e),t})({formatInstructModeExamples:()=>o.formatInstructModeExamples,formatInstructModeSystemPrompt:()=>o.formatInstructModeSystemPrompt});const L=(e=>{var t={};return O.d(t,e),t})({appendFileContent:()=>s.appendFileContent});const U=(e=>{var t={};return O.d(t,e),t})({formatWorldInfo:()=>a.formatWorldInfo,getPromptPosition:()=>a.getPromptPosition,getPromptRole:()=>a.getPromptRole,prepareOpenAIMessages:()=>a.prepareOpenAIMessages,setOpenAIMessageExamples:()=>a.setOpenAIMessageExamples,setOpenAIMessages:()=>a.setOpenAIMessages});const X=(e=>{var t={};return O.d(t,e),t})({metadata_keys:()=>l.metadata_keys});const V=(e=>{var t={};return O.d(t,e),t})({getGroupDepthPrompts:()=>c.getGroupDepthPrompts,selected_group:()=>c.selected_group});const B=(e=>{var t={};return O.d(t,e),t})({getRegexedString:()=>u.getRegexedString,regex_placement:()=>u.regex_placement});const Y=(e=>{var t={};return O.d(t,e),t})({removeFromArray:()=>d.removeFromArray,runAfterAnimation:()=>d.runAfterAnimation});(e=>{var t={};O.d(t,e)})({});(e=>{var t={};O.d(t,e)})({});const W=(e=>{var t={};return O.d(t,e),t})({Popup:()=>p.Popup,fixToastrForDialogs:()=>p.fixToastrForDialogs});const F=(e=>{var t={};return O.d(t,e),t})({default:()=>m.default});var q;async function G(e,t,{escapeHtml:n=!0}={}){await async function(e,...t){await SillyTavern.getContext().SlashCommandParser.commands[e].callback(...t)}("echo",{severity:e,escapeHtml:Boolean(n).toString()},t)}function H(e){return(0,j.getMaxContextSize)(e)}function K(e,t){return(0,j.parseMesExamples)(e,t)}function J(e,t,n){return(0,j.baseChatReplace)(e,t,n)}function ee(e){return(0,U.getPromptRole)(e)}function te(e,{wiFormat:t}={}){return(0,U.formatWorldInfo)(e,{wiFormat:t})}function ne(e){return(0,U.getPromptPosition)(e)}!function(e){e.APP_READY="app_ready",e.EXTRAS_CONNECTED="extras_connected",e.MESSAGE_SWIPED="message_swiped",e.MESSAGE_SENT="message_sent",e.MESSAGE_RECEIVED="message_received",e.MESSAGE_EDITED="message_edited",e.MESSAGE_DELETED="message_deleted",e.MESSAGE_UPDATED="message_updated",e.MESSAGE_FILE_EMBEDDED="message_file_embedded",e.MORE_MESSAGES_LOADED="more_messages_loaded",e.IMPERSONATE_READY="impersonate_ready",e.CHAT_CHANGED="chat_id_changed",e.GENERATION_AFTER_COMMANDS="GENERATION_AFTER_COMMANDS",e.GENERATION_STARTED="generation_started",e.GENERATION_STOPPED="generation_stopped",e.GENERATION_ENDED="generation_ended",e.EXTENSIONS_FIRST_LOAD="extensions_first_load",e.EXTENSION_SETTINGS_LOADED="extension_settings_loaded",e.SETTINGS_LOADED="settings_loaded",e.SETTINGS_UPDATED="settings_updated",e.GROUP_UPDATED="group_updated",e.MOVABLE_PANELS_RESET="movable_panels_reset",e.SETTINGS_LOADED_BEFORE="settings_loaded_before",e.SETTINGS_LOADED_AFTER="settings_loaded_after",e.CHATCOMPLETION_SOURCE_CHANGED="chatcompletion_source_changed",e.CHATCOMPLETION_MODEL_CHANGED="chatcompletion_model_changed",e.OAI_PRESET_CHANGED_BEFORE="oai_preset_changed_before",e.OAI_PRESET_CHANGED_AFTER="oai_preset_changed_after",e.OAI_PRESET_EXPORT_READY="oai_preset_export_ready",e.OAI_PRESET_IMPORT_READY="oai_preset_import_ready",e.WORLDINFO_SETTINGS_UPDATED="worldinfo_settings_updated",e.WORLDINFO_UPDATED="worldinfo_updated",e.CHARACTER_EDITED="character_edited",e.CHARACTER_PAGE_LOADED="character_page_loaded",e.CHARACTER_GROUP_OVERLAY_STATE_CHANGE_BEFORE="character_group_overlay_state_change_before",e.CHARACTER_GROUP_OVERLAY_STATE_CHANGE_AFTER="character_group_overlay_state_change_after",e.USER_MESSAGE_RENDERED="user_message_rendered",e.CHARACTER_MESSAGE_RENDERED="character_message_rendered",e.FORCE_SET_BACKGROUND="force_set_background",e.CHAT_DELETED="chat_deleted",e.CHAT_CREATED="chat_created",e.GROUP_CHAT_DELETED="group_chat_deleted",e.GROUP_CHAT_CREATED="group_chat_created",e.GENERATE_BEFORE_COMBINE_PROMPTS="generate_before_combine_prompts",e.GENERATE_AFTER_COMBINE_PROMPTS="generate_after_combine_prompts",e.GENERATE_AFTER_DATA="generate_after_data",e.GROUP_MEMBER_DRAFTED="group_member_drafted",e.GROUP_WRAPPER_STARTED="group_wrapper_started",e.GROUP_WRAPPER_FINISHED="group_wrapper_finished",e.WORLD_INFO_ACTIVATED="world_info_activated",e.TEXT_COMPLETION_SETTINGS_READY="text_completion_settings_ready",e.CHAT_COMPLETION_SETTINGS_READY="chat_completion_settings_ready",e.CHAT_COMPLETION_PROMPT_READY="chat_completion_prompt_ready",e.CHARACTER_FIRST_MESSAGE_SELECTED="character_first_message_selected",e.CHARACTER_DELETED="characterDeleted",e.CHARACTER_DUPLICATED="character_duplicated",e.CHARACTER_RENAMED="character_renamed",e.SMOOTH_STREAM_TOKEN_RECEIVED="stream_token_received",e.STREAM_TOKEN_RECEIVED="stream_token_received",e.STREAM_REASONING_DONE="stream_reasoning_done",e.FILE_ATTACHMENT_DELETED="file_attachment_deleted",e.WORLDINFO_FORCE_ACTIVATE="worldinfo_force_activate",e.OPEN_CHARACTER_LIBRARY="open_character_library",e.ONLINE_STATUS_CHANGED="online_status_changed",e.IMAGE_SWIPED="image_swiped",e.CONNECTION_PROFILE_LOADED="connection_profile_loaded",e.TOOL_CALLS_PERFORMED="tool_calls_performed",e.TOOL_CALLS_RENDERED="tool_calls_rendered"}(q||(q={}));const re=SillyTavern.getContext(),ie=({content:e,type:t,inputValue:n="",options:r={},onComplete:i})=>{const o=(0,E.useRef)(null),s=(0,E.useRef)(null),[a,l]=(0,E.useState)(!1),[c,u]=(0,E.useState)(null),d=(0,E.useRef)(re.uuidv4()),h=(0,E.useRef)({id:d.current,type:t,dlg:null,mainInput:null,lastFocus:null,value:void 0,result:void 0,inputResults:void 0});(0,E.useEffect)(()=>{const e=o.current;if(e){if(h.current.dlg=e,h.current.mainInput=s.current,W.Popup.util.popups.push(h.current),!e.showModal){e.classList.add("poly_dialog"),F.default.registerDialog(e);new ResizeObserver(e=>{for(const t of e)F.default.reposition(t.target)}).observe(e)}return e.showModal(),(0,W.fixToastrForDialogs)(),()=>{(0,Y.removeFromArray)(W.Popup.util.popups,h.current),(0,W.fixToastrForDialogs)()}}},[]);const f=async e=>{let n=e;if(t===N.INPUT&&(n=e>=M.AFFIRMATIVE?s.current?.value:e!==M.NEGATIVE&&(e===M.CANCELLED&&null)),r.customInputs?.length){const e=new Map(r.customInputs.map(e=>{const t=o.current?.querySelector(`#${e.id}`);return[t.id,t.checked]}));h.current.inputResults=e}if(h.current.result=e,h.current.value=n,r.onClosing){if(!await r.onClosing(h.current))return l(!0),h.current.value=void 0,h.current.result=void 0,void(h.current.inputResults=void 0)}l(!1),W.Popup.util.lastResult={value:n,result:e,inputResults:h.current.inputResults};const a=o.current;a&&(a.setAttribute("closing",""),(0,W.fixToastrForDialogs)(),(0,Y.runAfterAnimation)(a,async()=>{if(a.close(),r.onClose&&await r.onClose(h.current),(0,Y.removeFromArray)(W.Popup.util.popups,h.current),W.Popup.util.popups.length>0){const e=document.activeElement?.closest(".popup"),t=e?.getAttribute("data-id"),n=W.Popup.util.popups.find(e=>e.id===t);n&&n.lastFocus&&n.lastFocus.focus()}i(n)}))};return(0,D.createPortal)((0,P.jsx)("dialog",{ref:o,className:(()=>{const e=["popup"];return r.wide&&e.push("wide_dialogue_popup"),r.wider&&e.push("wider_dialogue_popup"),r.large&&e.push("large_dialogue_popup"),r.transparent&&e.push("transparent_dialogue_popup"),r.allowHorizontalScrolling&&e.push("horizontal_scrolling_dialogue_popup"),r.allowVerticalScrolling&&e.push("vertical_scrolling_dialogue_popup"),r.animation&&e.push(`popup--animation-${r.animation}`),e.join(" ")})(),"data-id":d.current,onKeyDown:async e=>{},onFocus:e=>{e.target instanceof HTMLElement&&e.target!==o.current&&(u(e.target),h.current.lastFocus=e.target)},children:(0,P.jsxs)("div",{className:"popup-body",children:[(0,P.jsx)("div",{className:"popup-content",children:e}),t===N.INPUT&&(0,P.jsx)("textarea",{ref:s,className:"popup-input text_pole result-control auto-select",rows:r.rows??1,defaultValue:n,"data-result":"1","data-result-event":"submit"}),r.customInputs&&(0,P.jsx)("div",{className:"popup-inputs",children:r.customInputs.map(e=>(0,P.jsxs)("label",{className:"checkbox_label justifyCenter",htmlFor:e.id,children:[(0,P.jsx)("input",{type:"checkbox",id:e.id,defaultChecked:e.defaultState}),(0,P.jsx)("span",{"data-i18n":e.label,children:e.label}),e.tooltip&&(0,P.jsx)("div",{className:"fa-solid fa-circle-info opacity50p",title:e.tooltip,"data-i18n":`[title]${e.tooltip}`})]},e.id))}),t!==N.DISPLAY&&(0,P.jsxs)("div",{className:"popup-controls",children:[r.customButtons?.map((e,t)=>{const n="string"==typeof e?{text:e,result:t+2}:e;return(0,P.jsx)("div",{className:`menu_button popup-button-custom result-control ${n.classes??""}`,"data-result":n.result,onClick:()=>{n.action?.(),f(n.result??t+2)},"data-i18n":n.text,children:n.text},t)}),t!==N.DISPLAY&&!1!==r.okButton&&(0,P.jsx)("div",{className:"popup-button-ok menu_button result-control",onClick:()=>f(M.AFFIRMATIVE),"data-result":"1",children:"string"==typeof r.okButton?r.okButton:"OK"}),t!==N.DISPLAY&&!1!==r.cancelButton&&(0,P.jsx)("div",{className:"popup-button-cancel menu_button result-control",onClick:()=>f(M.NEGATIVE),"data-result":"0",children:"string"==typeof r.cancelButton?r.cancelButton:"Cancel"})]}),t===N.DISPLAY&&(0,P.jsx)("div",{className:"popup-button-close right_menu_button fa-solid fa-circle-xmark",onClick:()=>f(M.CANCELLED),"data-result":"0",title:"Close popup","data-i18n":"[title]Close popup"})]})}),document.body)},oe=SillyTavern.getContext(),se=(e,t,n)=>{if(!e||!e.api)return!1;const r=n[e.api];if(!r||!Object.hasOwn(t,r.selected))return!1;switch(r.selected){case"openai":return!!r.source;case"textgenerationwebui":return!!r.type}return!1},ae=({initialSelectedProfileId:e,allowedTypes:t={openai:"Chat Completion",textgenerationwebui:"Text Completion"},placeholder:n="Select a Connection Profile",onChange:r,onCreate:i,onUpdate:o,onDelete:s})=>{const[a,l]=(0,E.useState)(e??""),[c,u]=(0,E.useState)(Date.now()),{isEnabled:d,profiles:h,connectApiMap:f}=(0,E.useMemo)(()=>{const e=oe.extensionSettings.disabledExtensions?.includes("connection-manager");return e?(console.error("Connection Manager extension is disabled."),{isEnabled:!1,profiles:[],connectApiMap:{}}):{isEnabled:!0,profiles:oe.extensionSettings.connectionManager?.profiles??[],connectApiMap:oe.CONNECT_API_MAP}},[c]);(0,E.useEffect)(()=>{if(!d)return;const e=e=>{se(e,t,f)&&(u(Date.now()),i?.(e))},n=(e,n)=>{const i=se(e,t,f),s=se(n,t,f);(i||s)&&u(Date.now()),o?.(e,n),a!==e.id||s||(l(""),r?.(void 0))},c=e=>{se(e,t,f)&&(u(Date.now()),s?.(e),a===e.id&&(l(""),r?.(void 0)))};return oe.eventSource.on("CONNECTION_PROFILE_CREATED",e),oe.eventSource.on("CONNECTION_PROFILE_UPDATED",n),oe.eventSource.on("CONNECTION_PROFILE_DELETED",c),()=>{oe.eventSource.removeListener("CONNECTION_PROFILE_CREATED",e),oe.eventSource.removeListener("CONNECTION_PROFILE_UPDATED",n),oe.eventSource.removeListener("CONNECTION_PROFILE_DELETED",c)}},[d,a,t,f,r,i,o,s]);const p=(0,E.useMemo)(()=>{if(!d)return[];const e=h.filter(e=>se(e,t,f)),n={};for(const[e,r]of Object.entries(t))n[e]={label:r,profiles:[]};for(const t of e){const e=f[t.api];n[e.selected]&&n[e.selected].profiles.push(t)}for(const e of Object.values(n))e.profiles.sort((e,t)=>(e.name??"").localeCompare(t.name??""));return Object.values(n).filter(e=>e.profiles.length>0)},[d,h,t,f]),m=(0,E.useCallback)(e=>{const t=e.target.value;l(t);const n=h.find(e=>e.id===t);r?.(n)},[h,r]);return d?(0,P.jsxs)(Q,{value:a,onChange:m,children:[(0,P.jsx)("option",{value:"",children:n}),p.map(e=>(0,P.jsx)("optgroup",{label:e.label,children:e.profiles.map(e=>(0,P.jsx)("option",{value:e.id,children:e.name},e.id))},e.label))]}):(0,P.jsx)(Q,{disabled:!0,value:"",children:(0,P.jsx)("option",{children:"Connection Manager disabled"})})},le=SillyTavern.getContext(),ce=({value:e,items:t,readOnlyValues:n=[],label:r,onChange:i,onItemsChange:o,enableCreate:s=!1,enableRename:a=!1,enableDelete:l=!1,onCreate:c,onRename:u,onDelete:d})=>{const h=(0,E.useMemo)(()=>t.find(t=>t.value===e),[t,e]),f=(0,E.useCallback)(e=>!!e&&n.includes(e),[n]);return(0,P.jsxs)("div",{className:"preset-select-container",style:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(Q,{value:e??"",onChange:t=>i(t.target.value,e),children:t.map(e=>(0,P.jsx)("option",{value:e.value,children:e.label},e.value))}),s&&(0,P.jsx)(T,{className:"fa-solid fa-file-circle-plus",title:`Create a new ${r}`,onClick:async()=>{const n=await le.Popup.show.input(`Create a new ${r}`,`Please enter a name for the new ${r}:`,"");if(!n||""===n.trim())return;const s=n.trim();if(t.some(e=>e.value===s))return void await G("warning",`A ${r} with this name already exists.`);let a=s;if(c){const e=await Promise.resolve(c(s));if(!e.confirmed)return;e.value&&(a=e.value)}const l={value:a,label:a};o([...t,l]),i(l.value,e)},"data-i18n":`[title]Create a new ${r}`}),a&&(0,P.jsx)(T,{className:"fa-solid fa-pencil",title:`Rename selected ${r}`,onClick:async()=>{if(!h)return void await G("warning",`Please select a ${r} to rename.`);if(f(h.value))return void await G("warning",`This ${r} cannot be renamed as it is read-only.`);const n=await le.Popup.show.input(`Rename ${r}`,`Please enter a new name for "${h.label}":`,h.value);if(!n||""===n.trim()||n.trim()===h.value)return;const s=n.trim();if(t.some(e=>e.value===s))return void await G("warning",`A ${r} with this name already exists.`);let a=s;if(u){const e=await Promise.resolve(u(h.value,s));if(!e.confirmed)return;e.value&&(a=e.value)}const l=t.map(e=>e.value===h.value?{value:a,label:a}:e);o(l),i(a,e)},disabled:!h,"data-i18n":`[title]Rename selected ${r}`}),l&&(0,P.jsx)(T,{className:"fa-solid fa-trash-can",title:`Delete selected ${r}`,onClick:async()=>{if(!h)return void await G("warning",`Please select a ${r} to delete.`);if(f(h.value))return void await G("warning",`This ${r} cannot be deleted as it is read-only.`);if(!await le.Popup.show.confirm(`Delete ${r}`,`Are you sure you want to delete "${h.label}"?`))return;if(d){if(!await Promise.resolve(d(h.value)))return}const n=t.findIndex(e=>e.value===h.value),s=t.filter(e=>e.value!==h.value);let a;if(o(s),s.length>0){const e=Math.min(n,s.length-1);a=s[e]?.value}i(a,e)},disabled:!h,"data-i18n":`[title]Delete selected ${r}`})]})};
/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach(function(t){fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function me(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ge(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var ve=ge(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Oe=ge(/Edge/i),ye=ge(/firefox/i),be=ge(/safari/i)&&!ge(/chrome/i)&&!ge(/android/i),we=ge(/iP(ad|od|hone)/i),xe=ge(/chrome/i)&&ge(/android/i),Se={capture:!1,passive:!1};function ke(e,t,n){e.addEventListener(t,n,!ve&&Se)}function $e(e,t,n){e.removeEventListener(t,n,!ve&&Se)}function _e(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Pe(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ee(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&_e(e,t):_e(e,t))||r&&e===n)return e;if(e===n)break}while(e=Pe(e))}return null}var Ce,Te=/\s+/g;function Ie(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Te," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Te," ")}}function Qe(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function Ae(e,t){var n="";if("string"==typeof e)n=e;else do{var r=Qe(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Ne(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Me(){var e=document.scrollingElement;return e||document.documentElement}function De(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,s,a,l,c,u,d;if(e!==window&&e.parentNode&&e!==Me()?(s=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!ve))do{if(i&&i.getBoundingClientRect&&("none"!==Qe(i,"transform")||n&&"static"!==Qe(i,"position"))){var h=i.getBoundingClientRect();s-=h.top+parseInt(Qe(i,"border-top-width")),a-=h.left+parseInt(Qe(i,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var f=Ae(i||e),p=f&&f.a,m=f&&f.d;f&&(l=(s/=m)+(u/=m),c=(a/=p)+(d/=p))}return{top:s,left:a,bottom:l,right:c,width:d,height:u}}}function ze(e,t,n){for(var r=Ue(e,!0),i=De(e)[t];r;){var o=De(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===Me())break;r=Ue(r,!1)}return!1}function je(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==Wt.ghost&&(r||s[o]!==Wt.dragged)&&Ee(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function Re(e,t){for(var n=e.lastElementChild;n&&(n===Wt.ghost||"none"===Qe(n,"display")||t&&!_e(n,t));)n=n.previousElementSibling;return n||null}function Ze(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Wt.clone||t&&!_e(e,t)||n++;return n}function Le(e){var t=0,n=0,r=Me();if(e)do{var i=Ae(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function Ue(e,t){if(!e||!e.getBoundingClientRect)return Me();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Qe(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Me();if(r||t)return n;r=!0}}}while(n=n.parentNode);return Me()}function Xe(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ve(e,t){return function(){if(!Ce){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),Ce=setTimeout(function(){Ce=void 0},t)}}}function Be(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Ye(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function We(e,t,n){var r={};return Array.from(e.children).forEach(function(i){var o,s,a,l;if(Ee(i,t.draggable,e,!1)&&!i.animated&&i!==n){var c=De(i);r.left=Math.min(null!==(o=r.left)&&void 0!==o?o:1/0,c.left),r.top=Math.min(null!==(s=r.top)&&void 0!==s?s:1/0,c.top),r.right=Math.max(null!==(a=r.right)&&void 0!==a?a:-1/0,c.right),r.bottom=Math.max(null!==(l=r.bottom)&&void 0!==l?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Fe="Sortable"+(new Date).getTime();function qe(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==Qe(e,"display")&&e!==Wt.ghost){t.push({target:e,rect:De(e)});var n=de({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=Ae(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach(function(e){var t=0,n=e.target,s=n.fromRect,a=De(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=Ae(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&Xe(l,a)&&!Xe(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),Xe(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=r.options.animation),r.animate(n,u,a,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(e),i?e=setTimeout(function(){"function"==typeof n&&n()},o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){Qe(e,"transition",""),Qe(e,"transform","");var i=Ae(this.el),o=i&&i.a,s=i&&i.d,a=(t.left-n.left)/(o||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,Qe(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Qe(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),Qe(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){Qe(e,"transition",""),Qe(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}var Ge=[],He={initializeByDefault:!0},Ke={mount:function(e){for(var t in He)He.hasOwnProperty(t)&&!(t in e)&&(e[t]=He[t]);Ge.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ge.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";Ge.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](de({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](de({sortable:t},n)))})},initializePlugins:function(e,t,n,r){for(var i in Ge.forEach(function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,pe(n,o.defaults)}}),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return Ge.forEach(function(r){"function"==typeof r.eventProperties&&pe(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return Ge.forEach(function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))}),r}};function Je(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Fe]){var m,g=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||ve||Oe?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=s||n,m.from=a||n,m.item=i||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var O=de(de({},p),Ke.getEventProperties(r,t));for(var y in O)m[y]=O[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}var et=["evt"],tt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=me(n,et);Ke.pluginEvent.bind(Wt)(e,t,de({dragEl:rt,parentEl:it,ghostEl:ot,rootEl:st,nextEl:at,lastDownEl:lt,cloneEl:ct,cloneHidden:ut,dragStarted:St,putSortable:gt,activeSortable:Wt.active,originalEvent:r,oldIndex:dt,oldDraggableIndex:ft,newIndex:ht,newDraggableIndex:pt,hideGhostForTarget:Xt,unhideGhostForTarget:Vt,cloneNowHidden:function(){ut=!0},cloneNowShown:function(){ut=!1},dispatchSortableEvent:function(e){nt({sortable:t,name:e,originalEvent:r})}},i))};function nt(e){Je(de({putSortable:gt,cloneEl:ct,targetEl:rt,rootEl:st,oldIndex:dt,oldDraggableIndex:ft,newIndex:ht,newDraggableIndex:pt},e))}var rt,it,ot,st,at,lt,ct,ut,dt,ht,ft,pt,mt,gt,vt,Ot,yt,bt,wt,xt,St,kt,$t,_t,Pt,Et=!1,Ct=!1,Tt=[],It=!1,Qt=!1,At=[],Nt=!1,Mt=[],Dt="undefined"!=typeof document,zt=we,jt=Oe||ve?"cssFloat":"float",Rt=Dt&&!xe&&!we&&"draggable"in document.createElement("div"),Zt=function(){if(Dt){if(ve)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Lt=function(e,t){var n=Qe(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=je(e,0,t),o=je(e,1,t),s=i&&Qe(i),a=o&&Qe(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+De(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+De(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===n[jt]||o&&"none"===n[jt]&&l+c>r)?"vertical":"horizontal"},Ut=function(e){function t(e,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,s),n)(r,i,o,s);var l=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==he(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Xt=function(){!Zt&&ot&&Qe(ot,"display","none")},Vt=function(){!Zt&&ot&&Qe(ot,"display","")};Dt&&!xe&&document.addEventListener("click",function(e){if(Ct)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ct=!1,!1},!0);var Bt=function(e){if(rt){var t=function(e,t){var n;return Tt.some(function(r){var i=r[Fe].options.emptyInsertThreshold;if(i&&!Re(r)){var o=De(r),s=e>=o.left-i&&e<=o.right+i,a=t>=o.top-i&&t<=o.bottom+i;return s&&a?n=r:void 0}}),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Fe]._onDragOver(n)}}},Yt=function(e){rt&&rt.parentNode[Fe]._isOutsideThisEl(e.target)};function Wt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=pe({},t),e[Fe]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Lt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Wt.supportPointer&&"PointerEvent"in window&&(!be||we),emptyInsertThreshold:5};for(var r in Ke.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Ut(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Rt,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ke(e,"pointerdown",this._onTapStart):(ke(e,"mousedown",this._onTapStart),ke(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ke(e,"dragover",this),ke(e,"dragenter",this)),Tt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),pe(this,qe())}function Ft(e,t,n,r,i,o,s,a){var l,c,u=e[Fe],d=u.options.onMove;return!window.CustomEvent||ve||Oe?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||De(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(c=d.call(u,l,s)),c}function qt(e){e.draggable=!1}function Gt(){Nt=!1}function Ht(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Kt(e){return setTimeout(e,0)}function Jt(e){return clearTimeout(e)}Wt.prototype={constructor:Wt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(kt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,rt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=r.filter;if(function(e){Mt.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Mt.push(r)}}(n),!rt&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!be||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=Ee(a,r.draggable,n,!1))&&a.animated||lt===a)){if(dt=Ze(a),ft=Ze(a,r.draggable),"function"==typeof c){if(c.call(this,e,a,this))return nt({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),tt("filter",t,{evt:e}),void(i&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(r){if(r=Ee(l,r.trim(),n,!1))return nt({sortable:t,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),tt("filter",t,{evt:e}),!0})))return void(i&&e.preventDefault());r.handle&&!Ee(l,r.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!rt&&n.parentNode===o){var l=De(n);if(st=o,it=(rt=n).parentNode,at=rt.nextSibling,lt=n,mt=s.group,Wt.dragged=rt,vt={target:rt,clientX:(t||e).clientX,clientY:(t||e).clientY},wt=vt.clientX-l.left,xt=vt.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,rt.style["will-change"]="all",r=function(){tt("delayEnded",i,{evt:e}),Wt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!ye&&i.nativeDraggable&&(rt.draggable=!0),i._triggerDragStart(e,t),nt({sortable:i,name:"choose",originalEvent:e}),Ie(rt,s.chosenClass,!0))},s.ignore.split(",").forEach(function(e){Ne(rt,e.trim(),qt)}),ke(a,"dragover",Bt),ke(a,"mousemove",Bt),ke(a,"touchmove",Bt),s.supportPointer?(ke(a,"pointerup",i._onDrop),!this.nativeDraggable&&ke(a,"pointercancel",i._onDrop)):(ke(a,"mouseup",i._onDrop),ke(a,"touchend",i._onDrop),ke(a,"touchcancel",i._onDrop)),ye&&this.nativeDraggable&&(this.options.touchStartThreshold=4,rt.draggable=!0),tt("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(Oe||ve))r();else{if(Wt.eventCanceled)return void this._onDrop();s.supportPointer?(ke(a,"pointerup",i._disableDelayedDrag),ke(a,"pointercancel",i._disableDelayedDrag)):(ke(a,"mouseup",i._disableDelayedDrag),ke(a,"touchend",i._disableDelayedDrag),ke(a,"touchcancel",i._disableDelayedDrag)),ke(a,"mousemove",i._delayedDragTouchMoveHandler),ke(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&ke(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){rt&&qt(rt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._disableDelayedDrag),$e(e,"touchend",this._disableDelayedDrag),$e(e,"touchcancel",this._disableDelayedDrag),$e(e,"pointerup",this._disableDelayedDrag),$e(e,"pointercancel",this._disableDelayedDrag),$e(e,"mousemove",this._delayedDragTouchMoveHandler),$e(e,"touchmove",this._delayedDragTouchMoveHandler),$e(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?ke(document,"pointermove",this._onTouchMove):ke(document,t?"touchmove":"mousemove",this._onTouchMove):(ke(rt,"dragend",this),ke(st,"dragstart",this._onDragStart));try{document.selection?Kt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Et=!1,st&&rt){tt("dragStarted",this,{evt:t}),this.nativeDraggable&&ke(document,"dragover",Yt);var n=this.options;!e&&Ie(rt,n.dragClass,!1),Ie(rt,n.ghostClass,!0),Wt.active=this,e&&this._appendGhost(),nt({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ot){this._lastX=Ot.clientX,this._lastY=Ot.clientY,Xt();for(var e=document.elementFromPoint(Ot.clientX,Ot.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ot.clientX,Ot.clientY))!==t;)t=e;if(rt.parentNode[Fe]._isOutsideThisEl(e),t)do{if(t[Fe]){if(t[Fe]._onDragOver({clientX:Ot.clientX,clientY:Ot.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=Pe(t));Vt()}},_onTouchMove:function(e){if(vt){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=ot&&Ae(ot,!0),s=ot&&o&&o.a,a=ot&&o&&o.d,l=zt&&Pt&&Le(Pt),c=(i.clientX-vt.clientX+r.x)/(s||1)+(l?l[0]-At[0]:0)/(s||1),u=(i.clientY-vt.clientY+r.y)/(a||1)+(l?l[1]-At[1]:0)/(a||1);if(!Wt.active&&!Et){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ot){o?(o.e+=c-(yt||0),o.f+=u-(bt||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Qe(ot,"webkitTransform",d),Qe(ot,"mozTransform",d),Qe(ot,"msTransform",d),Qe(ot,"transform",d),yt=c,bt=u,Ot=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ot){var e=this.options.fallbackOnBody?document.body:st,t=De(rt,!0,zt,!0,e),n=this.options;if(zt){for(Pt=e;"static"===Qe(Pt,"position")&&"none"===Qe(Pt,"transform")&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=Me()),t.top+=Pt.scrollTop,t.left+=Pt.scrollLeft):Pt=Me(),At=Le(Pt)}Ie(ot=rt.cloneNode(!0),n.ghostClass,!1),Ie(ot,n.fallbackClass,!0),Ie(ot,n.dragClass,!0),Qe(ot,"transition",""),Qe(ot,"transform",""),Qe(ot,"box-sizing","border-box"),Qe(ot,"margin",0),Qe(ot,"top",t.top),Qe(ot,"left",t.left),Qe(ot,"width",t.width),Qe(ot,"height",t.height),Qe(ot,"opacity","0.8"),Qe(ot,"position",zt?"absolute":"fixed"),Qe(ot,"zIndex","100000"),Qe(ot,"pointerEvents","none"),Wt.ghost=ot,e.appendChild(ot),Qe(ot,"transform-origin",wt/parseInt(ot.style.width)*100+"% "+xt/parseInt(ot.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;tt("dragStart",this,{evt:e}),Wt.eventCanceled?this._onDrop():(tt("setupClone",this),Wt.eventCanceled||((ct=Ye(rt)).removeAttribute("id"),ct.draggable=!1,ct.style["will-change"]="",this._hideClone(),Ie(ct,this.options.chosenClass,!1),Wt.clone=ct),n.cloneId=Kt(function(){tt("clone",n),Wt.eventCanceled||(n.options.removeCloneOnHide||st.insertBefore(ct,rt),n._hideClone(),nt({sortable:n,name:"clone"}))}),!t&&Ie(rt,i.dragClass,!0),t?(Ct=!0,n._loopId=setInterval(n._emulateDragOver,50)):($e(document,"mouseup",n._onDrop),$e(document,"touchend",n._onDrop),$e(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,rt)),ke(document,"drop",n),Qe(rt,"transform","translateZ(0)")),Et=!0,n._dragStartId=Kt(n._dragStarted.bind(n,t,e)),ke(document,"selectstart",n),St=!0,window.getSelection().removeAllRanges(),be&&Qe(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,s=e.target,a=this.options,l=a.group,c=Wt.active,u=mt===l,d=a.sort,h=gt||c,f=this,p=!1;if(!Nt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=Ee(s,a.draggable,o,!0),C("dragOver"),Wt.eventCanceled)return p;if(rt.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return I(!1);if(Ct=!1,c&&!a.disabled&&(u?d||(r=it!==st):gt===this||(this.lastPutMode=mt.checkPull(this,c,rt,e))&&l.checkPut(this,c,rt,e))){if(i="vertical"===this._getDirection(e,s),t=De(rt),C("dragOverValid"),Wt.eventCanceled)return p;if(r)return it=st,T(),this._hideClone(),C("revert"),Wt.eventCanceled||(at?st.insertBefore(rt,at):st.appendChild(rt)),I(!0);var m=Re(o,a.draggable);if(!m||function(e,t,n){var r=De(Re(n.el,n.options.draggable)),i=We(n.el,n.options,ot),o=10;return t?e.clientX>i.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+o||e.clientX>r.right&&e.clientY>r.top}(e,i,this)&&!m.animated){if(m===rt)return I(!1);if(m&&o===e.target&&(s=m),s&&(n=De(s)),!1!==Ft(st,o,rt,t,s,n,e,!!s))return T(),m&&m.nextSibling?o.insertBefore(rt,m.nextSibling):o.appendChild(rt),it=o,Q(),I(!0)}else if(m&&function(e,t,n){var r=De(je(n.el,0,n.options,!0)),i=We(n.el,n.options,ot),o=10;return t?e.clientX<i.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-o||e.clientY<r.bottom&&e.clientX<r.left}(e,i,this)){var g=je(o,0,a,!0);if(g===rt)return I(!1);if(n=De(s=g),!1!==Ft(st,o,rt,t,s,n,e,!1))return T(),o.insertBefore(rt,g),it=o,Q(),I(!0)}else if(s.parentNode===o){n=De(s);var v,O,y,b=rt.parentNode!==o,w=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return r===s||i===a||r+o/2===s+l/2}(rt.animated&&rt.toRect||t,s.animated&&s.toRect||n,i),x=i?"top":"left",S=ze(s,"top","top")||ze(rt,"top","top"),k=S?S.scrollTop:void 0;if(kt!==s&&(O=n[x],It=!1,Qt=!w&&a.invertSwap||b),v=function(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!s)if(a&&_t<c*i){if(!It&&(1===$t?l>u+c*o/2:l<d-c*o/2)&&(It=!0),It)h=!0;else if(1===$t?l<u+_t:l>d-_t)return-$t}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return Ze(rt)<Ze(e)?1:-1}(t);if((h=h||s)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,s,n,i,w?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Qt,kt===s),0!==v){var $=Ze(rt);do{$-=v,y=it.children[$]}while(y&&("none"===Qe(y,"display")||y===ot))}if(0===v||y===s)return I(!1);kt=s,$t=v;var _=s.nextElementSibling,P=!1,E=Ft(st,o,rt,t,s,n,e,P=1===v);if(!1!==E)return 1!==E&&-1!==E||(P=1===E),Nt=!0,setTimeout(Gt,30),T(),P&&!_?o.appendChild(rt):s.parentNode.insertBefore(rt,P?_:s),S&&Be(S,0,k-S.scrollTop),it=rt.parentNode,void 0===O||Qt||(_t=Math.abs(O-De(s)[x])),Q(),I(!0)}if(o.contains(rt))return I(!1)}return!1}function C(a,l){tt(a,f,de({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:s,completed:I,onMove:function(n,r){return Ft(st,o,rt,t,n,De(n),e,r)},changed:Q},l))}function T(){C("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function I(t){return C("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(f),f!==h&&(Ie(rt,gt?gt.options.ghostClass:c.options.ghostClass,!1),Ie(rt,a.ghostClass,!0)),gt!==f&&f!==Wt.active?gt=f:f===Wt.active&&gt&&(gt=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll(function(){C("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===rt&&!rt.animated||s===o&&!s.animated)&&(kt=null),a.dragoverBubble||e.rootEl||s===document||(rt.parentNode[Fe]._isOutsideThisEl(e.target),!t&&Bt(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function Q(){ht=Ze(rt),pt=Ze(rt,a.draggable),nt({sortable:f,name:"change",toEl:o,newIndex:ht,newDraggableIndex:pt,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){$e(document,"mousemove",this._onTouchMove),$e(document,"touchmove",this._onTouchMove),$e(document,"pointermove",this._onTouchMove),$e(document,"dragover",Bt),$e(document,"mousemove",Bt),$e(document,"touchmove",Bt)},_offUpEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._onDrop),$e(e,"touchend",this._onDrop),$e(e,"pointerup",this._onDrop),$e(e,"pointercancel",this._onDrop),$e(e,"touchcancel",this._onDrop),$e(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ht=Ze(rt),pt=Ze(rt,n.draggable),tt("drop",this,{evt:e}),it=rt&&rt.parentNode,ht=Ze(rt),pt=Ze(rt,n.draggable),Wt.eventCanceled||(Et=!1,Qt=!1,It=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Jt(this.cloneId),Jt(this._dragStartId),this.nativeDraggable&&($e(document,"drop",this),$e(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),be&&Qe(document.body,"user-select",""),Qe(rt,"transform",""),e&&(St&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ot&&ot.parentNode&&ot.parentNode.removeChild(ot),(st===it||gt&&"clone"!==gt.lastPutMode)&&ct&&ct.parentNode&&ct.parentNode.removeChild(ct),rt&&(this.nativeDraggable&&$e(rt,"dragend",this),qt(rt),rt.style["will-change"]="",St&&!Et&&Ie(rt,gt?gt.options.ghostClass:this.options.ghostClass,!1),Ie(rt,this.options.chosenClass,!1),nt({sortable:this,name:"unchoose",toEl:it,newIndex:null,newDraggableIndex:null,originalEvent:e}),st!==it?(ht>=0&&(nt({rootEl:it,name:"add",toEl:it,fromEl:st,originalEvent:e}),nt({sortable:this,name:"remove",toEl:it,originalEvent:e}),nt({rootEl:it,name:"sort",toEl:it,fromEl:st,originalEvent:e}),nt({sortable:this,name:"sort",toEl:it,originalEvent:e})),gt&&gt.save()):ht!==dt&&ht>=0&&(nt({sortable:this,name:"update",toEl:it,originalEvent:e}),nt({sortable:this,name:"sort",toEl:it,originalEvent:e})),Wt.active&&(null!=ht&&-1!==ht||(ht=dt,pt=ft),nt({sortable:this,name:"end",toEl:it,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){tt("nulling",this),st=rt=it=ot=at=ct=lt=ut=vt=Ot=St=ht=pt=dt=ft=kt=$t=gt=mt=Wt.dragged=Wt.ghost=Wt.clone=Wt.active=null,Mt.forEach(function(e){e.checked=!0}),Mt.length=yt=bt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":rt&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)Ee(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Ht(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(e,t){var i=r.children[t];Ee(i,this.options.draggable,r,!1)&&(n[e]=i)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ee(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=Ke.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Ut(n)},destroy:function(){tt("destroy",this);var e=this.el;e[Fe]=null,$e(e,"mousedown",this._onTapStart),$e(e,"touchstart",this._onTapStart),$e(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($e(e,"dragover",this),$e(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Tt.splice(Tt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ut){if(tt("hideClone",this),Wt.eventCanceled)return;Qe(ct,"display","none"),this.options.removeCloneOnHide&&ct.parentNode&&ct.parentNode.removeChild(ct),ut=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ut){if(tt("showClone",this),Wt.eventCanceled)return;rt.parentNode!=st||this.options.group.revertClone?at?st.insertBefore(ct,at):st.appendChild(ct):st.insertBefore(ct,rt),this.options.group.revertClone&&this.animate(rt,ct),Qe(ct,"display",""),ut=!1}}else this._hideClone()}},Dt&&ke(document,"touchmove",function(e){(Wt.active||Et)&&e.cancelable&&e.preventDefault()}),Wt.utils={on:ke,off:$e,css:Qe,find:Ne,is:function(e,t){return!!Ee(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Ve,closest:Ee,toggleClass:Ie,clone:Ye,index:Ze,nextTick:Kt,cancelNextTick:Jt,detectDirection:Lt,getChild:je,expando:Fe},Wt.get=function(e){return e[Fe]},Wt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Wt.utils=de(de({},Wt.utils),e.utils)),Ke.mount(e)})},Wt.create=function(e,t){return new Wt(e,t)},Wt.version="1.15.6";var en,tn,nn,rn,on,sn,an=[],ln=!1;function cn(){an.forEach(function(e){clearInterval(e.pid)}),an=[]}function un(){clearInterval(sn)}var dn=Ve(function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=Me(),u=!1;tn!==n&&(tn=n,cn(),en=t.scroll,i=t.scrollFn,!0===en&&(en=Ue(n,!0)));var d=0,h=en;do{var f=h,p=De(f),m=p.top,g=p.bottom,v=p.left,O=p.right,y=p.width,b=p.height,w=void 0,x=void 0,S=f.scrollWidth,k=f.scrollHeight,$=Qe(f),_=f.scrollLeft,P=f.scrollTop;f===c?(w=y<S&&("auto"===$.overflowX||"scroll"===$.overflowX||"visible"===$.overflowX),x=b<k&&("auto"===$.overflowY||"scroll"===$.overflowY||"visible"===$.overflowY)):(w=y<S&&("auto"===$.overflowX||"scroll"===$.overflowX),x=b<k&&("auto"===$.overflowY||"scroll"===$.overflowY));var E=w&&(Math.abs(O-o)<=a&&_+y<S)-(Math.abs(v-o)<=a&&!!_),C=x&&(Math.abs(g-s)<=a&&P+b<k)-(Math.abs(m-s)<=a&&!!P);if(!an[d])for(var T=0;T<=d;T++)an[T]||(an[T]={});an[d].vx==E&&an[d].vy==C&&an[d].el===f||(an[d].el=f,an[d].vx=E,an[d].vy=C,clearInterval(an[d].pid),0==E&&0==C||(u=!0,an[d].pid=setInterval(function(){r&&0===this.layer&&Wt.active._onTouchMove(on);var t=an[this.layer].vy?an[this.layer].vy*l:0,n=an[this.layer].vx?an[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Wt.dragged.parentNode[Fe],n,t,e,on,an[this.layer].el)||Be(an[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=Ue(h,!1)));ln=u}},30),hn=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||i;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function fn(){}function pn(){}fn.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=je(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:hn},pe(fn,{pluginName:"revertOnSpill"}),pn.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:hn},pe(pn,{pluginName:"removeOnSpill"});Wt.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?ke(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ke(document,"pointermove",this._handleFallbackAutoScroll):t.touches?ke(document,"touchmove",this._handleFallbackAutoScroll):ke(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?$e(document,"dragover",this._handleAutoScroll):($e(document,"pointermove",this._handleFallbackAutoScroll),$e(document,"touchmove",this._handleFallbackAutoScroll),$e(document,"mousemove",this._handleFallbackAutoScroll)),un(),cn(),clearTimeout(Ce),Ce=void 0},nulling:function(){on=tn=en=ln=sn=nn=rn=null,an.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(on=e,t||this.options.forceAutoScrollFallback||Oe||ve||be){dn(e,this.options,o,t);var s=Ue(o,!0);!ln||sn&&r===nn&&i===rn||(sn&&un(),sn=setInterval(function(){var o=Ue(document.elementFromPoint(r,i),!0);o!==s&&(s=o,cn()),dn(e,n.options,o,t)},10),nn=r,rn=i)}else{if(!this.options.bubbleScroll||Ue(o,!0)===Me())return void cn();dn(e,this.options,Ue(o,!1),!1)}}},pe(e,{pluginName:"scroll",initializeByDefault:!0})}),Wt.mount(pn,fn);E.memo(({item:e,showToggleButton:t,showDeleteButton:n,showSelectInput:r,onToggle:i,onDelete:o,onSelectChange:s})=>{const{id:a,label:l,enabled:c,canDelete:u=!0,canToggle:d=!0,showSelect:h=!0,canSelect:f=!0,selectOptions:p=[],selectValue:m}=e,g={display:"flex",alignItems:"center",padding:"8px 12px",border:"1px solid var(--SmartThemeBorderColor, #ccc)",color:"var(--SmartThemeBodyColor, #333)",marginBottom:"2px",opacity:t&&!c?.6:1},v={cursor:"pointer",flexShrink:0},O={display:"inline-block",flexShrink:0,marginRight:"10px"};return(0,P.jsxs)("li",{className:"sortable-list-item",style:g,"data-id":a,children:[(0,P.jsx)("span",{className:"drag-handle fas fa-bars",style:{cursor:"grab",marginRight:"10px",color:"var(--SmartThemeBodyColor, #555)",flexShrink:0}}),(0,P.jsx)("span",{className:"item-label",style:{flexGrow:1,marginRight:"10px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:l}),r&&h&&f&&(0,P.jsx)(Q,{value:m,onChange:e=>s(a,e.target.value),disabled:!c,style:{marginRight:"10px",flexShrink:0,width:"unset"},children:0===p.length?(0,P.jsx)("option",{disabled:!0,children:"--"}):p.map(e=>(0,P.jsx)("option",{value:e.value,children:e.label},e.value))}),r&&(!h||!f)&&(0,P.jsx)("span",{style:O}),t&&d&&(0,P.jsx)(T,{overrideDefaults:!0,className:"toggle-button fas "+(c?"fa-toggle-on":"fa-toggle-off"),style:{...v,marginRight:"10px",fontSize:"1.2em",color:c?"var(--success-color, #4CAF50)":"var(--SmartThemeBodyColor, #555)",backgroundColor:"transparent",border:"none"},onClick:()=>i(a)}),t&&!d&&(0,P.jsx)("span",{style:O}),n&&u&&(0,P.jsx)(T,{overrideDefaults:!0,className:"delete-button fas fa-trash-can",style:{...v,color:"var(--error-color, #f44336)",backgroundColor:"transparent",border:"none"},onClick:()=>o(a)}),n&&!u&&(0,P.jsx)("span",{style:{...O,marginRight:0}})]})}),E.memo(({item:e,isSelected:t,onClick:n})=>{const[r,i]=(0,E.useState)(!1);return(0,P.jsxs)("li",{onClick:()=>n(e.value),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:{padding:"8px 12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:t?"var(--accent-color-bg, var(--link-color))":r?"var(--hover-color, var(--white20a))":"transparent"},children:[(0,P.jsx)("span",{children:e.label}),t&&(0,P.jsx)("i",{className:"checkmark fa-solid fa-check",style:{marginLeft:"8px"}})]})});Error;class mn{requestMap;constructor(){this.requestMap=new Map}abortRequest(e){const t=this.requestMap.get(e);if(t){if(t.abortController)try{t.abortController.abort()}catch(e){}t.options?.onFinish&&t.options.onFinish(e),this.requestMap.delete(e)}}async generateRequest(e,t){const n=SillyTavern.getContext(),r=n.uuidv4(),i=e?.custom?.stream??!1;if(this.requestMap.set(r,{abortController:t?.abortController,isStream:i,options:t}),i)try{const i=await n.ConnectionManagerRequestService.sendRequest(e.profileId,e.prompt,e.maxTokens,e.custom,e.overridePayload);let o;t?.onStart&&t.onStart(r);for await(const e of i())o=e,t?.onEntry&&t.onEntry(r,e);t?.onFinish&&t.onFinish(r,o)}catch(e){t?.onFinish&&t.onFinish(r,void 0,e)}finally{this.requestMap.delete(r)}else try{t?.onStart&&t.onStart(r);const i=await n.ConnectionManagerRequestService.sendRequest(e.profileId,e.prompt,e.maxTokens,e.custom,e.overridePayload);this.requestMap.get(r)&&(t?.onEntry&&t.onEntry(r,i),t?.onFinish&&t.onFinish(r,i))}catch(e){t?.onFinish&&t.onFinish(r,void 0,e)}finally{this.requestMap.delete(r)}return r}getActiveRequest(e){return this.requestMap.get(e)?.abortController}getAllActiveRequests(){const e=new Map;for(const[t,n]of this.requestMap)e.set(t,n.abortController);return e}}class gn{encode(e){const t=Math.ceil(e.length/4);return new Array(t).fill(" ")}decode(e){return e.join("")}}class vn{messages=[];tokenizer;maxContext;currentTokenCount=0;constructor(e){this.tokenizer=new gn,this.maxContext=e}getTokenCount(e){return e.content?e.source?.extra?.token_count??this.tokenizer.encode(e.content).length:0}canFit(e){return this.currentTokenCount+this.getTokenCount(e)<=this.maxContext}add(e){if(!e.content)return!0;const t=this.getTokenCount(e);return!(this.currentTokenCount+t>this.maxContext)&&(this.messages.push(e),this.currentTokenCount+=t,!0)}addFront(e){if(!e.content)return!0;const t=this.getTokenCount(e);return!(this.currentTokenCount+t>this.maxContext)&&(this.messages.unshift(e),this.currentTokenCount+=t,!0)}addMany(e){const t=e.filter(e=>e.content),n=t.map(e=>this.getTokenCount(e)),r=n.reduce((e,t)=>e+t,0);if(this.currentTokenCount+r<=this.maxContext)return this.messages.push(...t),this.currentTokenCount+=r,!0;let i=0;const o=[];for(let e=t.length-1;e>=0;e--){const r=t[e],s=n[e];if(!(this.currentTokenCount+i+s<=this.maxContext))break;o.unshift(r),i+=s}return o.length>0&&(this.messages.push(...o),this.currentTokenCount+=i),o.length===t.length}insert(e,t){if(!t.content)return!0;const n=this.getTokenCount(t);return!(this.currentTokenCount+n>this.maxContext)&&(this.messages.splice(e,0,t),this.currentTokenCount+=n,!0)}getMessages(){return this.messages}}async function On(e,{targetCharacterId:t,presetName:n,instructName:r,contextName:i,syspromptName:o,maxContext:s,includeNames:a,ignoreCharacterFields:l,ignoreAuthorNote:c,ignoreWorldInfo:u,messageIndexesBetween:d}={}){if(!["textgenerationwebui","openai"].includes(e))throw new Error("Unsupported API");const h=SillyTavern.getContext();let{description:f,personality:p,persona:m,scenario:g,mesExamples:v,system:O,jailbreak:y}=l?{description:"",personality:"",persona:"",scenario:"",mesExamples:"",system:"",jailbreak:""}:h.getCharacterCardFields({chid:t});const b="textgenerationwebui"===e?h.getPresetManager("instruct")?.getCompletionPresetByName(r):void 0,w=!!b?.enabled;let x=K(v,w);let S=[];const k=function(){if("number"==typeof s)return s;if(!s)return H();if("active"===s||!n)return H();if("number"==typeof s)return s;let t;if("textgenerationwebui"===e){const e=h.getPresetManager("textgenerationwebui")?.getCompletionPresetByName(n);t=e?.max_length}else{const e=h.getPresetManager("openai")?.getCompletionPresetByName(n);t=e?.openai_max_context}return"number"==typeof t?t:H()}();if(k<=0)return{result:[],warnings:S};const $=new vn(k),_=h.ToolManager.isToolCallingSupported(),P=d?.start??0,E=d?.end?d.end+1:void 0;let C=-1===P&&0===E?[]:h.chat.slice(P,E).filter(e=>!e.is_system||_&&Array.isArray(e.extra?.tool_invocations));C=await Promise.all(C.map(async(e,t)=>{let n=function(e,t,{characterOverride:n,isMarkdown:r,isPrompt:i,isEdit:o,depth:s}){return(0,B.getRegexedString)(e,t,{characterOverride:n,isMarkdown:r,isPrompt:i,isEdit:o,depth:s})}(e.mes,e.is_user?B.regex_placement.USER_INPUT:B.regex_placement.AI_OUTPUT,{isPrompt:!0,depth:C.length-t-1});return n=await async function(e,t){return await(0,L.appendFileContent)(e,t)}(e,n),e?.extra?.append_title&&e?.extra?.title&&(n=`${n}\n\n${e.extra.title}`),{...e,mes:n,index:t}}));const T=C.map(e=>R.world_info_include_names?`${e.name}: ${e.mes}`:e.mes).reverse(),{worldInfoString:I,worldInfoBefore:Q,worldInfoAfter:A,worldInfoExamples:N,worldInfoDepth:M,anBefore:D,anAfter:Y}=u?{worldInfoString:"",worldInfoBefore:"",worldInfoAfter:"",worldInfoExamples:[],worldInfoDepth:[],anBefore:[],anAfter:[]}:await h.getWorldInfoPrompt(T,k,!1);for(const ae of N){const le=ae.content;if(0===le.length)continue;const ce=K(J(le,j.name1,j.name2),w);ae.position===R.wi_anchor_position.before?x.unshift(...ce):x.push(...ce)}function W(){const e=[];for(let t=C.length-1;t>=0;t--){const n=C[t],r="System"!==n.name||n.is_user?n.is_user?"user":"assistant":"system";e.unshift({role:r,content:a&&"system"!=r?`${n.name}: ${n.mes}`:n.mes,source:n})}$.addMany(e)}if("textgenerationwebui"===e){const ue=[...x];x&&(x=function(e,t,n){return(0,Z.formatInstructModeExamples)(e,t,n)}(x,j.name1,j.name2));const de=h.getPresetManager("sysprompt")?.getCompletionPresetByName(o);de&&(O=h.powerUserSettings.prefer_character_prompt&&O?O:J(de.content,j.name1,j.name2),O=w?(q=h.substituteParams(O,j.name1,j.name2,de.content),G=b,(0,Z.formatInstructModeSystemPrompt)(q,G)):O);const he={description:f,personality:p,persona:h.powerUserSettings.persona_description_position==z.persona_description_positions.IN_PROMPT?m:"",scenario:g,system:O,char:j.name2,user:j.name1,wiBefore:Q,wiAfter:A,loreBefore:Q,loreAfter:A,mesExamples:x.join(""),mesExamplesRaw:ue.join("")},fe=h.getPresetManager("context")?.getCompletionPresetByName(i);let pe=function(e,{customStoryString:t,customInstructSettings:n}={}){return(0,z.renderStoryString)(e,{customStoryString:t,customInstructSettings:n})}(he,{customInstructSettings:b,customStoryString:fe?.story_string});pe&&$.add({role:"system",content:pe,ignoreInstruct:!0}),W()}else{let me=(F=C,(0,U.setOpenAIMessages)(F)),ge=function(e){return(0,U.setOpenAIMessageExamples)(e)}(x);async function ve(){let[e,t]=await function({name2:e,charDescription:t,charPersonality:n,Scenario:r,worldInfoBefore:i,worldInfoAfter:o,bias:s,type:a,quietPrompt:l,quietImage:c,extensionPrompts:u,cyclePrompt:d,systemPromptOverride:h,jailbreakPromptOverride:f,personaDescription:p,messages:m,messageExamples:g},v){return(0,U.prepareOpenAIMessages)({name2:e,charDescription:t,charPersonality:n,Scenario:r,worldInfoBefore:i,worldInfoAfter:o,bias:s,type:a,quietPrompt:l,quietImage:c,cyclePrompt:d,systemPromptOverride:h,jailbreakPromptOverride:f,personaDescription:p,extensionPrompts:u,messages:m,messageExamples:g},v)}({name2:j.name2,charDescription:f,charPersonality:p,Scenario:g,worldInfoBefore:Q,worldInfoAfter:A,extensionPrompts:h.extensionPrompts,bias:"",type:"normal",quietPrompt:void 0,quietImage:void 0,cyclePrompt:"",systemPromptOverride:O,jailbreakPromptOverride:y,personaDescription:m,messages:me,messageExamples:ge},!1);$.addMany(e)}if(!n)return S.push("No preset name provided. Using default preset."),await ve(),{result:$.getMessages(),warnings:S};const Oe=h.getPresetManager("openai")?.getCompletionPresetByName(n);if(!Oe)return console.warn(`Preset not found: ${n}. Using current preset.`),S.push(`Preset not found: ${n}. Using current preset.`),ve(),{result:$.getMessages(),warnings:S};let ye=Oe.prompt_order?.find(e=>e.character_id===j.this_chid);if(!ye&&Oe.prompt_order&&Oe.prompt_order.length>0&&(ye=Oe.prompt_order[0]),!ye)return console.warn(`No prompt order found for preset: ${n}. Using current preset.`),S.push(`No prompt order found for preset: ${n}. Using current preset.`),ve(),{result:$.getMessages(),warnings:S};const be=g&&Oe.scenario_format?h.substituteParams(Oe.scenario_format):"",we=p&&Oe.personality_format?h.substituteParams(Oe.personality_format):"",xe=h.substituteParams(Oe.group_nudge_prompt),Se=Oe.impersonation_prompt?h.substituteParams(Oe.impersonation_prompt):"",ke=[];u||ke.push({role:"system",content:te(Q,{wiFormat:Oe.wi_format}),identifier:"worldInfoBefore"},{role:"system",content:te(A,{wiFormat:Oe.wi_format}),identifier:"worldInfoAfter"}),l||ke.push({role:"system",content:f,identifier:"charDescription"},{role:"system",content:we,identifier:"charPersonality"},{role:"system",content:be,identifier:"scenario"}),ke.push({role:"system",content:Se,identifier:"impersonate"},{role:"system",content:xe,identifier:"groupNudge"});const $e=h.extensionPrompts["1_memory"];$e&&$e.value&&ke.push({role:ee($e.role),content:$e.value,identifier:"summary",position:ne($e.position)});const _e=h.extensionPrompts["2_floating_prompt"];!c&&_e&&_e.value&&ke.push({role:ee(_e.role),content:_e.value,identifier:"authorsNote",position:ne(_e.position)});const Pe=h.extensionPrompts["3_vectors"];Pe&&Pe.value&&ke.push({role:"system",content:Pe.value,identifier:"vectorsMemory",position:ne(Pe.position)});const Ee=h.extensionPrompts["4_vectors_data_bank"];Ee&&Ee.value&&ke.push({role:ee(Ee.role),content:Ee.value,identifier:"vectorsDataBank",position:ne(Ee.position)});const Ce=h.extensionPrompts.chromadb;function Te(e){const t=ke.find(t=>t.identifier===e);if(t)return t;const n=Oe.prompts.find(t=>t.identifier===e);return n||void 0}Ce&&Ce.value&&ke.push({role:"system",content:Ce.value,identifier:"smartContext",position:ne(Ce.position)}),!l&&h.powerUserSettings.persona_description&&h.powerUserSettings.persona_description_position===z.persona_description_positions.IN_PROMPT&&ke.push({role:"system",content:h.powerUserSettings.persona_description,identifier:"personaDescription"}),ye.order.forEach(e=>{if(!e.enabled)return;const t=Te(e.identifier);t&&t.content?$.add({role:t.role??"system",content:h.substituteParams(t.content)}):"chatHistory"===e.identifier&&W()})}var F,q,G;const re=["1_memory","2_floating_prompt","3_vectors","4_vectors_data_bank","chromadb","PERSONA_DESCRIPTION","QUIET_PROMPT","DEPTH_PROMPT"];for(const Ie in h.extensionPrompts)if(Object.hasOwn(h.extensionPrompts,Ie)){const Qe=h.extensionPrompts[Ie];if(re.includes(Ie))continue;if(!h.extensionPrompts[Ie].value)continue;if(![j.extension_prompt_types.BEFORE_PROMPT,j.extension_prompt_types.IN_PROMPT].includes(Qe.position))continue;if("function"==typeof Qe.filter&&!await Qe.filter())continue;const Ae={role:ee(Qe.role)??"system",content:Qe.value};if(Qe.position===j.extension_prompt_types.BEFORE_PROMPT)$.insert(Qe.depth,Ae);else if(Qe.position===j.extension_prompt_types.IN_PROMPT){const Ne=$.getMessages();$.insert(Ne.length-Qe.depth,Ae)}}for(const Me of M){const De=$.getMessages();$.insert(De.length-Me.depth,{role:ee(Me.role),content:Me.entries.join("\n")})}if(!l){const ze=(ie=V.selected_group,oe=Number(j.this_chid),(0,V.getGroupDepthPrompts)(ie,oe));if(V.selected_group&&Array.isArray(ze)&&ze.length>0)ze.filter(e=>e.text).forEach((e,t)=>{const n=$.getMessages();$.insert(n.length-e.depth,{role:e.role,content:e.text})});else{const je=J(h.characters[j.this_chid]?.data?.extensions?.depth_prompt?.prompt?.trim(),j.name1,j.name2)||"";if(je){const Re=j.depth_prompt_depth_default,Ze=h.characters[j.this_chid]?.data?.extensions?.depth_prompt?.role??j.depth_prompt_role_default,Le=$.getMessages();$.insert(Le.length-Re,{role:ee(Ze),content:je})}}}var ie,oe;let se=-1;if(!c){const Ue={prompt:j.chat_metadata[X.metadata_keys.prompt],interval:j.chat_metadata[X.metadata_keys.interval],position:j.chat_metadata[X.metadata_keys.position],depth:j.chat_metadata[X.metadata_keys.depth],role:j.chat_metadata[X.metadata_keys.role]};if(Ue.prompt){Ue.prompt=J(Ue.prompt,j.name1,j.name2);const Xe={role:ee(Ue.role),content:Ue.prompt};switch(Ue.position){case j.extension_prompt_types.IN_PROMPT:$.insert(1,Xe),se=1;break;case j.extension_prompt_types.IN_CHAT:se=$.getMessages().length-Ue.depth,$.insert(se,Xe);break;case j.extension_prompt_types.BEFORE_PROMPT:$.addFront(Xe),se=0}}}return se>=0&&(D.length>0&&($.insert(se,{role:"system",content:D.join("\n")}),se++),Y.length>0&&$.insert(se+1,{role:"system",content:Y.join("\n")})),{result:$.getMessages(),warnings:S}}var yn;!function(e){e.NATIVE="native",e.JSON="json",e.XML="xml"}(yn||(yn={}));function bn(){return{nodes:[{id:crypto.randomUUID(),type:"triggerNode",position:{x:50,y:100},data:{selectedEventType:"user_message_rendered"}},{id:crypto.randomUUID(),type:"ifNode",position:{x:300,y:100},data:{conditions:[{id:crypto.randomUUID(),code:"return input.messageId > 10;"}]}}],edges:[]}}var wn={version:"0.1.0",formatVersion:"F_1.0",enabled:!0,prompts:{json:"You are a highly specialized AI assistant. Your SOLE purpose is to generate a single, valid JSON object that strictly adheres to the provided JSON schema.\n\n**CRITICAL INSTRUCTIONS:**\n1.  You MUST wrap the entire JSON object in a markdown code block (```json\\n...\\n```).\n2.  Your response MUST NOT contain any explanatory text, comments, or any other content outside of this single code block.\n3.  The JSON object inside the code block MUST be valid and conform to the schema.\n\n**TASK:**\n{{instructions}}\n\n**JSON SCHEMA TO FOLLOW:**\n```json\n{{schema}}\n```\n\n**EXAMPLE OF A PERFECT RESPONSE:**\n```json\n{{example_response}}\n```",xml:"You are a highly specialized AI assistant. Your SOLE purpose is to generate a single, valid XML structure that strictly adheres to the provided example.\n\n**CRITICAL INSTRUCTIONS:**\n1.  You MUST wrap the entire XML object in a markdown code block (```xml\\n...\\n```).\n2.  Your response MUST NOT contain any explanatory text, comments, or any other content outside of this single code block.\n3.  The XML object inside the code block MUST be valid.\n\n**TASK:**\n{{instructions}}\n\n**EXAMPLE OF A PERFECT RESPONSE:**\n```xml\n<root>\n{{example_response}}\n</root>\n```"},activeFlow:"Default",flows:{Default:bn()}};function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function kn(){var e=xn((0,E.useState)(0),2)[1];return(0,E.useCallback)(function(){return e(function(e){return e+1})},[])}var $n=function(){var e=kn(),t=GV.getSettings();return(0,P.jsxs)("div",{className:"flowchart-popup-section",children:[(0,P.jsx)("h3",{children:"Prompt Templates"}),Object.keys(t.prompts).map(function(n){var r=n;return(0,P.jsxs)("div",{className:"setting-row",children:[(0,P.jsxs)("div",{className:"title_restorable",children:[(0,P.jsx)("label",{style:{textTransform:"capitalize"},children:n.replace(/([A-Z])/g," $1")}),(0,P.jsx)("button",{className:"fa-solid fa-undo",title:"Restore ".concat(n," to default"),onClick:function(){return function(n){t.prompts[n]=wn.prompts[n],e()}(r)}})]}),(0,P.jsx)(A,{value:t.prompts[r],onChange:function(n){return function(n,r){t.prompts[n]=r,e()}(r,n.target.value)},rows:8})]},n)})]})};function _n(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=_n(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Pn={value:()=>{}};function En(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Cn(r)}function Cn(e){this._=e}function Tn(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function In(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Pn,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Cn.prototype=En.prototype={constructor:Cn,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=i[o]).type)r[n]=In(r[n],e.name,t);else if(null==t)for(n in r)r[n]=In(r[n],e.name,null);return this}for(;++o<s;)if((n=(e=i[o]).type)&&(n=Tn(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Cn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Qn=En;function An(){}function Nn(e){return null==e?An:function(){return this.querySelector(e)}}function Mn(){return[]}function Dn(e){return null==e?Mn:function(){return this.querySelectorAll(e)}}function zn(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function jn(e){return function(){return this.matches(e)}}function Rn(e){return function(t){return t.matches(e)}}var Zn=Array.prototype.find;function Ln(){return this.firstElementChild}var Un=Array.prototype.filter;function Xn(){return Array.from(this.children)}function Vn(e){return new Array(e.length)}function Bn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Yn(e,t,n,r,i,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Bn(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function Wn(e,t,n,r,i,o,s){var a,l,c,u=new Map,d=t.length,h=o.length,f=new Array(d);for(a=0;a<d;++a)(l=t[a])&&(f[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<h;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new Bn(e,o[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function Fn(e){return e.__data__}function qn(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Gn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Bn.prototype={constructor:Bn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Hn="http://www.w3.org/1999/xhtml";const Kn={svg:"http://www.w3.org/2000/svg",xhtml:Hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jn(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Kn.hasOwnProperty(t)?{space:Kn[t],local:e}:e}function er(e){return function(){this.removeAttribute(e)}}function tr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nr(e,t){return function(){this.setAttribute(e,t)}}function rr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ir(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function or(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ar(e){return function(){this.style.removeProperty(e)}}function lr(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cr(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ur(e,t){return e.style.getPropertyValue(t)||sr(e).getComputedStyle(e,null).getPropertyValue(t)}function dr(e){return function(){delete this[e]}}function hr(e,t){return function(){this[e]=t}}function fr(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function pr(e){return e.trim().split(/^|\s+/)}function mr(e){return e.classList||new gr(e)}function gr(e){this._node=e,this._names=pr(e.getAttribute("class")||"")}function vr(e,t){for(var n=mr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Or(e,t){for(var n=mr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function yr(e){return function(){vr(this,e)}}function br(e){return function(){Or(this,e)}}function wr(e,t){return function(){(t.apply(this,arguments)?vr:Or)(this,e)}}function xr(){this.textContent=""}function Sr(e){return function(){this.textContent=e}}function kr(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function $r(){this.innerHTML=""}function _r(e){return function(){this.innerHTML=e}}function Pr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Er(){this.nextSibling&&this.parentNode.appendChild(this)}function Cr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hn&&t.documentElement.namespaceURI===Hn?t.createElement(e):t.createElementNS(n,e)}}function Ir(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qr(e){var t=Jn(e);return(t.local?Ir:Tr)(t)}function Ar(){return null}function Nr(){var e=this.parentNode;e&&e.removeChild(this)}function Mr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zr(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function jr(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Rr(e,t,n){var r=sr(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Zr(e,t){return function(){return Rr(this,e,t)}}function Lr(e,t){return function(){return Rr(this,e,t.apply(this,arguments))}}gr.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ur=[null];function Xr(e,t){this._groups=e,this._parents=t}function Vr(){return new Xr([[document.documentElement]],Ur)}Xr.prototype=Vr.prototype={constructor:Xr,select:function(e){"function"!=typeof e&&(e=Nn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=t[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new Xr(r,this._parents)},selectAll:function(e){e="function"==typeof e?zn(e):Dn(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new Xr(r,i)},selectChild:function(e){return this.select(null==e?Ln:function(e){return function(){return Zn.call(this.children,e)}}("function"==typeof e?e:Rn(e)))},selectChildren:function(e){return this.selectAll(null==e?Xn:function(e){return function(){return Un.call(this.children,e)}}("function"==typeof e?e:Rn(e)))},filter:function(e){"function"!=typeof e&&(e=jn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Xr(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Fn);var n=t?Wn:Yn,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],h=d.length,f=qn(e.call(u,u&&u.__data__,c,r)),p=f.length,m=a[c]=new Array(p),g=s[c]=new Array(p);n(u,d,m,g,l[c]=new Array(h),f,t);for(var v,O,y=0,b=0;y<p;++y)if(v=m[y]){for(y>=b&&(b=y+1);!(O=g[b])&&++b<p;);v._next=O||null}}return(s=new Xr(s,r))._enter=a,s._exit=l,s},enter:function(){return new Xr(this._enter||this._groups.map(Vn),this._parents)},exit:function(){return new Xr(this._exit||this._groups.map(Vn),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],d=r[l],h=u.length,f=a[l]=new Array(h),p=0;p<h;++p)(c=u[p]||d[p])&&(f[p]=c);for(;l<i;++l)a[l]=n[l];return new Xr(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Gn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new Xr(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=Jn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?tr:er:"function"==typeof t?n.local?or:ir:n.local?rr:nr)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ar:"function"==typeof t?cr:lr)(e,t,null==n?"":n)):ur(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?dr:"function"==typeof t?fr:hr)(e,t)):this.node()[e]},classed:function(e,t){var n=pr(e+"");if(arguments.length<2){for(var r=mr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?wr:t?yr:br)(n,t))},text:function(e){return arguments.length?this.each(null==e?xr:("function"==typeof e?kr:Sr)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?$r:("function"==typeof e?Pr:_r)(e)):this.node().innerHTML},raise:function(){return this.each(Er)},lower:function(){return this.each(Cr)},append:function(e){var t="function"==typeof e?e:Qr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Qr(e),r=null==t?Ar:"function"==typeof t?t:Nn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Nr)},clone:function(e){return this.select(e?Dr:Mr)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?jr:zr,r=0;r<s;++r)this.each(a(o[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Lr:Zr)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Br=Vr;function Yr(e){return"string"==typeof e?new Xr([[document.querySelector(e)]],[document.documentElement]):new Xr([[e]],Ur)}function Wr(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Fr={passive:!1},qr={capture:!0,passive:!1};function Gr(e){e.stopImmediatePropagation()}function Hr(e){e.preventDefault(),e.stopImmediatePropagation()}function Kr(e){var t=e.document.documentElement,n=Yr(e).on("dragstart.drag",Hr,qr);"onselectstart"in t?n.on("selectstart.drag",Hr,qr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Jr(e,t){var n=e.document.documentElement,r=Yr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Hr,qr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ei=e=>()=>e;function ti(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function ni(e){return!e.ctrlKey&&!e.button}function ri(){return this.parentNode}function ii(e,t){return null==t?{x:e.x,y:e.y}:t}function oi(){return navigator.maxTouchPoints||"ontouchstart"in this}function si(){var e,t,n,r,i=ni,o=ri,s=ii,a=oi,l={},c=Qn("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(a).on("touchstart.drag",g).on("touchmove.drag",v,Fr).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,a){if(!r&&i.call(this,s,a)){var l=y(this,o.call(this,s,a),s,a,"mouse");l&&(Yr(s.view).on("mousemove.drag",p,qr).on("mouseup.drag",m,qr),Kr(s.view),Gr(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function p(r){if(Hr(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>d}l.mouse("drag",r)}function m(e){Yr(e.view).on("mousemove.drag mouseup.drag",null),Jr(e.view,n),Hr(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,s=e.changedTouches,a=o.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=y(this,a,e,t,s[n].identifier,s[n]))&&(Gr(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(Hr(e),n("drag",e,r[t]))}function O(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<o;++t)(n=l[i[t].identifier])&&(Gr(e),n("end",e,i[t]))}function y(e,t,n,r,i,o){var a,d,f,p=c.copy(),m=Wr(o||n,t);if(null!=(f=s.call(e,new ti("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return a=f.x-m[0]||0,d=f.y-m[1]||0,function n(o,s,c){var g,v=m;switch(o){case"start":l[i]=n,g=u++;break;case"end":delete l[i],--u;case"drag":m=Wr(c||s,t),g=u}p.call(o,e,new ti(o,{sourceEvent:s,subject:f,target:h,identifier:i,active:g,x:m[0]+a,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:ei(!!e),h):i},h.container=function(e){return arguments.length?(o="function"==typeof e?e:ei(e),h):o},h.subject=function(e){return arguments.length?(s="function"==typeof e?e:ei(e),h):s},h.touchable=function(e){return arguments.length?(a="function"==typeof e?e:ei(!!e),h):a},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}ti.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ai(e){return((e=Math.exp(e))+1/e)/2}const li=function e(t,n,r){function i(e,i){var o,s,a=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],f=u-a,p=d-l,m=f*f+p*p;if(m<1e-12)s=Math.log(h/c)/t,o=function(e){return[a+e*f,l+e*p,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*n*g),O=(h*h-c*c-r*m)/(2*h*n*g),y=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(O*O+1)-O);s=(b-y)/t,o=function(e){var r=e*s,i=ai(y),o=c/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+y)-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[a+o*f,l+o*p,c*i/ai(t*r+y)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);var ci,ui,di=0,hi=0,fi=0,pi=0,mi=0,gi=0,vi="object"==typeof performance&&performance.now?performance:Date,Oi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yi(){return mi||(Oi(bi),mi=vi.now()+gi)}function bi(){mi=0}function wi(){this._call=this._time=this._next=null}function xi(e,t,n){var r=new wi;return r.restart(e,t,n),r}function Si(){mi=(pi=vi.now())+gi,di=hi=0;try{!function(){yi(),++di;for(var e,t=ci;t;)(e=mi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--di}()}finally{di=0,function(){var e,t,n=ci,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ci=t);ui=e,$i(r)}(),mi=0}}function ki(){var e=vi.now(),t=e-pi;t>1e3&&(gi-=t,pi=e)}function $i(e){di||(hi&&(hi=clearTimeout(hi)),e-mi>24?(e<1/0&&(hi=setTimeout(Si,e-vi.now()-gi)),fi&&(fi=clearInterval(fi))):(fi||(pi=vi.now(),fi=setInterval(ki,1e3)),di=1,Oi(Si)))}function _i(e,t,n){var r=new wi;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}wi.prototype=xi.prototype={constructor:wi,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?yi():+n)+(null==t?0:+t),this._next||ui===this||(ui?ui._next=this:ci=this,ui=this),this._call=e,this._time=n,$i()},stop:function(){this._call&&(this._call=null,this._time=1/0,$i())}};var Pi=Qn("start","end","cancel","interrupt"),Ei=[];function Ci(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(o){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return _i(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(_i(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=xi(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:Pi,tween:Ei,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ti(e,t){var n=Qi(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ii(e,t){var n=Qi(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Qi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ai(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}function Ni(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Mi,Di=180/Math.PI,zi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ji(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Di,skewX:Math.atan(l)*Di,scaleX:s,scaleY:a}}function Ri(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],l=[];return o=e(o),s=e(s),function(e,r,i,o,s,a){if(e!==i||r!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:Ni(e,i)},{i:l-2,x:Ni(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ni(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,a,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ni(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,a,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Ni(e,n)},{i:a-2,x:Ni(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var Zi=Ri(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zi:ji(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Li=Ri(function(e){return null==e?zi:(Mi||(Mi=document.createElementNS("http://www.w3.org/2000/svg","g")),Mi.setAttribute("transform",e),(e=Mi.transform.baseVal.consolidate())?ji((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):zi)},", ",")",")");function Ui(e,t){var n,r;return function(){var i=Ii(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function Xi(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ii(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Vi(e,t,n){var r=e._id;return e.each(function(){var e=Ii(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Qi(e,r).value[t]}}function Bi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wi(){}var Fi=.7,qi=1/Fi,Gi="\\s*([+-]?\\d+)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ji=/^#([0-9a-f]{3,8})$/,eo=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),to=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),no=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${Hi}\\)$`),ro=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Hi}\\)$`),io=new RegExp(`^hsl\\(${Hi},${Ki},${Ki}\\)$`),oo=new RegExp(`^hsla\\(${Hi},${Ki},${Ki},${Hi}\\)$`),so={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ao(){return this.rgb().formatHex()}function lo(){return this.rgb().formatRgb()}function co(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ji.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?uo(t):3===n?new po(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ho(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ho(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=eo.exec(e))?new po(t[1],t[2],t[3],1):(t=to.exec(e))?new po(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=no.exec(e))?ho(t[1],t[2],t[3],t[4]):(t=ro.exec(e))?ho(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=io.exec(e))?bo(t[1],t[2]/100,t[3]/100,1):(t=oo.exec(e))?bo(t[1],t[2]/100,t[3]/100,t[4]):so.hasOwnProperty(e)?uo(so[e]):"transparent"===e?new po(NaN,NaN,NaN,0):null}function uo(e){return new po(e>>16&255,e>>8&255,255&e,1)}function ho(e,t,n,r){return r<=0&&(e=t=n=NaN),new po(e,t,n,r)}function fo(e,t,n,r){return 1===arguments.length?((i=e)instanceof Wi||(i=co(i)),i?new po((i=i.rgb()).r,i.g,i.b,i.opacity):new po):new po(e,t,n,null==r?1:r);var i}function po(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function mo(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function go(){const e=vo(this.opacity);return`${1===e?"rgb(":"rgba("}${Oo(this.r)}, ${Oo(this.g)}, ${Oo(this.b)}${1===e?")":`, ${e})`}`}function vo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yo(e){return((e=Oo(e))<16?"0":"")+e.toString(16)}function bo(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xo(e,t,n,r)}function wo(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof Wi||(e=co(e)),!e)return new xo;if(e instanceof xo)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new xo(s,a,l,e.opacity)}function xo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function So(e){return(e=(e||0)%360)<0?e+360:e}function ko(e){return Math.max(0,Math.min(1,e||0))}function $o(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function _o(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}Bi(Wi,co,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ao,formatHex:ao,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wo(this).formatHsl()},formatRgb:lo,toString:lo}),Bi(po,fo,Yi(Wi,{brighter(e){return e=null==e?qi:Math.pow(qi,e),new po(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Fi:Math.pow(Fi,e),new po(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new po(Oo(this.r),Oo(this.g),Oo(this.b),vo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mo,formatHex:mo,formatHex8:function(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:go,toString:go})),Bi(xo,function(e,t,n,r){return 1===arguments.length?wo(e):new xo(e,t,n,null==r?1:r)},Yi(Wi,{brighter(e){return e=null==e?qi:Math.pow(qi,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Fi:Math.pow(Fi,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new po($o(e>=240?e-240:e+120,i,r),$o(e,i,r),$o(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xo(So(this.h),ko(this.s),ko(this.l),vo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vo(this.opacity);return`${1===e?"hsl(":"hsla("}${So(this.h)}, ${100*ko(this.s)}%, ${100*ko(this.l)}%${1===e?")":`, ${e})`}`}}));const Po=e=>()=>e;function Eo(e,t){return function(n){return e+n*t}}function Co(e){return 1===(e=+e)?To:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Po(isNaN(t)?n:t)}}function To(e,t){var n=t-e;return n?Eo(e,n):Po(isNaN(e)?t:e)}const Io=function e(t){var n=Co(t);function r(e,t){var r=n((e=fo(e)).r,(t=fo(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=To(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Qo(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=fo(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}Qo(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return _o((n-r/t)*t,s,i,o,a)}}),Qo(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return _o((n-r/t)*t,i,o,s,a)}});var Ao=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,No=new RegExp(Ao.source,"g");function Mo(e,t){var n,r,i,o=Ao.lastIndex=No.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Ao.exec(e))&&(r=No.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Ni(n,r)})),o=No.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function Do(e,t){var n;return("number"==typeof t?Ni:t instanceof co?Io:(n=co(t))?(t=n,Io):Mo)(e,t)}function zo(e){return function(){this.removeAttribute(e)}}function jo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ro(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Zo(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Lo(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttribute(e)}}function Uo(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function Xo(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Vo(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Bo(e,t){return function(){Ti(this,e).delay=+t.apply(this,arguments)}}function Yo(e,t){return t=+t,function(){Ti(this,e).delay=t}}function Wo(e,t){return function(){Ii(this,e).duration=+t.apply(this,arguments)}}function Fo(e,t){return t=+t,function(){Ii(this,e).duration=t}}var qo=Br.prototype.constructor;function Go(e){return function(){this.style.removeProperty(e)}}var Ho=0;function Ko(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Jo(){return++Ho}var es=Br.prototype;Ko.prototype=function(e){return Br().transition(e)}.prototype={constructor:Ko,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Nn(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,d=o[s]=new Array(u),h=0;h<u;++h)(a=c[h])&&(l=e.call(a,a.__data__,h,c))&&("__data__"in a&&(l.__data__=a.__data__),d[h]=l,Ci(d[h],t,n,h,d,Qi(a,n)));return new Ko(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Dn(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),p=Qi(l,n),m=0,g=f.length;m<g;++m)(h=f[m])&&Ci(h,t,n,m,f,p);o.push(f),s.push(l)}return new Ko(o,s,t,n)},selectChild:es.selectChild,selectChildren:es.selectChildren,filter:function(e){"function"!=typeof e&&(e=jn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Ko(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=t[a],u=n[a],d=c.length,h=s[a]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;a<r;++a)s[a]=t[a];return new Ko(s,this._parents,this._name,this._id)},selection:function(){return new qo(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Jo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=Qi(s,t);Ci(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ko(r,this._parents,e,n)},call:es.call,nodes:es.nodes,node:es.node,size:es.size,empty:es.empty,each:es.each,on:function(e,t){var n=this._id;return arguments.length<2?Qi(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Ti:Ii;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=Jn(e),r="transform"===n?Li:Do;return this.attrTween(e,"function"==typeof t?(n.local?Uo:Lo)(n,r,Vi(this,"attr."+e,t)):null==t?(n.local?jo:zo)(n):(n.local?Zo:Ro)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Jn(e);return this.tween(n,(r.local?Xo:Vo)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Zi:Do;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=ur(this,e),s=(this.style.removeProperty(e),ur(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,Go(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=ur(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=ur(this,e)),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}(e,r,Vi(this,"style."+e,t))).each(function(e,t){var n,r,i,o,s="style."+t,a="end."+s;return function(){var l=Ii(this,e),c=l.on,u=null==l.value[s]?o||(o=Go(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var s=ur(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Vi(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Qi(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?Ui:Xi)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Bo:Yo)(t,e)):Qi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Wo:Fo)(t,e)):Qi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Ii(this,e).ease=t}}(t,e)):Qi(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Ii(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0===--i&&o()}};n.each(function(){var n=Ii(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t}),0===i&&o()})},[Symbol.iterator]:es[Symbol.iterator]};var ts={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ns(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Br.prototype.interrupt=function(e){return this.each(function(){Ai(this,e)})},Br.prototype.transition=function(e){var t,n;e instanceof Ko?(t=e._id,e=e._name):(t=Jo(),(n=ts).time=yi(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Ci(s,e,t,c,a,n||ns(s,t));return new Ko(r,this._parents,e,t)};const rs=e=>()=>e;function is(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function os(e,t,n){this.k=e,this.x=t,this.y=n}os.prototype={constructor:os,scale:function(e){return 1===e?this:new os(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new os(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ss=new os(1,0,0);function as(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ss;return e.__zoom}function ls(e){e.stopImmediatePropagation()}function cs(e){e.preventDefault(),e.stopImmediatePropagation()}function us(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function ds(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function hs(){return this.__zoom||ss}function fs(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ps(){return navigator.maxTouchPoints||"ontouchstart"in this}function ms(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function gs(){var e,t,n,r=us,i=ds,o=ms,s=fs,a=ps,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=li,h=Qn("start","zoom","end"),f=0,p=10;function m(e){e.property("__zoom",hs).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",$).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new os(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new os(e.k,r,i)}function O(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,o=arguments,s=b(e,o).event(r),a=i.apply(e,o),l=null==n?O(a):"function"==typeof n?n.apply(e,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,o):t,f=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=f(e),n=c/t[2];e=new os(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function x(e,...t){if(r.apply(this,arguments)){var n=b(this,t).event(e),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=Wr(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],Ai(this),n.start()}cs(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",o(v(g(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=b(this,t,!0).event(e),a=Yr(e.view).on("mousemove.zoom",function(e){if(cs(e),!s.moved){var t=e.clientX-u,n=e.clientY-d;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",o(v(s.that.__zoom,s.mouse[0]=Wr(e,i),s.mouse[1]),s.extent,c))},!0).on("mouseup.zoom",function(e){a.on("mousemove.zoom mouseup.zoom",null),Jr(e.view,s.moved),cs(e),s.event(e).end()},!0),l=Wr(e,i),u=e.clientX,d=e.clientY;Kr(e.view),ls(e),s.mouse=[l,this.__zoom.invert(l)],Ai(this),s.start()}}function k(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=Wr(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(s),l=n.k*(e.shiftKey?.5:2),d=o(v(g(n,l),s,a),i.apply(this,t),c);cs(e),u>0?Yr(this).transition().duration(u).call(y,d,s,e):Yr(this).call(m.transform,d,s,e)}}function $(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,d=b(this,i,n.changedTouches.length===u).event(n);for(ls(n),s=0;s<u;++s)l=[l=Wr(a=c[s],this),this.__zoom.invert(l),a.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,o=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(d.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),Ai(this),d.start())}}function _(e,...t){if(this.__zooming){var n,r,i,s,a=b(this,t).event(e),l=e.changedTouches,u=l.length;for(cs(e),n=0;n<u;++n)i=Wr(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var d=a.touch0[0],h=a.touch0[1],f=a.touch1[0],p=a.touch1[1],m=(m=f[0]-d[0])*m+(m=f[1]-d[1])*m,O=(O=p[0]-h[0])*O+(O=p[1]-h[1])*O;r=g(r,Math.sqrt(m/O)),i=[(d[0]+f[0])/2,(d[1]+f[1])/2],s=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(v(r,i,s),a.extent,c))}}function P(e,...r){if(this.__zooming){var i,o,s=b(this,r).event(e),a=e.changedTouches,l=a.length;for(ls(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=Wr(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<p)){var c=Yr(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",hs),e!==i?y(e,t,n,r):i.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?O(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return o(v(g(r,l),s,a),e,c)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)},null,r)},m.translateTo=function(e,t,n,r,s){m.transform(e,function(){var e=i.apply(this,arguments),s=this.__zoom,a=null==r?O(e):"function"==typeof r?r.apply(this,arguments):r;return o(ss.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,s)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Yr(this.that).datum();h.call(e,this.that,new is(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:rs(+e),m):s},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:rs(!!e),m):r},m.touchable=function(e){return arguments.length?(a="function"==typeof e?e:rs(!!e),m):a},m.extent=function(e){return arguments.length?(i="function"==typeof e?e:rs([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}function vs(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=ws(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function Os(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ys(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=ws(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function bs(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function ws(e,t){var n,r=typeof t;return null==t||"boolean"===r?Po(t):("number"===r?Ni:"string"===r?(n=co(t))?(t=n,Io):Mo:t instanceof co?Io:t instanceof Date?Os:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?bs:Array.isArray(t)?vs:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ys:Ni)(e,t)}as.prototype=os.prototype;const xs=()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",Ss=e=>`Node type "${e}" not found. Using fallback type "default".`,ks=()=>"The React Flow parent container needs a width and a height to render the graph.",$s=()=>"Only child nodes can use a parent extent.",_s=()=>"Can't create edge. An edge needs a source and a target.",Ps=e=>`Marker type "${e}" doesn't exist.`,Es=(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`,Cs=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",Ts=e=>`Edge type "${e}" not found. Using fallback type "default".`,Is=e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,Qs=()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",As=()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs.",Ns=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ms=["Enter"," ","Escape"],Ds={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var zs,js,Rs;!function(e){e.Strict="strict",e.Loose="loose"}(zs||(zs={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(js||(js={})),function(e){e.Partial="partial",e.Full="full"}(Rs||(Rs={}));const Zs={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ls,Us,Xs;!function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Ls||(Ls={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(Us||(Us={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Xs||(Xs={}));const Vs={[Xs.Left]:Xs.Right,[Xs.Right]:Xs.Left,[Xs.Top]:Xs.Bottom,[Xs.Bottom]:Xs.Top};function Bs(e){return null===e?null:e?"valid":"invalid"}const Ys=e=>"id"in e&&"source"in e&&"target"in e,Ws=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Fs=(e,t=[0,0])=>{const{width:n,height:r}=xa(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},qs=(e,t={})=>{if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(e=>{if(void 0===t.filter||t.filter(e)){const t=ca(e);n=oa(n,t)}}),aa(n)},Gs=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...ga(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const t of e.values()){const{measured:e,selectable:n=!0,hidden:r=!1}=t;if(s&&!n||r)continue;const i=e.width??t.width??t.initialWidth??null,c=e.height??t.height??t.initialHeight??null,u=da(a,la(t)),d=(i??0)*(c??0),h=o&&u>0;(!t.internals.handleBounds||h||u>=d||t.dragging)&&l.push(t)}return l};async function Hs({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(0===e.size)return Promise.resolve(!0);const a=function(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{!e.measured.width||!e.measured.height||!t?.includeHiddenNodes&&e.hidden||r&&!r.has(e.id)||n.set(e.id,e)}),n}(e,s),l=qs(a),c=ya(l,t,n,s?.minZoom??i,s?.maxZoom??o,s?.padding??.1);return await r.setViewport(c,{duration:s?.duration,ease:s?.ease,interpolate:s?.interpolate}),Promise.resolve(!0)}function Ks({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=s.origin??r;let d=s.extent||i;if("parent"!==s.extent||s.expandParent)a&&wa(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+c],[s.extent[1][0]+l,s.extent[1][1]+c]]);else if(a){const e=a.measured.width,t=a.measured.height;e&&t&&(d=[[l,c],[l+e,c+t]])}else o?.("005",$s());const h=wa(d)?ta(t,d,s.measured):t;return void 0!==s.measured.width&&void 0!==s.measured.height||o?.("015",As()),{position:{x:h.x-l+(s.measured.width??0)*u[0],y:h.y-c+(s.measured.height??0)*u[1]},positionAbsolute:h}}async function Js({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(e=>e.id)),s=[];for(const e of n){if(!1===e.deletable)continue;const t=o.has(e.id),n=!t&&e.parentId&&s.find(t=>t.id===e.parentId);(t||n)&&s.push(e)}const a=new Set(t.map(e=>e.id)),l=r.filter(e=>!1!==e.deletable),c=((e,t)=>{const n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))})(s,l),u=c;for(const e of l){a.has(e.id)&&!u.find(t=>t.id===e.id)&&u.push(e)}if(!i)return{edges:u,nodes:s};const d=await i({nodes:s,edges:u});return"boolean"==typeof d?d?{edges:u,nodes:s}:{edges:[],nodes:[]}:d}const ea=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ta=(e={x:0,y:0},t,n)=>({x:ea(e.x,t[0][0],t[1][0]-(n?.width??0)),y:ea(e.y,t[0][1],t[1][1]-(n?.height??0))});function na(e,t,n){const{width:r,height:i}=xa(n),{x:o,y:s}=n.internals.positionAbsolute;return ta(e,[[o,s],[o+r,s+i]],t)}const ra=(e,t,n)=>e<t?ea(Math.abs(e-t),1,t)/t:e>n?-ea(Math.abs(e-n),1,t)/t:0,ia=(e,t,n=15,r=40)=>[ra(e.x,r,t.width-r)*n,ra(e.y,r,t.height-r)*n],oa=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),sa=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),aa=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),la=(e,t=[0,0])=>{const{x:n,y:r}=Ws(e)?e.internals.positionAbsolute:Fs(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},ca=(e,t=[0,0])=>{const{x:n,y:r}=Ws(e)?e.internals.positionAbsolute:Fs(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},ua=(e,t)=>aa(oa(sa(e),sa(t))),da=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ha=e=>fa(e.width)&&fa(e.height)&&fa(e.x)&&fa(e.y),fa=e=>!isNaN(e)&&isFinite(e),pa=(e,t)=>{0},ma=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ga=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?ma(a,s):a},va=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Oa(e,t){if("number"==typeof e)return Math.floor(.5*(t-t/(1+e)));if("string"==typeof e&&e.endsWith("px")){const t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}const ya=(e,t,n,r,i,o)=>{const s=function(e,t,n){if("string"==typeof e||"number"==typeof e){const r=Oa(e,n),i=Oa(e,t);return{top:r,right:i,bottom:r,left:i,x:2*i,y:2*r}}if("object"==typeof e){const r=Oa(e.top??e.y??0,n),i=Oa(e.bottom??e.y??0,n),o=Oa(e.left??e.x??0,t),s=Oa(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(o,t,n),a=(t-s.x)/e.width,l=(n-s.y)/e.height,c=Math.min(a,l),u=ea(c,r,i),d=t/2-(e.x+e.width/2)*u,h=n/2-(e.y+e.height/2)*u,f=function(e,t,n,r,i,o){const{x:s,y:a}=va(e,[t,n,r]),{x:l,y:c}=va({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=i-l,d=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(d)}}(e,d,h,u,t,n),p=Math.min(f.left-s.left,0),m=Math.min(f.top-s.top,0);return{x:d-p+Math.min(f.right-s.right,0),y:h-m+Math.min(f.bottom-s.bottom,0),zoom:u}},ba=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function wa(e){return null!=e&&"parent"!==e}function xa(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Sa(e){return void 0!==(e.measured?.width??e.width??e.initialWidth)&&void 0!==(e.measured?.height??e.height??e.initialHeight)}function ka(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const e=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*e[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*e[1]}return o}function $a(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function _a(e){return{...Ds,...e||{}}}function Pa(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Aa(e),a=ga({x:o-(i?.left??0),y:s-(i?.top??0)},r),{x:l,y:c}=n?ma(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const Ea=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ca=e=>e?.getRootNode?.()||window?.document,Ta=["INPUT","SELECT","TEXTAREA"];function Ia(e){const t=e.composedPath?.()?.[0]||e.target;if(1!==t?.nodeType)return!1;return Ta.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Qa=e=>"clientX"in e,Aa=(e,t)=>{const n=Qa(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},Na=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return o&&o.length?Array.from(o).map(t=>{const o=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:i,position:t.getAttribute("data-handlepos"),x:(o.left-n.left)/r,y:(o.top-n.top)/r,...Ea(t)}}):null};function Ma({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=.125*e+.375*i+.375*s+.125*n,c=.125*t+.375*o+.375*a+.125*r;return[l,c,Math.abs(l-e),Math.abs(c-t)]}function Da(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function za({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Xs.Left:return[t-Da(t-r,o),n];case Xs.Right:return[t+Da(r-t,o),n];case Xs.Top:return[t,n-Da(n-i,o)];case Xs.Bottom:return[t,n+Da(i-n,o)]}}function ja({sourceX:e,sourceY:t,sourcePosition:n=Xs.Bottom,targetX:r,targetY:i,targetPosition:o=Xs.Top,curvature:s=.25}){const[a,l]=za({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,u]=za({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,h,f,p]=Ma({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,d,h,f,p]}function Ra({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2;return[o,r<t?r+s:r-s,i,s]}function Za({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=oa(ca(e),ca(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return da(s,aa(o))>0}const La=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Ua=(e,t)=>{if(!e.source||!e.target)return pa(0,_s()),t;let n;return n=Ys(e)?{...e}:{...e,id:La(e)},((e,t)=>t.some(t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle))))(n,t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n))};function Xa({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Ra({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Va={[Xs.Left]:{x:-1,y:0},[Xs.Right]:{x:1,y:0},[Xs.Top]:{x:0,y:-1},[Xs.Bottom]:{x:0,y:1}},Ba=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ya({source:e,sourcePosition:t=Xs.Bottom,target:n,targetPosition:r=Xs.Top,center:i,offset:o,stepPosition:s}){const a=Va[t],l=Va[r],c={x:e.x+a.x*o,y:e.y+a.y*o},u={x:n.x+l.x*o,y:n.y+l.y*o},d=(({source:e,sourcePosition:t=Xs.Bottom,target:n})=>t===Xs.Left||t===Xs.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1})({source:c,sourcePosition:t,target:u}),h=0!==d.x?"x":"y",f=d[h];let p,m,g=[];const v={x:0,y:0},O={x:0,y:0},[,,y,b]=Ra({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*l[h]===-1){"x"===h?(p=i.x??c.x+(u.x-c.x)*s,m=i.y??(c.y+u.y)/2):(p=i.x??(c.x+u.x)/2,m=i.y??c.y+(u.y-c.y)*s);const e=[{x:p,y:c.y},{x:p,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=a[h]===f?"x"===h?e:t:"x"===h?t:e}else{const i=[{x:c.x,y:u.y}],s=[{x:u.x,y:c.y}];if(g="x"===h?a.x===f?s:i:a.y===f?i:s,t===r){const t=Math.abs(e[h]-n[h]);if(t<=o){const r=Math.min(o-1,o-t);a[h]===f?v[h]=(c[h]>e[h]?-1:1)*r:O[h]=(u[h]>n[h]?-1:1)*r}}if(t!==r){const e="x"===h?"y":"x",t=a[h]===l[e],n=c[e]>u[e],r=c[e]<u[e];(1===a[h]&&(!t&&n||t&&r)||1!==a[h]&&(!t&&r||t&&n))&&(g="x"===h?i:s)}const d={x:c.x+v.x,y:c.y+v.y},y={x:u.x+O.x,y:u.y+O.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(y.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(y.y-g[0].y))?(p=(d.x+y.x)/2,m=g[0].y):(p=g[0].x,m=(d.y+y.y)/2)}return[[e,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+O.x,y:u.y+O.y},n],p,m,y,b]}function Wa({sourceX:e,sourceY:t,sourcePosition:n=Xs.Bottom,targetX:r,targetY:i,targetPosition:o=Xs.Top,borderRadius:s=5,centerX:a,centerY:l,offset:c=20,stepPosition:u=.5}){const[d,h,f,p,m]=Ya({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:c,stepPosition:u}),g=d.reduce((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const i=Math.min(Ba(e,t)/2,Ba(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s)return`L ${o+i*(e.x<n.x?-1:1)},${s}Q ${o},${s} ${o},${s+i*(e.y<n.y?1:-1)}`;const a=e.x<n.x?1:-1;return`L ${o},${s+i*(e.y<n.y?-1:1)}Q ${o},${s} ${o+i*a},${s}`}(d[n-1],t,d[n+1],s):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=r},"");return[g,h,f,p,m]}function Fa(e){return e&&!(!e.internals.handleBounds&&!e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function qa(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function Ga(e,t,n=Xs.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,o=(t?.y??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??xa(e);if(r)return{x:i+s/2,y:o+a/2};switch(t?.position??n){case Xs.Top:return{x:i+s/2,y:o};case Xs.Right:return{x:i+s,y:o+a/2};case Xs.Bottom:return{x:i+s/2,y:o+a};case Xs.Left:return{x:i,y:o+a/2}}}function Ha(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function Ka(e,t){if(!e)return"";if("string"==typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}const Ja={nodeOrigin:[0,0],nodeExtent:Ns,elevateNodesOnSelect:!0,defaults:{}},el={...Ja,checkEquality:!0};function tl(e,t){const n={...e};for(const e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function nl(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const t of e.handles){const i={id:t.id,width:t.width??1,height:t.height??1,nodeId:e.id,x:t.x,y:t.y,position:t.position,type:t.type};"source"===t.type?n.push(i):"target"===t.type&&r.push(i)}return{source:n,target:r}}function rl(e,t,n,r){const i=tl(el,r);let o=e.length>0;const s=new Map(t),a=i?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const l of e){let e=s.get(l.id);if(i.checkEquality&&l===e?.internals.userNode)t.set(l.id,e);else{const n=Fs(l,i.nodeOrigin),r=wa(l.extent)?l.extent:i.nodeExtent,o=ta(n,r,xa(l));e={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:o,handleBounds:nl(l,e),z:ol(l,a),userNode:l}},t.set(l.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(o=!1),l.parentId&&il(e,t,n,r)}return o}function il(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=tl(Ja,r),a=e.parentId,l=t.get(a);if(!l)return void console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);const c=i?1e3:0,{x:u,y:d,z:h}=function(e,t,n,r,i){const{x:o,y:s}=t.internals.positionAbsolute,a=xa(e),l=Fs(e,n),c=wa(e.extent)?ta(l,e.extent,a):l;let u=ta({x:o+c.x,y:s+c.y},r,a);"parent"===e.extent&&(u=na(u,a,t));const d=ol(e,i),h=t.internals.z??0;return{x:u.x,y:u.y,z:h>=d?h+1:d}}(e,l,o,s,c),{positionAbsolute:f}=e.internals,p=u!==f.x||d!==f.y;(p||h!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:p?{x:u,y:d}:f,z:h}})}function ol(e,t){return(fa(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function sl(e,t,n,r=[0,0]){const i=[],o=new Map;for(const n of e){const e=t.get(n.parentId);if(!e)continue;const r=o.get(n.parentId)?.expandedRect??la(e),i=ua(r,n.rect);o.set(n.parentId,{expandedRect:i,parent:e})}return o.size>0&&o.forEach(({expandedRect:t,parent:o},s)=>{const a=o.internals.positionAbsolute,l=xa(o),c=o.origin??r,u=t.x<a.x?Math.round(Math.abs(a.x-t.x)):0,d=t.y<a.y?Math.round(Math.abs(a.y-t.y)):0,h=Math.max(l.width,Math.round(t.width)),f=Math.max(l.height,Math.round(t.height)),p=(h-l.width)*c[0],m=(f-l.height)*c[1];(u>0||d>0||p||m)&&(i.push({id:s,type:"position",position:{x:o.position.x-u+p,y:o.position.y-d+m}}),n.get(s)?.forEach(t=>{e.some(e=>e.id===t.id)||i.push({id:t.id,type:"position",position:{x:t.position.x+u,y:t.position.y+d}})})),(l.width<t.width||l.height<t.height||u||d)&&i.push({id:s,type:"dimensions",setAttributes:!0,dimensions:{width:h+(u?c[0]*u-p:0),height:f+(d?c[1]*d-m:0)}})}),i}function al(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),o){s=`${i}-${e}-${o}`;const a=r.get(s)||new Map;r.set(s,a.set(n,t))}}function ll(e,t,n){e.clear(),t.clear();for(const r of n){const{source:n,target:i,sourceHandle:o=null,targetHandle:s=null}=r,a={edgeId:r.id,source:n,target:i,sourceHandle:o,targetHandle:s},l=`${n}-${o}--${i}-${s}`;al("source",a,`${i}-${s}--${n}-${o}`,e,n,o),al("target",a,l,e,i,s),t.set(r.id,r)}}function cl(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return!!n&&(!!n.selected||cl(n,t))}function ul(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function dl({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[e,o]of t){const t=n.get(e)?.internals.userNode;t&&i.push({...t,position:o.position,dragging:r})}if(!e)return[i[0],i];const o=n.get(e)?.internals.userNode;return[o?{...o,position:t.get(e)?.position||o.position,dragging:r}:i[0],i]}function hl({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,h=null,f=!1,p=!1,m=null;return{update:function({noDragClassName:g,handleSelector:v,domNode:O,isSelectable:y,nodeId:b,nodeClickDistance:w=0}){function x({x:e,y:n}){const{nodeLookup:i,nodeExtent:s,snapGrid:l,snapToGrid:c,nodeOrigin:u,onNodeDrag:d,onSelectionDrag:h,onError:f,updateNodePositions:g}=t();o={x:e,y:n};let v=!1;const O=a.size>1,y=O&&s?sa(qs(a)):null,w=O&&c?function({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=ma(o,t);return{x:s.x-o.x,y:s.y-o.y}}({dragItems:a,snapGrid:l,x:e,y:n}):null;for(const[t,r]of a){if(!i.has(t))continue;let o={x:e-r.distance.x,y:n-r.distance.y};c&&(o=w?{x:Math.round(o.x+w.x),y:Math.round(o.y+w.y)}:ma(o,l));let a=null;if(O&&s&&!r.extent&&y){const{positionAbsolute:e}=r.internals,t=e.x-y.x+s[0][0],n=e.x+r.measured.width-y.x2+s[1][0];a=[[t,e.y-y.y+s[0][1]],[n,e.y+r.measured.height-y.y2+s[1][1]]]}const{position:d,positionAbsolute:h}=Ks({nodeId:t,nextPosition:o,nodeLookup:i,nodeExtent:a||s,nodeOrigin:u,onError:f});v=v||r.position.x!==d.x||r.position.y!==d.y,r.position=d,r.internals.positionAbsolute=h}if(p=p||v,v&&(g(a,!0),m&&(r||d||!b&&h))){const[e,t]=dl({nodeId:b,dragItems:a,nodeLookup:i});r?.(m,a,e,t),d?.(m,e,t),b||h?.(m,t)}}async function S(){if(!u)return;const{transform:e,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:i}=t();if(!i)return l=!1,void cancelAnimationFrame(s);const[a,d]=ia(c,u,r);0===a&&0===d||(o.x=(o.x??0)-a/e[2],o.y=(o.y??0)-d/e[2],await n({x:a,y:d})&&x(o)),s=requestAnimationFrame(S)}function k(r){const{nodeLookup:i,multiSelectionActive:s,nodesDraggable:l,transform:c,snapGrid:h,snapToGrid:f,selectNodesOnDrag:p,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:v}=t();d=!0,p&&y||s||!b||i.get(b)?.selected||v(),y&&p&&b&&e?.(b);const O=Pa(r.sourceEvent,{transform:c,snapGrid:h,snapToGrid:f,containerBounds:u});if(o=O,a=function(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!cl(s,e))&&(s.draggable||t&&void 0===s.draggable)){const t=e.get(o);t&&i.set(o,{id:o,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return i}(i,l,O,b),a.size>0&&(n||m||!b&&g)){const[e,t]=dl({nodeId:b,dragItems:a,nodeLookup:i});n?.(r.sourceEvent,a,e,t),m?.(r.sourceEvent,e,t),b||g?.(r.sourceEvent,t)}}h=Yr(O);const $=si().clickDistance(w).on("start",e=>{const{domNode:n,nodeDragThreshold:r,transform:i,snapGrid:s,snapToGrid:a}=t();u=n?.getBoundingClientRect()||null,f=!1,p=!1,m=e.sourceEvent,0===r&&k(e);const l=Pa(e.sourceEvent,{transform:i,snapGrid:s,snapToGrid:a,containerBounds:u});o=l,c=Aa(e.sourceEvent,u)}).on("drag",e=>{const{autoPanOnNodeDrag:n,transform:r,snapGrid:i,snapToGrid:s,nodeDragThreshold:h,nodeLookup:p}=t(),g=Pa(e.sourceEvent,{transform:r,snapGrid:i,snapToGrid:s,containerBounds:u});if(m=e.sourceEvent,("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||b&&!p.has(b))&&(f=!0),!f){if(!l&&n&&d&&(l=!0,S()),!d){const t=Aa(e.sourceEvent,u),n=t.x-c.x,r=t.y-c.y;Math.sqrt(n*n+r*r)>h&&k(e)}(o.x!==g.xSnapped||o.y!==g.ySnapped)&&a&&d&&(c=Aa(e.sourceEvent,u),x(g))}}).on("end",e=>{if(d&&!f&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:n,updateNodePositions:r,onNodeDragStop:o,onSelectionDragStop:s}=t();if(p&&(r(a,!1),p=!1),i||o||!b&&s){const[t,r]=dl({nodeId:b,dragItems:a,nodeLookup:n,dragging:!1});i?.(e.sourceEvent,a,t,r),o?.(e.sourceEvent,t,r),b||s?.(e.sourceEvent,r)}}}).filter(e=>{const t=e.target;return!e.button&&(!g||!ul(t,`.${g}`,O))&&(!v||ul(t,v,O))});h.call($)},destroy:function(){h?.on(".drag",null)}}}function fl(e,t,n,r){let i=[],o=1/0;const s=function(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(const e of t.values())da(i,la(e))>0&&r.push(e);return r}(e,n,t+250);for(const n of s){const s=[...n.internals.handleBounds?.source??[],...n.internals.handleBounds?.target??[]];for(const a of s){if(r.nodeId===a.nodeId&&r.type===a.type&&r.id===a.id)continue;const{x:s,y:l}=Ga(n,a,a.position,!0),c=Math.sqrt(Math.pow(s-e.x,2)+Math.pow(l-e.y,2));c>t||(c<o?(i=[{...a,x:s,y:l}],o=c):c===o&&i.push({...a,x:s,y:l}))}}if(!i.length)return null;if(i.length>1){const e="source"===r.type?"target":"source";return i.find(t=>t.type===e)??i[0]}return i[0]}function pl(e,t,n,r,i,o=!1){const s=r.get(e);if(!s)return null;const a="strict"===i?s.internals.handleBounds?.[t]:[...s.internals.handleBounds?.source??[],...s.internals.handleBounds?.target??[]],l=(n?a?.find(e=>e.id===n):a?.[0])??null;return l&&o?{...l,...Ga(s,l,l.position,!0)}:l}function ml(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}const gl=()=>!0;function vl(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:c=gl,nodeLookup:u}){const d="target"===o,h=t?s.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:f,y:p}=Aa(e),m=s.elementFromPoint(f,p),g=m?.classList.contains(`${a}-flow__handle`)?m:h,v={handleDomNode:g,isValid:!1,connection:null,toHandle:null};if(g){const e=ml(void 0,g),t=g.getAttribute("data-nodeid"),o=g.getAttribute("data-handleid"),s=g.classList.contains("connectable"),a=g.classList.contains("connectableend");if(!t||!e)return v;const l={source:d?t:r,sourceHandle:d?o:i,target:d?r:t,targetHandle:d?i:o};v.connection=l;const h=s&&a&&(n===zs.Strict?d&&"source"===e||!d&&"target"===e:t!==r||o!==i);v.isValid=h&&c(l),v.toHandle=pl(t,e,o,u,n,!0)}return v}const Ol={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:h,cancelConnection:f,onConnectStart:p,onConnect:m,onConnectEnd:g,isValidConnection:v=gl,onReconnectEnd:O,updateConnection:y,getTransform:b,getFromHandle:w,autoPanSpeed:x,dragThreshold:S=1,handleDomNode:k}){const $=Ca(e.target);let _,P=0;const{x:E,y:C}=Aa(e),T=ml(o,k),I=a?.getBoundingClientRect();let Q=!1;if(!I||!T)return;const A=pl(i,T,r,l,t);if(!A)return;let N=Aa(e,I),M=!1,D=null,z=!1,j=null;function R(){if(!u||!I)return;const[e,t]=ia(N,I,x);h({x:e,y:t}),P=requestAnimationFrame(R)}const Z={...A,nodeId:i,type:T,position:A.position},L=l.get(i);let U={inProgress:!0,isValid:null,from:Ga(L,Z,Xs.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:L,to:N,toHandle:null,toPosition:Vs[Z.position],toNode:null};function X(){Q=!0,y(U),p?.(e,{nodeId:i,handleId:r,handleType:T})}function V(e){if(!Q){const{x:t,y:n}=Aa(e),r=t-E,i=n-C;if(!(r*r+i*i>S*S))return;X()}if(!w()||!Z)return void B(e);const o=b();N=Aa(e,I),_=fl(ga(N,o,!1,[1,1]),n,l,Z),M||(R(),M=!0);const a=vl(e,{handle:_,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:v,doc:$,lib:c,flowId:d,nodeLookup:l});j=a.handleDomNode,D=a.connection,z=function(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}(!!_,a.isValid);const u={...U,isValid:z,to:a.toHandle&&z?va({x:a.toHandle.x,y:a.toHandle.y},o):N,toHandle:a.toHandle,toPosition:z&&a.toHandle?a.toHandle.position:Vs[Z.position],toNode:a.toHandle?l.get(a.toHandle.nodeId):null};z&&_&&U.toHandle&&u.toHandle&&U.toHandle.type===u.toHandle.type&&U.toHandle.nodeId===u.toHandle.nodeId&&U.toHandle.id===u.toHandle.id&&U.to.x===u.to.x&&U.to.y===u.to.y||(y(u),U=u)}function B(e){if(!("touches"in e&&e.touches.length>0)){if(Q){(_||j)&&D&&z&&m?.(D);const{inProgress:t,...n}=U,r={...n,toPosition:U.toHandle?U.toPosition:null};g?.(e,r),o&&O?.(e,r)}f(),cancelAnimationFrame(P),M=!1,z=!1,D=null,j=null,$.removeEventListener("mousemove",V),$.removeEventListener("mouseup",B),$.removeEventListener("touchmove",V),$.removeEventListener("touchend",B)}}0===S&&X(),$.addEventListener("mousemove",V),$.addEventListener("mouseup",B),$.addEventListener("touchmove",V),$.addEventListener("touchend",B)},isValid:vl};const yl=e=>({x:e.x,y:e.y,zoom:e.k}),bl=({x:e,y:t,zoom:n})=>ss.translate(e,t).scale(n),wl=(e,t)=>e.target.closest(`.${t}`),xl=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Sl=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,kl=(e,t=0,n=Sl,r=()=>{})=>{const i="number"==typeof t&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},$l=e=>{const t=e.ctrlKey&&ba()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function _l({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),h=gs().clickDistance(!fa(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),f=Yr(e).call(h);O({x:o.x,y:o.y,zoom:ea(o.zoom,t,n)},[[0,0],[d.width,d.height]],i);const p=f.on("wheel.zoom"),m=f.on("dblclick.zoom");function g(e,t){return f?new Promise(n=>{h?.interpolate("linear"===t?.interpolate?ws:li).transform(kl(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)}function v(){h.on("zoom",null)}async function O(e,t,n){const r=bl(e),i=h?.constrain()(r,t,n);return i&&await g(i),new Promise(e=>e(i))}return h.wheelDelta($l),{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:i,panOnDrag:o,panOnScrollMode:d,panOnScrollSpeed:g,preventScrolling:O,zoomOnPinch:y,zoomOnScroll:b,zoomOnDoubleClick:w,zoomActivationKeyPressed:x,lib:S,onTransformChange:k,connectionInProgress:$}){r&&!u.isZoomingOrPanning&&v();const _=i&&!x&&!r?function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(wl(u,t))return u.ctrlKey&&u.preventDefault(),!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&s){const e=Wr(u),t=$l(u),i=d*Math.pow(2,t);return void r.scaleTo(n,i,e,u)}const h=1===u.deltaMode?20:1;let f=i===js.Vertical?0:u.deltaX*h,p=i===js.Horizontal?0:u.deltaY*h;!ba()&&u.shiftKey&&i!==js.Vertical&&(f=u.deltaY*h,p=0),r.translateBy(n,-f/d*o,-p/d*o,{internal:!0});const m=yl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a?.(u,m)),e.isPanScrolling&&(l?.(u,m),e.panScrollTimeout=setTimeout(()=>{c?.(u,m),e.isPanScrolling=!1},150))}}({zoomPanValues:u,noWheelClassName:e,d3Selection:f,d3Zoom:h,panOnScrollMode:d,panOnScrollSpeed:g,zoomOnPinch:y,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o="wheel"===r.type,s=!t&&o&&!r.ctrlKey,a=wl(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}({noWheelClassName:e,preventScrolling:O,d3ZoomHandler:p});if(f.on("wheel.zoom",_,{passive:!1}),!r){const e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=yl(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,"mousedown"===r.sourceEvent?.type&&t(!0),n&&n?.(r.sourceEvent,i)}}({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});h.on("start",e);const t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{e.usedRightMouseButton=!(!n||!xl(t,e.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,yl(o.transform))}}({zoomPanValues:u,panOnDrag:o,onPaneContextMenu:!!n,onPanZoom:s,onTransformChange:k});h.on("zoom",t);const r=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a,l;if(!s.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,o&&xl(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&(a=e.prevViewport,l=s.transform,a.x!==l.x||a.y!==l.y||a.zoom!==l.k))){const t=yl(s.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(s.sourceEvent,t)},n?150:0)}}}({zoomPanValues:u,panOnDrag:o,panOnScroll:i,onPaneContextMenu:n,onPanZoomEnd:l,onDraggingChange:c});h.on("end",r)}const P=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:u}){return d=>{const h=e||t,f=n&&d.ctrlKey,p="wheel"===d.type;if(1===d.button&&"mousedown"===d.type&&(wl(d,`${c}-flow__node`)||wl(d,`${c}-flow__edge`)))return!0;if(!(r||h||i||o||n))return!1;if(s)return!1;if(u&&!p)return!1;if(wl(d,a)&&p)return!1;if(wl(d,l)&&(!p||i&&p&&!e))return!1;if(!n&&d.ctrlKey&&p)return!1;if(!n&&"touchstart"===d.type&&d.touches?.length>1)return d.preventDefault(),!1;if(!h&&!i&&!f&&p)return!1;if(!r&&("mousedown"===d.type||"touchstart"===d.type))return!1;if(Array.isArray(r)&&!r.includes(d.button)&&"mousedown"===d.type)return!1;const m=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||p)&&m}}({zoomActivationKeyPressed:x,panOnDrag:o,zoomOnScroll:b,panOnScroll:i,zoomOnDoubleClick:w,zoomOnPinch:y,userSelectionActive:r,noPanClassName:t,noWheelClassName:e,lib:S,connectionInProgress:$});h.filter(P),w?f.on("dblclick.zoom",m):f.on("dblclick.zoom",null)},destroy:v,setViewport:async function(e,t){const n=bl(e);return await g(n,t),new Promise(e=>e(n))},setViewportConstrained:O,getViewport:function(){const e=f?as(f.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return f?new Promise(n=>{h?.interpolate("linear"===t?.interpolate?ws:li).scaleTo(kl(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},scaleBy:function(e,t){return f?new Promise(n=>{h?.interpolate("linear"===t?.interpolate?ws:li).scaleBy(kl(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},setScaleExtent:function(e){h?.scaleExtent(e)},setTranslateExtent:function(e){h?.translateExtent(e)},syncViewport:function(e){if(f){const t=bl(e),n=f.property("__zoom");n.k===e.zoom&&n.x===e.x&&n.y===e.y||h?.transform(f,t,null,{sync:!0})}},setClickDistance:function(e){const t=!fa(e)||e<0?0:e;h?.clickDistance(t)}}}var Pl;!function(e){e.Line="line",e.Handle="handle"}(Pl||(Pl={}));const El=["top-left","top-right","bottom-left","bottom-right"],Cl=["top","right","bottom","left"];function Tl(e,t){return Math.max(0,t-e)}function Il(e,t){return Math.max(0,e-t)}function Ql(e,t,n){return Math.max(0,t-e,e-n)}function Al(e,t){return e?!t:t}const Nl={width:0,height:0,x:0,y:0},Ml={...Nl,pointerX:0,pointerY:0,aspectRatio:1};function Dl(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function zl({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Yr(e);return{update:function({controlPosition:e,boundaries:s,keepAspectRatio:a,resizeDirection:l,onResizeStart:c,onResize:u,onResizeEnd:d,shouldResize:h}){let f={...Nl},p={...Ml};const m=function(e){return{isHorizontal:e.includes("right")||e.includes("left"),isVertical:e.includes("bottom")||e.includes("top"),affectsX:e.includes("left"),affectsY:e.includes("top")}}(e);let g,v,O,y,b=null,w=[],x=!1;const S=si().on("start",e=>{const{nodeLookup:r,transform:i,snapGrid:o,snapToGrid:s,nodeOrigin:a,paneDomNode:l}=n();if(g=r.get(t),!g)return;b=l?.getBoundingClientRect()??null;const{xSnapped:u,ySnapped:d}=Pa(e.sourceEvent,{transform:i,snapGrid:o,snapToGrid:s,containerBounds:b});f={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},p={...f,pointerX:u,pointerY:d,aspectRatio:f.width/f.height},v=void 0,g.parentId&&("parent"===g.extent||g.expandParent)&&(v=r.get(g.parentId),O=v&&"parent"===g.extent?function(e){return[[0,0],[e.measured.width,e.measured.height]]}(v):void 0),w=[],y=void 0;for(const[e,n]of r)if(n.parentId===t&&(w.push({id:e,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){const e=Dl(n,g,n.origin??a);y=y?[[Math.min(e[0][0],y[0][0]),Math.min(e[0][1],y[0][1])],[Math.max(e[1][0],y[1][0]),Math.max(e[1][1],y[1][1])]]:e}c?.(e,{...f})}).on("drag",e=>{const{transform:t,snapGrid:i,snapToGrid:o,nodeOrigin:c}=n(),d=Pa(e.sourceEvent,{transform:t,snapGrid:i,snapToGrid:o,containerBounds:b}),S=[];if(!g)return;const{x:k,y:$,width:_,height:P}=f,E={},C=g.origin??c,{width:T,height:I,x:Q,y:A}=function(e,t,n,r,i,o,s,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:d}=t,h=u&&d,{xSnapped:f,ySnapped:p}=n,{minWidth:m,maxWidth:g,minHeight:v,maxHeight:O}=r,{x:y,y:b,width:w,height:x,aspectRatio:S}=e;let k=Math.floor(u?f-e.pointerX:0),$=Math.floor(d?p-e.pointerY:0);const _=w+(l?-k:k),P=x+(c?-$:$),E=-o[0]*w,C=-o[1]*x;let T=Ql(_,m,g),I=Ql(P,v,O);if(s){let e=0,t=0;l&&k<0?e=Tl(y+k+E,s[0][0]):!l&&k>0&&(e=Il(y+_+E,s[1][0])),c&&$<0?t=Tl(b+$+C,s[0][1]):!c&&$>0&&(t=Il(b+P+C,s[1][1])),T=Math.max(T,e),I=Math.max(I,t)}if(a){let e=0,t=0;l&&k>0?e=Il(y+k,a[0][0]):!l&&k<0&&(e=Tl(y+_,a[1][0])),c&&$>0?t=Il(b+$,a[0][1]):!c&&$<0&&(t=Tl(b+P,a[1][1])),T=Math.max(T,e),I=Math.max(I,t)}if(i){if(u){const e=Ql(_/S,v,O)*S;if(T=Math.max(T,e),s){let e=0;e=!l&&!c||l&&!c&&h?Il(b+C+_/S,s[1][1])*S:Tl(b+C+(l?k:-k)/S,s[0][1])*S,T=Math.max(T,e)}if(a){let e=0;e=!l&&!c||l&&!c&&h?Tl(b+_/S,a[1][1])*S:Il(b+(l?k:-k)/S,a[0][1])*S,T=Math.max(T,e)}}if(d){const e=Ql(P*S,m,g)/S;if(I=Math.max(I,e),s){let e=0;e=!l&&!c||c&&!l&&h?Il(y+P*S+E,s[1][0])/S:Tl(y+(c?$:-$)*S+E,s[0][0])/S,I=Math.max(I,e)}if(a){let e=0;e=!l&&!c||c&&!l&&h?Tl(y+P*S,a[1][0])/S:Il(y+(c?$:-$)*S,a[0][0])/S,I=Math.max(I,e)}}}$+=$<0?I:-I,k+=k<0?T:-T,i&&(h?_>P*S?$=(Al(l,c)?-k:k)/S:k=(Al(l,c)?-$:$)*S:u?($=k/S,c=l):(k=$*S,l=c));const Q=l?y+k:y,A=c?b+$:b;return{width:w+(l?-k:k),height:x+(c?-$:$),x:o[0]*k*(l?-1:1)+Q,y:o[1]*$*(c?-1:1)+A}}(p,m,d,s,a,C,O,y),N=T!==_,M=I!==P,D=Q!==k&&N,z=A!==$&&M;if(!(D||z||N||M))return;if((D||z||1===C[0]||1===C[1])&&(E.x=D?Q:f.x,E.y=z?A:f.y,f.x=E.x,f.y=E.y,w.length>0)){const e=Q-k,t=A-$;for(const n of w)n.position={x:n.position.x-e+C[0]*(T-_),y:n.position.y-t+C[1]*(I-P)},S.push(n)}if((N||M)&&(E.width=!N||l&&"horizontal"!==l?f.width:T,E.height=!M||l&&"vertical"!==l?f.height:I,f.width=E.width,f.height=E.height),v&&g.expandParent){const e=C[0]*(E.width??0);E.x&&E.x<e&&(f.x=e,p.x=p.x-(E.x-e));const t=C[1]*(E.height??0);E.y&&E.y<t&&(f.y=t,p.y=p.y-(E.y-t))}const j=function({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=-1*l[0]),a&&o&&(l[1]=-1*l[1]),l}({width:f.width,prevWidth:_,height:f.height,prevHeight:P,affectsX:m.affectsX,affectsY:m.affectsY}),R={...f,direction:j},Z=h?.(e,R);!1!==Z&&(x=!0,u?.(e,R),r(E,S))}).on("end",e=>{x&&(d?.(e,{...f}),i?.({...f}),x=!1)});o.call(S)},destroy:function(){o.on(".drag",null)}}}var jl=O(242);const Rl=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,i,o);return o},Zl=e=>e?Rl(e):Rl;const{useDebugValue:Ll}=E,{useSyncExternalStoreWithSelector:Ul}=jl,Xl=e=>e;function Vl(e,t=Xl,n){const r=Ul(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ll(r),r}const Bl=(e,t)=>{const n=Zl(e),r=(e,r=t)=>Vl(n,e,r);return Object.assign(r,n),r};function Yl(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Wl=(0,E.createContext)(null),Fl=Wl.Provider,ql=xs();function Gl(e,t){const n=(0,E.useContext)(Wl);if(null===n)throw new Error(ql);return Vl(n,e,t)}function Hl(){const e=(0,E.useContext)(Wl);if(null===e)throw new Error(ql);return(0,E.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Kl={display:"none"},Jl={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ec="react-flow__node-desc",tc="react-flow__edge-desc",nc=e=>e.ariaLiveMessage,rc=e=>e.ariaLabelConfig;function ic({rfId:e}){const t=Gl(nc);return(0,P.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Jl,children:t})}function oc({rfId:e,disableKeyboardA11y:t}){const n=Gl(rc);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{id:`${ec}-${e}`,style:Kl,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),(0,P.jsx)("div",{id:`${tc}-${e}`,style:Kl,children:n["edge.a11yDescription.default"]}),!t&&(0,P.jsx)(ic,{rfId:e})]})}const sc=(0,E.forwardRef)(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=`${e}`.split("-");return(0,P.jsx)("div",{className:_n(["react-flow__panel",n,...s]),style:r,ref:o,...i,children:t})});function ac({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,P.jsx)(sc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,P.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}sc.displayName="Panel";const lc=e=>{const t=[],n=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},cc=e=>e.id;function uc(e,t){return Yl(e.selectedNodes.map(cc),t.selectedNodes.map(cc))&&Yl(e.selectedEdges.map(cc),t.selectedEdges.map(cc))}function dc({onSelectionChange:e}){const t=Hl(),{selectedNodes:n,selectedEdges:r}=Gl(lc,uc);return(0,E.useEffect)(()=>{const i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChangeHandlers.forEach(e=>e(i))},[n,r,e]),null}const hc=e=>!!e.onSelectionChangeHandlers;function fc({onSelectionChange:e}){const t=Gl(hc);return e||t?(0,P.jsx)(dc,{onSelectionChange:e}):null}const pc=[0,0],mc={x:0,y:0,zoom:1},gc=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig","rfId"],vc=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Oc={translateExtent:Ns,nodeOrigin:pc,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function yc(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=Gl(vc,Yl),u=Hl();(0,E.useEffect)(()=>(l(e.defaultNodes,e.defaultEdges),()=>{d.current=Oc,a()}),[]);const d=(0,E.useRef)(Oc);return(0,E.useEffect)(()=>{for(const a of gc){const l=e[a];l!==d.current[a]&&(void 0!==e[a]&&("nodes"===a?t(l):"edges"===a?n(l):"minZoom"===a?r(l):"maxZoom"===a?i(l):"translateExtent"===a?o(l):"nodeExtent"===a?s(l):"paneClickDistance"===a?c(l):"ariaLabelConfig"===a?u.setState({ariaLabelConfig:_a(l)}):"fitView"===a?u.setState({fitViewQueued:l}):"fitViewOptions"===a?u.setState({fitViewOptions:l}):u.setState({[a]:l})))}d.current=e},gc.map(t=>e[t])),null}function bc(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}const wc="undefined"!=typeof document?document:null;function xc(e=null,t={target:wc,actInsideInputWithModifier:!0}){const[n,r]=(0,E.useState)(!1),i=(0,E.useRef)(!1),o=(0,E.useRef)(new Set([])),[s,a]=(0,E.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,E.useEffect)(()=>{const n=t?.target??wc,l=t?.actInsideInputWithModifier??!0;if(null!==e){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey;if((!i.current||i.current&&!l)&&Ia(e))return!1;const n=kc(e.code,a);if(o.current.add(e[n]),Sc(s,o.current,!1)){const n=e.composedPath?.()?.[0]||e.target,o="BUTTON"===n?.nodeName||"A"===n?.nodeName;!1===t.preventDefault||!i.current&&o||e.preventDefault(),r(!0)}},c=e=>{const t=kc(e.code,a);Sc(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(e[t]),"Meta"===e.key&&o.current.clear(),i.current=!1},u=()=>{o.current.clear(),r(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",c),window.addEventListener("blur",u),window.addEventListener("contextmenu",u),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",c),window.removeEventListener("blur",u),window.removeEventListener("contextmenu",u)}}},[e,r]),n}function Sc(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function kc(e,t){return t.includes(e)?"code":"key"}function $c(e,t){const n=[],r=new Map,i=[];for(const t of e)if("add"!==t.type)if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{const e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}else i.push(t);for(const e of t){const t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}const i={...e};for(const e of t)_c(e,i);n.push(i)}return i.length&&i.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function _c(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(!0!==e.setAttributes&&"width"!==e.setAttributes||(t.width=e.dimensions.width),!0!==e.setAttributes&&"height"!==e.setAttributes||(t.height=e.dimensions.height))),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}function Pc(e,t){return $c(e,t)}function Ec(e,t){return $c(e,t)}function Cc(e,t){return{id:e,type:"select",selected:t}}function Tc(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const e=t.has(i);void 0===o.selected&&!e||o.selected===e||(n&&(o.selected=e),r.push(Cc(o.id,e)))}return r}function Ic({items:e=[],lookup:t}){const n=[],r=new Map(e.map(e=>[e.id,e]));for(const[r,i]of e.entries()){const e=t.get(i.id),o=e?.internals?.userNode??e;void 0!==o&&o!==i&&n.push({id:i.id,item:i,type:"replace"}),void 0===o&&n.push({item:i,type:"add",index:r})}for(const[e]of t){void 0===r.get(e)&&n.push({id:e,type:"remove"})}return n}function Qc(e){return{id:e.id,type:"remove"}}const Ac=e=>(e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e))(e);function Nc(e){return(0,E.forwardRef)(e)}const Mc="undefined"!=typeof window?E.useLayoutEffect:E.useEffect;function Dc(e){const[t,n]=(0,E.useState)(BigInt(0)),[r]=(0,E.useState)(()=>function(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}(()=>n(e=>e+BigInt(1))));return Mc(()=>{const t=r.get();t.length&&(e(t),r.reset())},[t]),r}const zc=(0,E.createContext)(null);function jc({children:e}){const t=Hl(),n=(0,E.useCallback)(e=>{const{nodes:n=[],setNodes:r,hasDefaultNodes:i,onNodesChange:o,nodeLookup:s,fitViewQueued:a}=t.getState();let l=n;for(const t of e)l="function"==typeof t?t(l):t;const c=Ic({items:l,lookup:s});i&&r(l),c.length>0?o?.(c):a&&window.requestAnimationFrame(()=>{const{fitViewQueued:e,nodes:n,setNodes:r}=t.getState();e&&r(n)})},[]),r=Dc(n),i=Dc((0,E.useCallback)(e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:o,edgeLookup:s}=t.getState();let a=n;for(const t of e)a="function"==typeof t?t(a):t;i?r(a):o&&o(Ic({items:a,lookup:s}))},[])),o=(0,E.useMemo)(()=>({nodeQueue:r,edgeQueue:i}),[]);return(0,P.jsx)(zc.Provider,{value:o,children:e})}const Rc=e=>!!e.panZoom;function Zc(){const e=(()=>{const e=Hl();return(0,E.useMemo)(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),l=ya(t,r,i,o,s,n?.padding??.1);return a?(await a.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:l}=s.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},u=n.snapGrid??i,d=n.snapToGrid??o;return ga(c,r,d,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=va(t,n);return{x:s.x+i,y:s.y+o}}}),[])})(),t=Hl(),n=function(){const e=(0,E.useContext)(zc);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}(),r=Gl(Rc),i=(0,E.useMemo)(()=>{const e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},i=e=>{n.edgeQueue.push(e)},o=e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState(),i=Ac(e)?e:n.get(e.id),o=i.parentId?ka(i.position,i.measured,i.parentId,n,r):i.position,s={...i,position:o,width:i.measured?.width??i.width,height:i.measured?.height??i.height};return la(s)},s=(e,t,n={replace:!1})=>{r(r=>r.map(r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&Ac(e)?e:{...r,...e}}return r}))},a=(e,t,n={replace:!1})=>{i(r=>r.map(r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&Ys(e)?e:{...r,...e}}return r}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{const{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:i,addNodes:e=>{const t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{const t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{const{nodes:e=[],edges:n=[],transform:r}=t.getState(),[i,o,s]=r;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:i,y:o,zoom:s}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{const{nodes:r,edges:i,onNodesDelete:o,onEdgesDelete:s,triggerNodeChanges:a,triggerEdgeChanges:l,onDelete:c,onBeforeDelete:u}=t.getState(),{nodes:d,edges:h}=await Js({nodesToRemove:e,edgesToRemove:n,nodes:r,edges:i,onBeforeDelete:u}),f=h.length>0,p=d.length>0;if(f){const e=h.map(Qc);s?.(h),l(e)}if(p){const e=d.map(Qc);o?.(d),a(e)}return(p||f)&&c?.({nodes:d,edges:h}),{deletedNodes:d,deletedEdges:h}},getIntersectingNodes:(e,n=!0,r)=>{const i=ha(e),s=i?e:o(e),a=void 0!==r;return s?(r||t.getState().nodes).filter(r=>{const o=t.getState().nodeLookup.get(r.id);if(o&&!i&&(r.id===e.id||!o.internals.positionAbsolute))return!1;const l=la(a?r:o),c=da(l,s);return n&&c>0||c>=l.width*l.height||c>=s.width*s.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{const r=ha(e)?e:o(e);if(!r)return!1;const i=da(r,t);return n&&i>0||i>=t.width*t.height||i>=r.width*r.height},updateNode:s,updateNodeData:(e,t,n={replace:!1})=>{s(e,e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},updateEdge:a,updateEdgeData:(e,t,n={replace:!1})=>{a(e,e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},getNodesBounds:e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState();return((e,t={nodeOrigin:[0,0]})=>{if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const r="string"==typeof n;let i=t.nodeLookup||r?void 0:n;t.nodeLookup&&(i=r?t.nodeLookup.get(n):Ws(n)?n:t.nodeLookup.get(n.id));const o=i?ca(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return oa(e,o)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return aa(n)})(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:({type:e,id:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}-${e}${n?`-${n}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}${e?n?`-${e}-${n}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{const r=t.getState().fitViewResolver??function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}();return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:r}),n.nodeQueue.push(e=>[...e]),r.promise}}},[]);return(0,E.useMemo)(()=>({...i,...e,viewportInitialized:r}),[r])}const Lc=e=>e.selected,Uc="undefined"!=typeof window?window:void 0;const Xc={position:"absolute",width:"100%",height:"100%",top:0,left:0},Vc=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Bc({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=js.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:f=!0,children:p,noWheelClassName:m,noPanClassName:g,onViewportChange:v,isControlledViewport:O,paneClickDistance:y}){const b=Hl(),w=(0,E.useRef)(null),{userSelectionActive:x,lib:S,connectionInProgress:k}=Gl(Vc,Yl),$=xc(h),_=(0,E.useRef)();!function(e){const t=Hl();(0,E.useEffect)(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??1))return!1;const n=Ea(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004",ks()),t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);const t=new ResizeObserver(()=>n());return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}},[])}(w);const C=(0,E.useCallback)(e=>{v?.({x:e[0],y:e[1],zoom:e[2]}),O||b.setState({transform:e})},[v,O]);return(0,E.useEffect)(()=>{if(w.current){_.current=_l({domNode:w.current,minZoom:u,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:y,onDraggingChange:e=>b.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{const{onViewportChangeStart:n,onMoveStart:r}=b.getState();r?.(e,t),n?.(t)},onPanZoom:(e,t)=>{const{onViewportChange:n,onMove:r}=b.getState();r?.(e,t),n?.(t)},onPanZoomEnd:(e,t)=>{const{onViewportChangeEnd:n,onMoveEnd:r}=b.getState();r?.(e,t),n?.(t)}});const{x:e,y:t,zoom:n}=_.current.getViewport();return b.setState({panZoom:_.current,transform:[e,t,n],domNode:w.current.closest(".react-flow")}),()=>{_.current?.destroy()}}},[]),(0,E.useEffect)(()=>{_.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:$,preventScrolling:f,noPanClassName:g,userSelectionActive:x,noWheelClassName:m,lib:S,onTransformChange:C,connectionInProgress:k})},[e,t,n,r,i,o,s,a,$,f,g,x,m,S,C,k]),(0,P.jsx)("div",{className:"react-flow__renderer",ref:w,style:Xc,children:p})}const Yc=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Wc(){const{userSelectionActive:e,userSelectionRect:t}=Gl(Yc,Yl);return e&&t?(0,P.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Fc=(e,t)=>n=>{n.target===t.current&&e?.(n)},qc=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Gc({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Rs.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:f}){const p=Hl(),{userSelectionActive:m,elementsSelectable:g,dragging:v,connectionInProgress:O}=Gl(qc,Yl),y=g&&(e||m),b=(0,E.useRef)(null),w=(0,E.useRef)(),x=(0,E.useRef)(new Set),S=(0,E.useRef)(new Set),k=(0,E.useRef)(!1),$=(0,E.useRef)(!1),_=e=>{k.current||O?k.current=!1:(a?.(e),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1}))},C=c?e=>c(e):void 0,T=!0===r||Array.isArray(r)&&r.includes(0);return(0,P.jsxs)("div",{className:_n(["react-flow__pane",{draggable:T,dragging:v,selection:e}]),onClick:y?void 0:Fc(_,b),onContextMenu:Fc(e=>{Array.isArray(r)&&r?.includes(2)?e.preventDefault():l?.(e)},b),onWheel:Fc(C,b),onPointerEnter:y?void 0:u,onPointerDown:y?t=>{const{resetSelectedElements:n,domNode:r}=p.getState();if(w.current=r?.getBoundingClientRect(),!g||!e||0!==t.button||t.target!==b.current||!w.current)return;t.target?.setPointerCapture?.(t.pointerId),$.current=!0,k.current=!1;const{x:i,y:s}=Aa(t.nativeEvent,w.current);n(),p.setState({userSelectionRect:{width:0,height:0,startX:i,startY:s,x:i,y:s}}),o?.(t)}:d,onPointerMove:y?e=>{const{userSelectionRect:t,transform:r,nodeLookup:i,edgeLookup:o,connectionLookup:s,triggerNodeChanges:a,triggerEdgeChanges:l,defaultEdgeOptions:c}=p.getState();if(!w.current||!t)return;k.current=!0;const{x:u,y:d}=Aa(e.nativeEvent,w.current),{startX:h,startY:f}=t,m={startX:h,startY:f,x:u<h?u:h,y:d<f?d:f,width:Math.abs(u-h),height:Math.abs(d-f)},g=x.current,v=S.current;x.current=new Set(Gs(i,m,r,n===Rs.Partial,!0).map(e=>e.id)),S.current=new Set;const O=c?.selectable??!0;for(const e of x.current){const t=s.get(e);if(t)for(const{edgeId:e}of t.values()){const t=o.get(e);t&&(t.selectable??O)&&S.current.add(e)}}if(!$a(g,x.current)){a(Tc(i,x.current,!0))}if(!$a(v,S.current)){l(Tc(o,S.current))}p.setState({userSelectionRect:m,userSelectionActive:!0,nodesSelectionActive:!1})}:d,onPointerUp:y?e=>{if(0!==e.button||!$.current)return;e.target?.releasePointerCapture?.(e.pointerId);const{userSelectionRect:n}=p.getState();!m&&n&&e.target===b.current&&_?.(e),p.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:x.current.size>0}),s?.(e),(t||i)&&(k.current=!1),$.current=!1}:void 0,onPointerLeave:h,ref:b,style:Xc,children:[f,(0,P.jsx)(Wc,{})]})}function Hc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])):l?.("012",Is(e))}function Kc({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=Hl(),[l,c]=(0,E.useState)(!1),u=(0,E.useRef)();return(0,E.useEffect)(()=>{u.current=hl({getStoreItems:()=>a.getState(),onNodeMouseDown:t=>{Hc({id:t,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),(0,E.useEffect)(()=>{if(t)u.current?.destroy();else if(e.current)return u.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{u.current?.destroy()}},[n,r,t,o,e,i]),l}function Jc(){const e=Hl(),t=(0,E.useCallback)(t=>{const{nodeExtent:n,snapToGrid:r,snapGrid:i,nodesDraggable:o,onError:s,updateNodePositions:a,nodeLookup:l,nodeOrigin:c}=e.getState(),u=new Map,d=(e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable))(o),h=r?i[0]:5,f=r?i[1]:5,p=t.direction.x*h*t.factor,m=t.direction.y*f*t.factor;for(const[,e]of l){if(!d(e))continue;let t={x:e.internals.positionAbsolute.x+p,y:e.internals.positionAbsolute.y+m};r&&(t=ma(t,i));const{position:o,positionAbsolute:a}=Ks({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:s});e.position=o,e.internals.positionAbsolute=a,u.set(e.id,e)}a(u)},[]);return t}const eu=(0,E.createContext)(null),tu=eu.Provider;eu.Consumer;const nu=()=>(0,E.useContext)(eu),ru=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId});const iu=(0,E.memo)(Nc(function({type:e="source",position:t=Xs.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...h},f){const p=s||null,m="target"===e,g=Hl(),v=nu(),{connectOnClick:O,noPanClassName:y,rfId:b}=Gl(ru,Yl),{connectingFrom:w,connectingTo:x,clickConnecting:S,isPossibleEndHandle:k,connectionInProcess:$,clickConnectionInProcess:_,valid:E}=Gl(((e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:c}=s,u=l?.nodeId===e&&l?.id===t&&l?.type===n;return{connectingFrom:a?.nodeId===e&&a?.id===t&&a?.type===n,connectingTo:u,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===n,isPossibleEndHandle:o===zs.Strict?a?.type!==n:e!==a?.nodeId||t!==a?.id,connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:u&&c}})(v,p,e),Yl);v||g.getState().onError?.("010",Cs());const C=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=g.getState(),i={...t,...e};if(r){const{edges:e,setEdges:t}=g.getState();t(Ua(i,e))}n?.(i),a?.(i)},T=e=>{if(!v)return;const t=Qa(e.nativeEvent);if(i&&(t&&0===e.button||!t)){const t=g.getState();Ol.onPointerDown(e.nativeEvent,{handleDomNode:e.currentTarget,autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:m,handleId:p,nodeId:v,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:C,isValidConnection:n||t.isValidConnection,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed,dragThreshold:t.connectionDragThreshold})}t?u?.(e):d?.(e)};return(0,P.jsx)("div",{"data-handleid":p,"data-nodeid":v,"data-handlepos":t,"data-id":`${b}-${v}-${p}-${e}`,className:_n(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!m,target:m,connectable:r,connectablestart:i,connectableend:o,clickconnecting:S,connectingfrom:w,connectingto:x,valid:E,connectionindicator:r&&(!$||k)&&($||_?o:i)}]),onMouseDown:T,onTouchStart:T,onClick:O?t=>{const{onClickConnectStart:r,onClickConnectEnd:o,connectionClickStartHandle:s,connectionMode:a,isValidConnection:l,lib:c,rfId:u,nodeLookup:d,connection:h}=g.getState();if(!v||!s&&!i)return;if(!s)return r?.(t.nativeEvent,{nodeId:v,handleId:p,handleType:e}),void g.setState({connectionClickStartHandle:{nodeId:v,type:e,id:p}});const f=Ca(t.target),m=n||l,{connection:O,isValid:y}=Ol.isValid(t.nativeEvent,{handle:{nodeId:v,id:p,type:e},connectionMode:a,fromNodeId:s.nodeId,fromHandleId:s.id||null,fromType:s.type,isValidConnection:m,flowId:u,doc:f,lib:c,nodeLookup:d});y&&O&&C(O);const b=structuredClone(h);delete b.inProgress,b.toPosition=b.toHandle?b.toHandle.position:null,o?.(t,b),g.setState({connectionClickStartHandle:null})}:void 0,ref:f,...h,children:l})}));const ou={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},su={input:function({data:e,isConnectable:t,sourcePosition:n=Xs.Bottom}){return(0,P.jsxs)(P.Fragment,{children:[e?.label,(0,P.jsx)(iu,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=Xs.Top,sourcePosition:r=Xs.Bottom}){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(iu,{type:"target",position:n,isConnectable:t}),e?.label,(0,P.jsx)(iu,{type:"source",position:r,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=Xs.Top}){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(iu,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}};const au=e=>{const{width:t,height:n,x:r,y:i}=qs(e.nodeLookup,{filter:e=>!!e.selected});return{width:fa(t)?t:null,height:fa(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function lu({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Hl(),{width:i,height:o,transformString:s,userSelectionActive:a}=Gl(au,Yl),l=Jc(),c=(0,E.useRef)(null);if((0,E.useEffect)(()=>{n||c.current?.focus({preventScroll:!0})},[n]),Kc({nodeRef:c}),a||!i||!o)return null;const u=e?t=>{const n=r.getState().nodes.filter(e=>e.selected);e(t,n)}:void 0;return(0,P.jsx)("div",{className:_n(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:(0,P.jsx)("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(ou,e.key)&&(e.preventDefault(),l({direction:ou[e.key],factor:e.shiftKey?4:1}))},style:{width:i,height:o}})})}const cu="undefined"!=typeof window?window:void 0,uu=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function du({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:p,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:v,zoomOnScroll:O,zoomOnPinch:y,panOnScroll:b,panOnScrollSpeed:w,panOnScrollMode:x,zoomOnDoubleClick:S,panOnDrag:k,defaultViewport:$,translateExtent:_,minZoom:C,maxZoom:T,preventScrolling:I,onSelectionContextMenu:Q,noWheelClassName:A,noPanClassName:N,disableKeyboardA11y:M,onViewportChange:D,isControlledViewport:z}){const{nodesSelectionActive:j,userSelectionActive:R}=Gl(uu),Z=xc(c,{target:cu}),L=xc(m,{target:cu}),U=L||k,X=L||b,V=u&&!0!==U,B=Z||R||V;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Hl(),{deleteElements:r}=Zc(),i=xc(e,{actInsideInputWithModifier:!1}),o=xc(t,{target:Uc});(0,E.useEffect)(()=>{if(i){const{edges:e,nodes:t}=n.getState();r({nodes:t.filter(Lc),edges:e.filter(Lc)}),n.setState({nodesSelectionActive:!1})}},[i]),(0,E.useEffect)(()=>{n.setState({multiSelectionActive:o})},[o])}({deleteKeyCode:l,multiSelectionKeyCode:p}),(0,P.jsx)(Bc,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:O,zoomOnPinch:y,panOnScroll:X,panOnScrollSpeed:w,panOnScrollMode:x,zoomOnDoubleClick:S,panOnDrag:!Z&&U,defaultViewport:$,translateExtent:_,minZoom:C,maxZoom:T,zoomActivationKeyCode:g,preventScrolling:I,noWheelClassName:A,noPanClassName:N,onViewportChange:D,isControlledViewport:z,paneClickDistance:a,children:(0,P.jsxs)(Gc,{onSelectionStart:h,onSelectionEnd:f,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:U,isSelecting:!!B,selectionMode:d,selectionKeyPressed:Z,selectionOnDrag:V,children:[e,j&&(0,P.jsx)(lu,{onSelectionContextMenu:Q,noPanClassName:N,disableKeyboardA11y:M})]})})}du.displayName="FlowRenderer";const hu=(0,E.memo)(du);function fu(e){const t=Gl((0,E.useCallback)((e=>t=>e?Gs(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()))(e),[e]),Yl);return t}const pu=e=>e.updateNodeInternals;function mu({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:d,noDragClassName:h,noPanClassName:f,disableKeyboardA11y:p,rfId:m,nodeTypes:g,nodeClickDistance:v,onError:O}){const{node:y,internals:b,isParent:w}=Gl(t=>{const n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}},Yl);let x=y.type||"default",S=g?.[x]||su[x];void 0===S&&(O?.("003",Ss(x)),x="default",S=g?.default||su.default);const k=!!(y.draggable||a&&void 0===y.draggable),$=!!(y.selectable||l&&void 0===y.selectable),_=!!(y.connectable||c&&void 0===y.connectable),C=!!(y.focusable||u&&void 0===y.focusable),T=Hl(),I=Sa(y),Q=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Hl(),o=(0,E.useRef)(null),s=(0,E.useRef)(null),a=(0,E.useRef)(e.sourcePosition),l=(0,E.useRef)(e.targetPosition),c=(0,E.useRef)(t),u=n&&!!e.internals.handleBounds;return(0,E.useEffect)(()=>{!o.current||e.hidden||u&&s.current===o.current||(s.current&&r?.unobserve(s.current),r?.observe(o.current),s.current=o.current)},[u,e.hidden]),(0,E.useEffect)(()=>()=>{s.current&&(r?.unobserve(s.current),s.current=null)},[]),(0,E.useEffect)(()=>{if(o.current){const n=c.current!==t,r=a.current!==e.sourcePosition,s=l.current!==e.targetPosition;(n||r||s)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}({node:y,nodeType:x,hasDimensions:I,resizeObserver:d}),A=Kc({nodeRef:Q,disabled:y.hidden||!k,noDragClassName:h,handleSelector:y.dragHandle,nodeId:e,isSelectable:$,nodeClickDistance:v}),N=Jc();if(y.hidden)return null;const M=xa(y),D=function(e){return void 0===e.internals.handleBounds?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}(y),z=$||k||t||n||r||i,j=n?e=>n(e,{...b.userNode}):void 0,R=r?e=>r(e,{...b.userNode}):void 0,Z=i?e=>i(e,{...b.userNode}):void 0,L=o?e=>o(e,{...b.userNode}):void 0,U=s?e=>s(e,{...b.userNode}):void 0;return(0,P.jsx)("div",{className:_n(["react-flow__node",`react-flow__node-${x}`,{[f]:k},y.className,{selected:y.selected,selectable:$,parent:w,draggable:k,dragging:A}]),ref:Q,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:z?"all":"none",visibility:I?"visible":"hidden",...y.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:j,onMouseMove:R,onMouseLeave:Z,onContextMenu:L,onClick:n=>{const{selectNodesOnDrag:r,nodeDragThreshold:i}=T.getState();$&&(!r||!k||i>0)&&Hc({id:e,store:T,nodeRef:Q}),t&&t(n,{...b.userNode})},onDoubleClick:U,onKeyDown:C?t=>{if(!Ia(t.nativeEvent)&&!p)if(Ms.includes(t.key)&&$){const n="Escape"===t.key;Hc({id:e,store:T,unselect:n,nodeRef:Q})}else if(k&&y.selected&&Object.prototype.hasOwnProperty.call(ou,t.key)){t.preventDefault();const{ariaLabelConfig:e}=T.getState();T.setState({ariaLiveMessage:e["node.a11yDescription.ariaLiveMessage"]({direction:t.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),N({direction:ou[t.key],factor:t.shiftKey?4:1})}}:void 0,tabIndex:C?0:void 0,onFocus:C?()=>{if(p||!Q.current?.matches(":focus-visible"))return;const{transform:t,width:n,height:r,autoPanOnNodeFocus:i,setCenter:o}=T.getState();if(!i)return;Gs(new Map([[e,y]]),{x:0,y:0,width:n,height:r},t,!0).length>0||o(y.position.x+M.width/2,y.position.y+M.height/2,{zoom:t[2]})}:void 0,role:y.ariaRole??(C?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${ec}-${m}`,"aria-label":y.ariaLabel,...y.domAttributes,children:(0,P.jsx)(tu,{value:e,children:(0,P.jsx)(S,{id:e,data:y.data,type:x,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:y.selected??!1,selectable:$,draggable:k,deletable:y.deletable??!0,isConnectable:_,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:A,dragHandle:y.dragHandle,zIndex:b.z,parentId:y.parentId,...M})})})}const gu=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function vu(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=Gl(gu,Yl),s=fu(e.onlyRenderVisibleElements),a=function(){const e=Gl(pu),[t]=(0,E.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{const n=new Map;t.forEach(e=>{const t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,E.useEffect)(()=>()=>{t?.disconnect()},[t]),t}();return(0,P.jsx)("div",{className:"react-flow__nodes",style:Xc,children:s.map(s=>(0,P.jsx)(mu,{id:s,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},s))})}vu.displayName="NodeRenderer";const Ou=(0,E.memo)(vu);const yu={[Us.Arrow]:({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return(0,P.jsx)("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[Us.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return(0,P.jsx)("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const bu=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=function(e){const t=Hl();return(0,E.useMemo)(()=>Object.prototype.hasOwnProperty.call(yu,e)?yu[e]:(t.getState().onError?.("009",Ps(e)),null),[e])}(t);return l?(0,P.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:(0,P.jsx)(l,{color:n,strokeWidth:s})}):null},wu=({defaultColor:e,rfId:t})=>{const n=Gl(e=>e.edges),r=Gl(e=>e.defaultEdgeOptions),i=(0,E.useMemo)(()=>{const i=function(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((e,s)=>([s.markerStart||r,s.markerEnd||i].forEach(r=>{if(r&&"object"==typeof r){const i=Ka(r,t);o.has(i)||(e.push({id:i,color:r.color||n,...r}),o.add(i))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd});return i},[n,r,t,e]);return i.length?(0,P.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,P.jsx)("defs",{children:i.map(e=>(0,P.jsx)(bu,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};wu.displayName="MarkerDefinitions";var xu=(0,E.memo)(wu);function Su({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[d,h]=(0,E.useState)({x:1,y:0,width:0,height:0}),f=_n(["react-flow__edge-textwrapper",c]),p=(0,E.useRef)(null);return(0,E.useEffect)(()=>{if(p.current){const e=p.current.getBBox();h({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),n?(0,P.jsxs)("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:f,visibility:d.width?"visible":"hidden",...u,children:[i&&(0,P.jsx)("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),(0,P.jsx)("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:p,style:r,children:n}),l]}):null}Su.displayName="EdgeText";const ku=(0,E.memo)(Su);function $u({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("path",{...u,d:e,fill:"none",className:_n(["react-flow__edge-path",u.className])}),c?(0,P.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&fa(t)&&fa(n)?(0,P.jsx)(ku,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function _u({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Xs.Left||e===Xs.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function Pu({sourceX:e,sourceY:t,sourcePosition:n=Xs.Bottom,targetX:r,targetY:i,targetPosition:o=Xs.Top}){const[s,a]=_u({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=_u({pos:o,x1:r,y1:i,x2:e,y2:t}),[u,d,h,f]=Ma({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${a} ${l},${c} ${r},${i}`,u,d,h,f]}function Eu(e){return(0,E.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v})=>{const[O,y,b]=Pu({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),w=e.isInternal?void 0:t;return(0,P.jsx)($u,{id:w,path:O,labelX:y,labelY:b,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v})})}const Cu=Eu({isInternal:!1}),Tu=Eu({isInternal:!0});function Iu(e){return(0,E.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,sourcePosition:f=Xs.Bottom,targetPosition:p=Xs.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:O})=>{const[y,b,w]=Wa({sourceX:n,sourceY:r,sourcePosition:f,targetX:i,targetY:o,targetPosition:p,borderRadius:v?.borderRadius,offset:v?.offset,stepPosition:v?.stepPosition}),x=e.isInternal?void 0:t;return(0,P.jsx)($u,{id:x,path:y,labelX:b,labelY:w,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:g,interactionWidth:O})})}Cu.displayName="SimpleBezierEdge",Tu.displayName="SimpleBezierEdgeInternal";const Qu=Iu({isInternal:!1}),Au=Iu({isInternal:!0});function Nu(e){return(0,E.memo)(({id:t,...n})=>{const r=e.isInternal?void 0:t;return(0,P.jsx)(Qu,{...n,id:r,pathOptions:(0,E.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}Qu.displayName="SmoothStepEdge",Au.displayName="SmoothStepEdgeInternal";const Mu=Nu({isInternal:!1}),Du=Nu({isInternal:!0});function zu(e){return(0,E.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m})=>{const[g,v,O]=Xa({sourceX:n,sourceY:r,targetX:i,targetY:o}),y=e.isInternal?void 0:t;return(0,P.jsx)($u,{id:y,path:g,labelX:v,labelY:O,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m})})}Mu.displayName="StepEdge",Du.displayName="StepEdgeInternal";const ju=zu({isInternal:!1}),Ru=zu({isInternal:!0});function Zu(e){return(0,E.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=Xs.Bottom,targetPosition:a=Xs.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:O})=>{const[y,b,w]=ja({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:v?.curvature}),x=e.isInternal?void 0:t;return(0,P.jsx)($u,{id:x,path:y,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:O})})}ju.displayName="StraightEdge",Ru.displayName="StraightEdgeInternal";const Lu=Zu({isInternal:!1}),Uu=Zu({isInternal:!0});Lu.displayName="BezierEdge",Uu.displayName="BezierEdgeInternal";const Xu={default:Uu,straight:Ru,step:Du,smoothstep:Au,simplebezier:Tu},Vu={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Bu=(e,t,n)=>n===Xs.Left?e-t:n===Xs.Right?e+t:e,Yu=(e,t,n)=>n===Xs.Top?e-t:n===Xs.Bottom?e+t:e,Wu="react-flow__edgeupdater";function Fu({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return(0,P.jsx)("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:_n([Wu,`${Wu}-${a}`]),cx:Bu(t,r,e),cy:Yu(n,r,e),r,stroke:"transparent",fill:"transparent"})}function qu({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:d,setReconnecting:h,setUpdateHover:f}){const p=Hl(),m=(e,t)=>{if(0!==e.button)return;const{autoPanOnConnect:r,domNode:i,isValidConnection:o,connectionMode:s,connectionRadius:a,lib:l,onConnectStart:f,onConnectEnd:m,cancelConnection:g,nodeLookup:v,rfId:O,panBy:y,updateConnection:b}=p.getState(),w="target"===t.type;Ol.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:s,connectionRadius:a,domNode:i,handleId:t.id,nodeId:t.nodeId,nodeLookup:v,isTarget:w,edgeUpdaterType:t.type,lib:l,flowId:O,cancelConnection:g,panBy:y,isValidConnection:o,onConnect:e=>c?.(n,e),onConnectStart:(r,i)=>{h(!0),u?.(e,n,t.type),f?.(r,i)},onConnectEnd:m,onReconnectEnd:(e,r)=>{h(!1),d?.(e,n,t.type,r)},updateConnection:b,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:e.currentTarget})},g=()=>f(!0),v=()=>f(!1);return(0,P.jsxs)(P.Fragment,{children:[(!0===e||"source"===e)&&(0,P.jsx)(Fu,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:e=>m(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:g,onMouseOut:v,type:"source"}),(!0===e||"target"===e)&&(0,P.jsx)(Fu,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:e=>m(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:g,onMouseOut:v,type:"target"})]})}function Gu({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:d,onReconnectStart:h,onReconnectEnd:f,rfId:p,edgeTypes:m,noPanClassName:g,onError:v,disableKeyboardA11y:O}){let y=Gl(t=>t.edgeLookup.get(e));const b=Gl(e=>e.defaultEdgeOptions);y=b?{...b,...y}:y;let w=y.type||"default",x=m?.[w]||Xu[w];void 0===x&&(v?.("011",Ts(w)),w="default",x=m?.default||Xu.default);const S=!!(y.focusable||t&&void 0===y.focusable),k=void 0!==d&&(y.reconnectable||n&&void 0===y.reconnectable),$=!!(y.selectable||r&&void 0===y.selectable),_=(0,E.useRef)(null),[C,T]=(0,E.useState)(!1),[I,Q]=(0,E.useState)(!1),A=Hl(),{zIndex:N,sourceX:M,sourceY:D,targetX:z,targetY:j,sourcePosition:R,targetPosition:Z}=Gl((0,E.useCallback)(t=>{const n=t.nodeLookup.get(y.source),r=t.nodeLookup.get(y.target);if(!n||!r)return{zIndex:y.zIndex,...Vu};const i=function(e){const{sourceNode:t,targetNode:n}=e;if(!Fa(t)||!Fa(n))return null;const r=t.internals.handleBounds||qa(t.handles),i=n.internals.handleBounds||qa(n.handles),o=Ha(r?.source??[],e.sourceHandle),s=Ha(e.connectionMode===zs.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!o||!s)return e.onError?.("008",Es(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=o?.position||Xs.Bottom,l=s?.position||Xs.Top,c=Ga(t,o,a),u=Ga(n,s,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}({id:e,sourceNode:n,targetNode:r,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:t.connectionMode,onError:v}),o=function({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){return void 0!==r?r:(i&&n?1e3:0)+Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0)}({selected:y.selected,zIndex:y.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect});return{zIndex:o,...i||Vu}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),Yl),L=(0,E.useMemo)(()=>y.markerStart?`url('#${Ka(y.markerStart,p)}')`:void 0,[y.markerStart,p]),U=(0,E.useMemo)(()=>y.markerEnd?`url('#${Ka(y.markerEnd,p)}')`:void 0,[y.markerEnd,p]);if(y.hidden||null===M||null===D||null===z||null===j)return null;const X=o?e=>{o(e,{...y})}:void 0,V=s?e=>{s(e,{...y})}:void 0,B=a?e=>{a(e,{...y})}:void 0,Y=l?e=>{l(e,{...y})}:void 0,W=c?e=>{c(e,{...y})}:void 0;return(0,P.jsx)("svg",{style:{zIndex:N},children:(0,P.jsxs)("g",{className:_n(["react-flow__edge",`react-flow__edge-${w}`,y.className,g,{selected:y.selected,animated:y.animated,inactive:!$&&!i,updating:C,selectable:$}]),onClick:t=>{const{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=A.getState();$&&(A.setState({nodesSelectionActive:!1}),y.selected&&o?(r({nodes:[],edges:[y]}),_.current?.blur()):n([e])),i&&i(t,y)},onDoubleClick:X,onContextMenu:V,onMouseEnter:B,onMouseMove:Y,onMouseLeave:W,onKeyDown:S?t=>{if(!O&&Ms.includes(t.key)&&$){const{unselectNodesAndEdges:n,addSelectedEdges:r}=A.getState();"Escape"===t.key?(_.current?.blur(),n({edges:[y]})):r([e])}}:void 0,tabIndex:S?0:void 0,role:y.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===y.ariaLabel?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":S?`${tc}-${p}`:void 0,ref:_,...y.domAttributes,children:[!I&&(0,P.jsx)(x,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:$,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:M,sourceY:D,targetX:z,targetY:j,sourcePosition:R,targetPosition:Z,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:L,markerEnd:U,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),k&&(0,P.jsx)(qu,{edge:y,isReconnectable:k,reconnectRadius:u,onReconnect:d,onReconnectStart:h,onReconnectEnd:f,sourceX:M,sourceY:D,targetX:z,targetY:j,sourcePosition:R,targetPosition:Z,setUpdateHover:T,setReconnecting:Q})]})})}const Hu=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ku({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:f,onReconnectEnd:p,disableKeyboardA11y:m}){const{edgesFocusable:g,edgesReconnectable:v,elementsSelectable:O,onError:y}=Gl(Hu,Yl),b=(w=t,Gl((0,E.useCallback)(e=>{if(!w)return e.edges.map(e=>e.id);const t=[];if(e.width&&e.height)for(const n of e.edges){const r=e.nodeLookup.get(n.source),i=e.nodeLookup.get(n.target);r&&i&&Za({sourceNode:r,targetNode:i,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t},[w]),Yl));var w;return(0,P.jsxs)("div",{className:"react-flow__edges",children:[(0,P.jsx)(xu,{defaultColor:e,rfId:n}),b.map(e=>(0,P.jsx)(Gu,{id:e,edgesFocusable:g,edgesReconnectable:v,elementsSelectable:O,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:h,onReconnectStart:f,onReconnectEnd:p,rfId:n,onError:y,edgeTypes:r,disableKeyboardA11y:m},e))]})}Ku.displayName="EdgeRenderer";const Ju=(0,E.memo)(Ku),ed=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function td({children:e}){const t=Gl(ed);return(0,P.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}const nd=e=>e.panZoom?.syncViewport;function rd(e){return e.connection.inProgress?{...e.connection,to:ga(e.connection.to,e.transform)}:{...e.connection}}function id(e){const t=function(e){if(e)return t=>{const n=rd(t);return e(n)};return rd}(e);return Gl(t,Yl)}const od=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function sd({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=Gl(od,Yl);return!!(o&&i&&l)?(0,P.jsx)("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:(0,P.jsx)("g",{className:_n(["react-flow__connection",Bs(a)]),children:(0,P.jsx)(ad,{style:t,type:n,CustomComponent:r,isValid:a})})}):null}const ad=({style:e,type:t=Ls.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:d,toPosition:h}=id();if(!i)return;if(n)return(0,P.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:h,connectionStatus:Bs(r),toNode:u,toHandle:d});let f="";const p={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case Ls.Bezier:[f]=ja(p);break;case Ls.SimpleBezier:[f]=Pu(p);break;case Ls.Step:[f]=Wa({...p,borderRadius:0});break;case Ls.SmoothStep:[f]=Wa(p);break;default:[f]=Xa(p)}return(0,P.jsx)("path",{d:f,fill:"none",className:"react-flow__connection-path",style:e})};ad.displayName="ConnectionLine";const ld={};function cd(e=ld){(0,E.useRef)(e),Hl();(0,E.useEffect)(()=>{0},[e])}function ud({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:f,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:g,connectionLineContainerStyle:v,selectionKeyCode:O,selectionOnDrag:y,selectionMode:b,multiSelectionKeyCode:w,panActivationKeyCode:x,zoomActivationKeyCode:S,deleteKeyCode:k,onlyRenderVisibleElements:$,elementsSelectable:_,defaultViewport:C,translateExtent:T,minZoom:I,maxZoom:Q,preventScrolling:A,defaultMarkerColor:N,zoomOnScroll:M,zoomOnPinch:D,panOnScroll:z,panOnScrollSpeed:j,panOnScrollMode:R,zoomOnDoubleClick:Z,panOnDrag:L,onPaneClick:U,onPaneMouseEnter:X,onPaneMouseMove:V,onPaneMouseLeave:B,onPaneScroll:Y,onPaneContextMenu:W,paneClickDistance:F,nodeClickDistance:q,onEdgeContextMenu:G,onEdgeMouseEnter:H,onEdgeMouseMove:K,onEdgeMouseLeave:J,reconnectRadius:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,noDragClassName:ie,noWheelClassName:oe,noPanClassName:se,disableKeyboardA11y:ae,nodeExtent:le,rfId:ce,viewport:ue,onViewportChange:de}){return cd(e),cd(t),Hl(),(0,E.useRef)(!1),(0,E.useEffect)(()=>{},[]),function(e){const t=Zc(),n=(0,E.useRef)(!1);(0,E.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(n),function(e){const t=Gl(nd),n=Hl();(0,E.useEffect)(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t])}(ue),(0,P.jsx)(hu,{onPaneClick:U,onPaneMouseEnter:X,onPaneMouseMove:V,onPaneMouseLeave:B,onPaneContextMenu:W,onPaneScroll:Y,paneClickDistance:F,deleteKeyCode:k,selectionKeyCode:O,selectionOnDrag:y,selectionMode:b,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:w,panActivationKeyCode:x,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:D,zoomOnDoubleClick:Z,panOnScroll:z,panOnScrollSpeed:j,panOnScrollMode:R,panOnDrag:L,defaultViewport:C,translateExtent:T,minZoom:I,maxZoom:Q,onSelectionContextMenu:d,preventScrolling:A,noDragClassName:ie,noWheelClassName:oe,noPanClassName:se,disableKeyboardA11y:ae,onViewportChange:de,isControlledViewport:!!ue,children:(0,P.jsxs)(td,{children:[(0,P.jsx)(Ju,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,onlyRenderVisibleElements:$,onEdgeContextMenu:G,onEdgeMouseEnter:H,onEdgeMouseMove:K,onEdgeMouseLeave:J,reconnectRadius:ee,defaultMarkerColor:N,noPanClassName:se,disableKeyboardA11y:ae,rfId:ce}),(0,P.jsx)(sd,{style:m,type:p,component:g,containerStyle:v}),(0,P.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,P.jsx)(Ou,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:q,onlyRenderVisibleElements:$,noPanClassName:se,noDragClassName:ie,disableKeyboardA11y:ae,nodeExtent:le,rfId:ce}),(0,P.jsx)("div",{className:"react-flow__viewport-portal"})]})})}ud.displayName="GraphView";const dd=(0,E.memo)(ud),hd=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:d}={})=>{const h=new Map,f=new Map,p=new Map,m=new Map,g=r??t??[],v=n??e??[],O=u??[0,0],y=d??Ns;ll(p,m,g);const b=rl(v,h,f,{nodeOrigin:O,nodeExtent:y,elevateNodesOnSelect:!1});let w=[0,0,1];if(s&&i&&o){const e=qs(h,{filter:e=>!(!e.width&&!e.initialWidth||!e.height&&!e.initialHeight)}),{x:t,y:n,zoom:r}=ya(e,i,o,l,c,a?.padding??.1);w=[t,n,r]}return{rfId:"1",width:i??0,height:o??0,transform:w,nodes:v,nodesInitialized:b,nodeLookup:h,parentLookup:f,edges:g,edgeLookup:m,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Ns,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:zs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:O,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Zs},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:pa,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ds}},fd=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:d})=>{return h=(h,f)=>{async function p(){const{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:r,width:i,height:o,minZoom:s,maxZoom:a}=f();t&&(await Hs({nodes:e,width:i,height:o,panZoom:t,minZoom:s,maxZoom:a},n),r?.resolve(!0),h({fitViewResolver:null}))}return{...hd({nodes:e,edges:t,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:e=>{const{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:i,fitViewQueued:o}=f(),s=rl(e,t,n,{nodeOrigin:r,nodeExtent:d,elevateNodesOnSelect:i,checkEquality:!0});o&&s?(p(),h({nodes:e,nodesInitialized:s,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:e,nodesInitialized:s})},setEdges:e=>{const{connectionLookup:t,edgeLookup:n}=f();ll(t,n,e),h({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){const{setNodes:t}=f();t(e),h({hasDefaultNodes:!0})}if(t){const{setEdges:e}=f();e(t),h({hasDefaultEdges:!0})}},updateNodeInternals:e=>{const{triggerNodeChanges:t,nodeLookup:n,parentLookup:r,domNode:i,nodeOrigin:o,nodeExtent:s,debug:a,fitViewQueued:l}=f(),{changes:c,updatedInternals:u}=function(e,t,n,r,i,o){const s=r?.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const r of e.values()){const e=t.get(r.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),a=!0;continue}const s=Ea(r.nodeElement),c=e.measured.width!==s.width||e.measured.height!==s.height;if(s.width&&s.height&&(c||!e.internals.handleBounds||r.force)){const h=r.nodeElement.getBoundingClientRect(),f=wa(e.extent)?e.extent:o;let{positionAbsolute:p}=e.internals;e.parentId&&"parent"===e.extent?p=na(p,s,t.get(e.parentId)):f&&(p=ta(p,f,s));const m={...e,measured:s,internals:{...e.internals,positionAbsolute:p,handleBounds:{source:Na("source",r.nodeElement,h,u,e.id),target:Na("target",r.nodeElement,h,u,e.id)}}};t.set(e.id,m),e.parentId&&il(m,t,n,{nodeOrigin:i}),a=!0,c&&(l.push({id:e.id,type:"dimensions",dimensions:s}),e.expandParent&&e.parentId&&d.push({id:e.id,parentId:e.parentId,rect:la(m,i)}))}}if(d.length>0){const e=sl(d,t,n,i);l.push(...e)}return{changes:l,updatedInternals:a}}(e,n,r,i,o,s);u&&(function(e,t,n){const r=tl(Ja,n);for(const n of e.values())if(n.parentId)il(n,e,t,r);else{const e=Fs(n,r.nodeOrigin),t=wa(n.extent)?n.extent:r.nodeExtent,i=ta(e,t,xa(n));n.internals.positionAbsolute=i}}(n,r,{nodeOrigin:o,nodeExtent:s}),l?(p(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),c?.length>0&&(a&&console.log("React Flow: trigger node changes",c),t?.(c)))},updateNodePositions:(e,t=!1)=>{const n=[],r=[],{nodeLookup:i,triggerNodeChanges:o}=f();for(const[o,s]of e){const e=i.get(o),a=!!(e?.expandParent&&e?.parentId&&s?.position),l={id:o,type:"position",position:a?{x:Math.max(0,s.position.x),y:Math.max(0,s.position.y)}:s.position,dragging:t};a&&e.parentId&&n.push({id:o,parentId:e.parentId,rect:{...s.internals.positionAbsolute,width:s.measured.width??0,height:s.measured.height??0}}),r.push(l)}if(n.length>0){const{parentLookup:e,nodeOrigin:t}=f(),o=sl(n,i,e,t);r.push(...o)}o(r)},triggerNodeChanges:e=>{const{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:i,debug:o}=f();e?.length&&(i&&n(Pc(e,r)),o&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{const{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:i,debug:o}=f();e?.length&&(i&&n(Ec(e,r)),o&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:o}=f();t?i(e.map(e=>Cc(e,!0))):(i(Tc(r,new Set([...e]),!0)),o(Tc(n)))},addSelectedEdges:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:o}=f();t?o(e.map(e=>Cc(e,!0))):(o(Tc(n,new Set([...e]))),i(Tc(r,new Set,!0)))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{const{edges:n,nodes:r,nodeLookup:i,triggerNodeChanges:o,triggerEdgeChanges:s}=f(),a=t||n,l=(e||r).map(e=>{const t=i.get(e.id);return t&&(t.selected=!1),Cc(e.id,!1)}),c=a.map(e=>Cc(e.id,!1));o(l),s(c)},setMinZoom:e=>{const{panZoom:t,maxZoom:n}=f();t?.setScaleExtent([e,n]),h({minZoom:e})},setMaxZoom:e=>{const{panZoom:t,minZoom:n}=f();t?.setScaleExtent([n,e]),h({maxZoom:e})},setTranslateExtent:e=>{f().panZoom?.setTranslateExtent(e),h({translateExtent:e})},setPaneClickDistance:e=>{f().panZoom?.setClickDistance(e)},resetSelectedElements:()=>{const{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:i}=f();if(!i)return;const o=t.reduce((e,t)=>t.selected?[...e,Cc(t.id,!1)]:e,[]),s=e.reduce((e,t)=>t.selected?[...e,Cc(t.id,!1)]:e,[]);n(o),r(s)},setNodeExtent:e=>{const{nodes:t,nodeLookup:n,parentLookup:r,nodeOrigin:i,elevateNodesOnSelect:o,nodeExtent:s}=f();e[0][0]===s[0][0]&&e[0][1]===s[0][1]&&e[1][0]===s[1][0]&&e[1][1]===s[1][1]||(rl(t,n,r,{nodeOrigin:i,nodeExtent:e,elevateNodesOnSelect:o,checkEquality:!1}),h({nodeExtent:e}))},panBy:e=>{const{transform:t,width:n,height:r,panZoom:i,translateExtent:o}=f();return async function({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}({delta:e,panZoom:i,transform:t,translateExtent:o,width:n,height:r})},setCenter:async(e,t,n)=>{const{width:r,height:i,maxZoom:o,panZoom:s}=f();if(!s)return Promise.resolve(!1);const a=void 0!==n?.zoom?n.zoom:o;return await s.setViewport({x:r/2-e*a,y:i/2-t*a,zoom:a},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...Zs}})},updateConnection:e=>{h({connection:e})},reset:()=>h({...hd()})}},f=Object.is,h?Bl(h,f):Bl;var h,f};function pd({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:u,nodeExtent:d,children:h}){const[f]=(0,E.useState)(()=>fd({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:c,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:u,nodeExtent:d}));return(0,P.jsx)(Fl,{value:f,children:(0,P.jsx)(jc,{children:h})})}function md({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:h}){return(0,E.useContext)(Wl)?(0,P.jsx)(P.Fragment,{children:e}):(0,P.jsx)(pd,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:d,nodeExtent:h,children:e})}const gd={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var vd=Nc(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:h,onConnect:f,onConnectStart:p,onConnectEnd:m,onClickConnectStart:g,onClickConnectEnd:v,onNodeMouseEnter:O,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:w,onNodeDoubleClick:x,onNodeDragStart:S,onNodeDrag:k,onNodeDragStop:$,onNodesDelete:_,onEdgesDelete:C,onDelete:T,onSelectionChange:I,onSelectionDragStart:Q,onSelectionDrag:A,onSelectionDragStop:N,onSelectionContextMenu:M,onSelectionStart:D,onSelectionEnd:z,onBeforeDelete:j,connectionMode:R,connectionLineType:Z=Ls.Bezier,connectionLineStyle:L,connectionLineComponent:U,connectionLineContainerStyle:X,deleteKeyCode:V="Backspace",selectionKeyCode:B="Shift",selectionOnDrag:Y=!1,selectionMode:W=Rs.Full,panActivationKeyCode:F="Space",multiSelectionKeyCode:q=(ba()?"Meta":"Control"),zoomActivationKeyCode:G=(ba()?"Meta":"Control"),snapToGrid:H,snapGrid:K,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:ee,nodesDraggable:te,autoPanOnNodeFocus:ne,nodesConnectable:re,nodesFocusable:ie,nodeOrigin:oe=pc,edgesFocusable:se,edgesReconnectable:ae,elementsSelectable:le=!0,defaultViewport:ce=mc,minZoom:ue=.5,maxZoom:de=2,translateExtent:he=Ns,preventScrolling:fe=!0,nodeExtent:pe,defaultMarkerColor:me="#b1b1b7",zoomOnScroll:ge=!0,zoomOnPinch:ve=!0,panOnScroll:Oe=!1,panOnScrollSpeed:ye=.5,panOnScrollMode:be=js.Free,zoomOnDoubleClick:we=!0,panOnDrag:xe=!0,onPaneClick:Se,onPaneMouseEnter:ke,onPaneMouseMove:$e,onPaneMouseLeave:_e,onPaneScroll:Pe,onPaneContextMenu:Ee,paneClickDistance:Ce=0,nodeClickDistance:Te=0,children:Ie,onReconnect:Qe,onReconnectStart:Ae,onReconnectEnd:Ne,onEdgeContextMenu:Me,onEdgeDoubleClick:De,onEdgeMouseEnter:ze,onEdgeMouseMove:je,onEdgeMouseLeave:Re,reconnectRadius:Ze=10,onNodesChange:Le,onEdgesChange:Ue,noDragClassName:Xe="nodrag",noWheelClassName:Ve="nowheel",noPanClassName:Be="nopan",fitView:Ye,fitViewOptions:We,connectOnClick:Fe,attributionPosition:qe,proOptions:Ge,defaultEdgeOptions:He,elevateNodesOnSelect:Ke,elevateEdgesOnSelect:Je,disableKeyboardA11y:et=!1,autoPanOnConnect:tt,autoPanOnNodeDrag:nt,autoPanSpeed:rt,connectionRadius:it,isValidConnection:ot,onError:st,style:at,id:lt,nodeDragThreshold:ct,connectionDragThreshold:ut,viewport:dt,onViewportChange:ht,width:ft,height:pt,colorMode:mt="light",debug:gt,onScroll:vt,ariaLabelConfig:Ot,...yt},bt){const wt=lt||"1",xt=function(e){const[t,n]=(0,E.useState)("system"===e?null:e);return(0,E.useEffect)(()=>{if("system"!==e)return void n(e);const t=bc(),r=()=>n(t?.matches?"dark":"light");return r(),t?.addEventListener("change",r),()=>{t?.removeEventListener("change",r)}},[e]),null!==t?t:bc()?.matches?"dark":"light"}(mt),St=(0,E.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),vt?.(e)},[vt]);return(0,P.jsx)("div",{"data-testid":"rf__wrapper",...yt,onScroll:St,style:{...at,...gd},ref:bt,className:_n(["react-flow",i,xt]),id:lt,role:"application",children:(0,P.jsxs)(md,{nodes:e,edges:t,width:ft,height:pt,fitView:Ye,fitViewOptions:We,minZoom:ue,maxZoom:de,nodeOrigin:oe,nodeExtent:pe,children:[(0,P.jsx)(dd,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:O,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:w,onNodeDoubleClick:x,nodeTypes:o,edgeTypes:s,connectionLineType:Z,connectionLineStyle:L,connectionLineComponent:U,connectionLineContainerStyle:X,selectionKeyCode:B,selectionOnDrag:Y,selectionMode:W,deleteKeyCode:V,multiSelectionKeyCode:q,panActivationKeyCode:F,zoomActivationKeyCode:G,onlyRenderVisibleElements:J,defaultViewport:ce,translateExtent:he,minZoom:ue,maxZoom:de,preventScrolling:fe,zoomOnScroll:ge,zoomOnPinch:ve,zoomOnDoubleClick:we,panOnScroll:Oe,panOnScrollSpeed:ye,panOnScrollMode:be,panOnDrag:xe,onPaneClick:Se,onPaneMouseEnter:ke,onPaneMouseMove:$e,onPaneMouseLeave:_e,onPaneScroll:Pe,onPaneContextMenu:Ee,paneClickDistance:Ce,nodeClickDistance:Te,onSelectionContextMenu:M,onSelectionStart:D,onSelectionEnd:z,onReconnect:Qe,onReconnectStart:Ae,onReconnectEnd:Ne,onEdgeContextMenu:Me,onEdgeDoubleClick:De,onEdgeMouseEnter:ze,onEdgeMouseMove:je,onEdgeMouseLeave:Re,reconnectRadius:Ze,defaultMarkerColor:me,noDragClassName:Xe,noWheelClassName:Ve,noPanClassName:Be,rfId:wt,disableKeyboardA11y:et,nodeExtent:pe,viewport:dt,onViewportChange:ht}),(0,P.jsx)(yc,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:f,onConnectStart:p,onConnectEnd:m,onClickConnectStart:g,onClickConnectEnd:v,nodesDraggable:te,autoPanOnNodeFocus:ne,nodesConnectable:re,nodesFocusable:ie,edgesFocusable:se,edgesReconnectable:ae,elementsSelectable:le,elevateNodesOnSelect:Ke,elevateEdgesOnSelect:Je,minZoom:ue,maxZoom:de,nodeExtent:pe,onNodesChange:Le,onEdgesChange:Ue,snapToGrid:H,snapGrid:K,connectionMode:R,translateExtent:he,connectOnClick:Fe,defaultEdgeOptions:He,fitView:Ye,fitViewOptions:We,onNodesDelete:_,onEdgesDelete:C,onDelete:T,onNodeDragStart:S,onNodeDrag:k,onNodeDragStop:$,onSelectionDrag:A,onSelectionDragStart:Q,onSelectionDragStop:N,onMove:u,onMoveStart:d,onMoveEnd:h,noPanClassName:Be,nodeOrigin:oe,rfId:wt,autoPanOnConnect:tt,autoPanOnNodeDrag:nt,autoPanSpeed:rt,onError:st,connectionRadius:it,isValidConnection:ot,selectNodesOnDrag:ee,nodeDragThreshold:ct,connectionDragThreshold:ut,onBeforeDelete:j,paneClickDistance:Ce,debug:gt,ariaLabelConfig:Ot}),(0,P.jsx)(fc,{onSelectionChange:I}),Ie,(0,P.jsx)(ac,{proOptions:Ge,position:qe}),(0,P.jsx)(oc,{rfId:wt,disableKeyboardA11y:et})]})})});const Od=e=>e.edges;function yd(){return Gl(Od,Yl)}Qs();function bd({dimensions:e,lineWidth:t,variant:n,className:r}){return(0,P.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:_n(["react-flow__background-pattern",n,r])})}function wd({radius:e,className:t}){return(0,P.jsx)("circle",{cx:e,cy:e,r:e,className:_n(["react-flow__background-pattern","dots",t])})}var xd;!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(xd||(xd={}));const Sd={[xd.Dots]:1,[xd.Lines]:1,[xd.Cross]:6},kd=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function $d({id:e,variant:t=xd.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:c,patternClassName:u}){const d=(0,E.useRef)(null),{transform:h,patternId:f}=Gl(kd,Yl),p=r||Sd[t],m=t===xd.Dots,g=t===xd.Cross,v=Array.isArray(n)?n:[n,n],O=[v[0]*h[2]||1,v[1]*h[2]||1],y=p*h[2],b=Array.isArray(o)?o:[o,o],w=g?[y,y]:O,x=[b[0]*h[2]||1+w[0]/2,b[1]*h[2]||1+w[1]/2],S=`${f}${e||""}`;return(0,P.jsxs)("svg",{className:_n(["react-flow__background",c]),style:{...l,...Xc,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[(0,P.jsx)("pattern",{id:S,x:h[0]%O[0],y:h[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${x[0]},-${x[1]})`,children:m?(0,P.jsx)(wd,{radius:y/2,className:u}):(0,P.jsx)(bd,{dimensions:w,lineWidth:i,variant:t,className:u})}),(0,P.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}$d.displayName="Background";const _d=(0,E.memo)($d);function Pd(){return(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,P.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Ed(){return(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,P.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function Cd(){return(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,P.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Td(){return(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,P.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Id(){return(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,P.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Qd({children:e,className:t,...n}){return(0,P.jsx)("button",{type:"button",className:_n(["react-flow__controls-button",t]),...n,children:e})}const Ad=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Nd({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left",orientation:h="vertical","aria-label":f}){const p=Hl(),{isInteractive:m,minZoomReached:g,maxZoomReached:v,ariaLabelConfig:O}=Gl(Ad,Yl),{zoomIn:y,zoomOut:b,fitView:w}=Zc(),x="horizontal"===h?"horizontal":"vertical";return(0,P.jsxs)(sc,{className:_n(["react-flow__controls",x,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":f??O["controls.ariaLabel"],children:[t&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Qd,{onClick:()=>{y(),o?.()},className:"react-flow__controls-zoomin",title:O["controls.zoomIn.ariaLabel"],"aria-label":O["controls.zoomIn.ariaLabel"],disabled:v,children:(0,P.jsx)(Pd,{})}),(0,P.jsx)(Qd,{onClick:()=>{b(),s?.()},className:"react-flow__controls-zoomout",title:O["controls.zoomOut.ariaLabel"],"aria-label":O["controls.zoomOut.ariaLabel"],disabled:g,children:(0,P.jsx)(Ed,{})})]}),n&&(0,P.jsx)(Qd,{className:"react-flow__controls-fitview",onClick:()=>{w(i),a?.()},title:O["controls.fitView.ariaLabel"],"aria-label":O["controls.fitView.ariaLabel"],children:(0,P.jsx)(Cd,{})}),r&&(0,P.jsx)(Qd,{className:"react-flow__controls-interactive",onClick:()=>{p.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l?.(!m)},title:O["controls.interactive.ariaLabel"],"aria-label":O["controls.interactive.ariaLabel"],children:m?(0,P.jsx)(Id,{}):(0,P.jsx)(Td,{})}),u]})}Nd.displayName="Controls";const Md=(0,E.memo)(Nd);const Dd=(0,E.memo)(function({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,selected:h,onClick:f}){const{background:p,backgroundColor:m}=o||{},g=s||p||m;return(0,P.jsx)("rect",{className:_n(["react-flow__minimap-node",{selected:h},c]),x:t,y:n,rx:u,ry:u,width:r,height:i,style:{fill:g,stroke:a,strokeWidth:l},shapeRendering:d,onClick:f?t=>f(t,e):void 0})}),zd=e=>e.nodes.map(e=>e.id),jd=e=>e instanceof Function?e:()=>e;const Rd=(0,E.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:c,x:u,y:d,width:h,height:f}=Gl(t=>{const{internals:n}=t.nodeLookup.get(e),r=n.userNode,{x:i,y:o}=n.positionAbsolute,{width:s,height:a}=xa(r);return{node:r,x:i,y:o,width:s,height:a}},Yl);return c&&!c.hidden&&Sa(c)?(0,P.jsx)(a,{x:u,y:d,width:h,height:f,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:o,shapeRendering:s,onClick:l,id:c.id}):null});var Zd=(0,E.memo)(function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Dd,onClick:s}){const a=Gl(zd,Yl),l=jd(t),c=jd(e),u=jd(n),d="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,P.jsx)(P.Fragment,{children:a.map(e=>(0,P.jsx)(Rd,{id:e,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},e))})});const Ld=e=>!e.hidden,Ud=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?ua(qs(e.nodeLookup,{filter:Ld}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}};function Xd({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:d,position:h="bottom-right",onClick:f,onNodeClick:p,pannable:m=!1,zoomable:g=!1,ariaLabel:v,inversePan:O,zoomStep:y=1,offsetScale:b=5}){const w=Hl(),x=(0,E.useRef)(null),{boundingRect:S,viewBB:k,rfId:$,panZoom:_,translateExtent:C,flowWidth:T,flowHeight:I,ariaLabelConfig:Q}=Gl(Ud,Yl),A=e?.width??200,N=e?.height??150,M=S.width/A,D=S.height/N,z=Math.max(M,D),j=z*A,R=z*N,Z=b*z,L=S.x-(j-S.width)/2-Z,U=S.y-(R-S.height)/2-Z,X=j+2*Z,V=R+2*Z,B=`react-flow__minimap-desc-${$}`,Y=(0,E.useRef)(0),W=(0,E.useRef)();Y.current=z,(0,E.useEffect)(()=>{if(x.current&&_)return W.current=function({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Yr(e);return{update:function({translateExtent:e,width:o,height:s,zoomStep:a=1,pannable:l=!0,zoomable:c=!0,inversePan:u=!1}){let d=[0,0];const h=gs().on("start",e=>{"mousedown"!==e.sourceEvent.type&&"touchstart"!==e.sourceEvent.type||(d=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])}).on("zoom",l?i=>{const a=n();if("mousemove"!==i.sourceEvent.type&&"touchmove"!==i.sourceEvent.type||!t)return;const l=[i.sourceEvent.clientX??i.sourceEvent.touches[0].clientX,i.sourceEvent.clientY??i.sourceEvent.touches[0].clientY],c=[l[0]-d[0],l[1]-d[1]];d=l;const h=r()*Math.max(a[2],Math.log(a[2]))*(u?-1:1),f={x:a[0]-c[0]*h,y:a[1]-c[1]*h},p=[[0,0],[o,s]];t.setViewportConstrained({x:f.x,y:f.y,zoom:a[2]},p,e)}:null).on("zoom.wheel",c?e=>{if("wheel"!==e.sourceEvent.type||!t)return;const r=n(),i=e.sourceEvent.ctrlKey&&ba()?10:1,o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*a,s=r[2]*Math.pow(2,o*i);t.scaleTo(s)}:null);i.call(h,{})},destroy:function(){i.on("zoom",null)},pointer:Wr}}({domNode:x.current,panZoom:_,getTransform:()=>w.getState().transform,getViewScale:()=>Y.current}),()=>{W.current?.destroy()}},[_]),(0,E.useEffect)(()=>{W.current?.update({translateExtent:C,width:T,height:I,inversePan:O,pannable:m,zoomStep:y,zoomable:g})},[m,g,O,y,C,T,I]);const F=f?e=>{const[t,n]=W.current?.pointer(e)||[0,0];f(e,{x:t,y:n})}:void 0,q=p?(0,E.useCallback)((e,t)=>{const n=w.getState().nodeLookup.get(t).internals.userNode;p(e,n)},[]):void 0,G=v??Q["minimap.ariaLabel"];return(0,P.jsx)(sc,{position:h,style:{...e,"--xy-minimap-background-color-props":"string"==typeof l?l:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof c?c:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof u?u:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof d?d*z:void 0,"--xy-minimap-node-background-color-props":"string"==typeof r?r:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof s?s:void 0},className:_n(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,P.jsxs)("svg",{width:A,height:N,viewBox:`${L} ${U} ${X} ${V}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":B,ref:x,onClick:F,children:[G&&(0,P.jsx)("title",{id:B,children:G}),(0,P.jsx)(Zd,{onClick:q,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),(0,P.jsx)("path",{className:"react-flow__minimap-mask",d:`M${L-Z},${U-Z}h${X+2*Z}v${V+2*Z}h${-X-2*Z}z\n        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Xd.displayName="MiniMap";(0,E.memo)(Xd);const Vd={[Pl.Line]:"right",[Pl.Handle]:"bottom-right"};const Bd=(0,E.memo)(function({nodeId:e,position:t,variant:n=Pl.Handle,className:r,style:i,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:h,autoScale:f=!0,shouldResize:p,onResizeStart:m,onResize:g,onResizeEnd:v}){const O=nu(),y="string"==typeof e?e:O,b=Hl(),w=(0,E.useRef)(null),x=n===Pl.Handle,S=Gl((0,E.useCallback)((k=x&&f,e=>k?`${Math.max(1/e.transform[2],1)}`:void 0),[x,f]),Yl);var k;const $=(0,E.useRef)(null),_=t??Vd[n];(0,E.useEffect)(()=>{if(w.current&&y)return $.current||($.current=zl({domNode:w.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:i,domNode:o}=b.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:i,paneDomNode:o}},onChange:(e,t)=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:i,nodeOrigin:o}=b.getState(),s=[],a={x:e.x,y:e.y},l=r.get(y);if(l&&l.expandParent&&l.parentId){const t=l.origin??o,n=e.width??l.measured.width??0,c=e.height??l.measured.height??0,u=sl([{id:l.id,parentId:l.parentId,rect:{width:n,height:c,...ka({x:e.x??l.position.x,y:e.y??l.position.y},{width:n,height:c},l.parentId,r,t)}}],r,i,o);s.push(...u),a.x=e.x?Math.max(t[0]*n,e.x):void 0,a.y=e.y?Math.max(t[1]*c,e.y):void 0}if(void 0!==a.x&&void 0!==a.y){const e={id:y,type:"position",position:{...a}};s.push(e)}if(void 0!==e.width&&void 0!==e.height){const t={id:y,type:"dimensions",resizing:!0,setAttributes:!h||("horizontal"===h?"width":"height"),dimensions:{width:e.width,height:e.height}};s.push(t)}for(const e of t){const t={...e,type:"position"};s.push(t)}n(s)},onEnd:({width:e,height:t})=>{const n={id:y,type:"dimensions",resizing:!1,dimensions:{width:e,height:t}};b.getState().triggerNodeChanges([n])}})),$.current.update({controlPosition:_,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:d,resizeDirection:h,onResizeStart:m,onResize:g,onResizeEnd:v,shouldResize:p}),()=>{$.current?.destroy()}},[_,a,l,c,u,d,m,g,v,p]);const C=_.split("-");return(0,P.jsx)("div",{className:_n(["react-flow__resize-control","nodrag",...C,n,r]),ref:w,style:{...i,scale:S,...s&&{[x?"backgroundColor":"borderColor"]:s}},children:o})});function Yd({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:i,lineStyle:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,autoScale:h=!0,shouldResize:f,onResizeStart:p,onResize:m,onResizeEnd:g}){return t?(0,P.jsxs)(P.Fragment,{children:[Cl.map(t=>(0,P.jsx)(Bd,{className:i,style:o,nodeId:e,position:t,variant:Pl.Line,color:s,minWidth:a,minHeight:l,maxWidth:c,maxHeight:u,onResizeStart:p,keepAspectRatio:d,autoScale:h,shouldResize:f,onResize:m,onResizeEnd:g},t)),El.map(t=>(0,P.jsx)(Bd,{className:n,style:r,nodeId:e,position:t,color:s,minWidth:a,minHeight:l,maxWidth:c,maxHeight:u,onResizeStart:p,keepAspectRatio:d,autoScale:h,shouldResize:f,onResize:m,onResizeEnd:g},t))]}):null}const Wd=Object.freeze({status:"aborted"});function Fd(e,t,n){function r(n,r){var i;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(i=n._zod).traits??(i.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in s.prototype)e in n||Object.defineProperty(n,e,{value:s.prototype[e].bind(n)});n._zod.constr=s,n._zod.def=r}const i=n?.Parent??Object;class o extends i{}function s(e){var t;const i=n?.Parent?new o:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(const e of i._zod.deferred)e();return i}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}const qd=Symbol("zod_brand");class Gd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Hd extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Kd={};function Jd(e){return e&&Object.assign(Kd,e),Kd}function eh(e){return e}function th(e){return e}function nh(e){}function rh(e){throw new Error}function ih(e){}function oh(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function sh(e,t="|"){return e.map(e=>Mh(e)).join(t)}function ah(e,t){return"bigint"==typeof t?t.toString():t}function lh(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ch(e){return null==e}function uh(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function dh(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}const o=n>i?n:i;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}const hh=Symbol("evaluating");function fh(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==hh)return void 0===r&&(r=hh,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function ph(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function mh(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function gh(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function vh(e){return gh(e._zod.def)}function Oh(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function yh(e){const t=Object.keys(e),n=t.map(t=>e[t]);return Promise.all(n).then(e=>{const n={};for(let r=0;r<t.length;r++)n[t[r]]=e[r];return n})}function bh(e=10){const t="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<e;r++)n+=t[Math.floor(26*Math.random())];return n}function wh(e){return JSON.stringify(e)}const xh="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Sh(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const kh=lh(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function $h(e){if(!1===Sh(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==Sh(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function _h(e){return $h(e)?{...e}:Array.isArray(e)?[...e]:e}function Ph(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}const Eh=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":null===e?"null":e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?"promise":"undefined"!=typeof Map&&e instanceof Map?"map":"undefined"!=typeof Set&&e instanceof Set?"set":"undefined"!=typeof Date&&e instanceof Date?"date":"undefined"!=typeof File&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},Ch=new Set(["string","number","symbol"]),Th=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Ih(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qh(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function Ah(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function Nh(e){let t;return new Proxy({},{get:(n,r,i)=>(t??(t=e()),Reflect.get(t,r,i)),set:(n,r,i,o)=>(t??(t=e()),Reflect.set(t,r,i,o)),has:(n,r)=>(t??(t=e()),Reflect.has(t,r)),deleteProperty:(n,r)=>(t??(t=e()),Reflect.deleteProperty(t,r)),ownKeys:n=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(n,r)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,r)),defineProperty:(n,r,i)=>(t??(t=e()),Reflect.defineProperty(t,r,i))})}function Mh(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function Dh(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}const zh={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},jh={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Rh(e,t){const n=e._zod.def;return Qh(e,gh(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return mh(this,"shape",e),e},checks:[]}))}function Zh(e,t){const n=e._zod.def,r=gh(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return mh(this,"shape",r),r},checks:[]});return Qh(e,r)}function Lh(e,t){if(!$h(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=gh(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return mh(this,"shape",n),n},checks:[]});return Qh(e,r)}function Uh(e,t){if(!$h(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return mh(this,"shape",n),n},checks:e._zod.def.checks};return Qh(e,n)}function Xh(e,t){const n=gh(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return mh(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Qh(e,n)}function Vh(e,t,n){const r=gh(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return mh(this,"shape",i),i},checks:[]});return Qh(t,r)}function Bh(e,t,n){const r=gh(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in i))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return mh(this,"shape",i),i},checks:[]});return Qh(t,r)}function Yh(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function Wh(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function Fh(e){return"string"==typeof e?e:e?.message}function qh(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=Fh(e.inst?._zod.def?.error?.(e))??Fh(t?.error?.(e))??Fh(n.customError?.(e))??Fh(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Gh(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function Hh(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function Kh(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}function Jh(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function ef(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function tf(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function nf(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return ef(t+"=".repeat((4-t.length%4)%4))}function rf(e){return tf(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function of(e){const t=e.replace(/^0x/,"");if(t.length%2!=0)throw new Error("Invalid hex string length");const n=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)n[e/2]=Number.parseInt(t.slice(e,e+2),16);return n}function sf(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class af{constructor(...e){}}const lf=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ah,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},cf=Fd("$ZodError",lf),uf=Fd("$ZodError",lf,{Parent:Error});function df(e,t=e=>e.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function hf(e,t){const n=t||function(e){return e.message},r={_errors:[]},i=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)r._errors.push(n(t));else{let e=r,i=0;for(;i<t.path.length;){const r=t.path[i];i===t.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(n(t))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}function ff(e,t){const n=t||function(e){return e.message},r={errors:[]},i=(e,t=[])=>{var o,s;for(const a of e.issues)if("invalid_union"===a.code&&a.errors.length)a.errors.map(e=>i({issues:e},a.path));else if("invalid_key"===a.code)i({issues:a.issues},a.path);else if("invalid_element"===a.code)i({issues:a.issues},a.path);else{const e=[...t,...a.path];if(0===e.length){r.errors.push(n(a));continue}let i=r,l=0;for(;l<e.length;){const t=e[l],r=l===e.length-1;"string"==typeof t?(i.properties??(i.properties={}),(o=i.properties)[t]??(o[t]={errors:[]}),i=i.properties[t]):(i.items??(i.items=[]),(s=i.items)[t]??(s[t]={errors:[]}),i=i.items[t]),r&&i.errors.push(n(a)),l++}}};return i(e),r}function pf(e){const t=[],n=e.map(e=>"object"==typeof e?e.key:e);for(const e of n)"number"==typeof e?t.push(`[${e}]`):"symbol"==typeof e?t.push(`[${JSON.stringify(String(e))}]`):/[^\w$]/.test(e)?t.push(`[${JSON.stringify(e)}]`):(t.length&&t.push("."),t.push(e));return t.join("")}function mf(e){const t=[],n=[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length);for(const e of n)t.push(`✖ ${e.message}`),e.path?.length&&t.push(`  → at ${pf(e.path)}`);return t.join("\n")}const gf=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new Gd;if(s.issues.length){const t=new(i?.Err??e)(s.issues.map(e=>qh(e,o,Jd())));throw xh(t,i?.callee),t}return s.value},vf=gf(uf),Of=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const t=new(i?.Err??e)(s.issues.map(e=>qh(e,o,Jd())));throw xh(t,i?.callee),t}return s.value},yf=Of(uf),bf=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Gd;return o.issues.length?{success:!1,error:new(e??cf)(o.issues.map(e=>qh(e,i,Jd())))}:{success:!0,data:o.value}},wf=bf(uf),xf=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>qh(e,i,Jd())))}:{success:!0,data:o.value}},Sf=xf(uf),kf=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return gf(e)(t,n,i)},$f=kf(uf),_f=e=>(t,n,r)=>gf(e)(t,n,r),Pf=_f(uf),Ef=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Of(e)(t,n,i)},Cf=Ef(uf),Tf=e=>async(t,n,r)=>Of(e)(t,n,r),If=Tf(uf),Qf=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bf(e)(t,n,i)},Af=Qf(uf),Nf=e=>(t,n,r)=>bf(e)(t,n,r),Mf=Nf(uf),Df=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return xf(e)(t,n,i)},zf=Df(uf),jf=e=>async(t,n,r)=>xf(e)(t,n,r),Rf=jf(uf),Zf=/^[cC][^\s-]{8,}$/,Lf=/^[0-9a-z]+$/,Uf=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Xf=/^[0-9a-vA-V]{20}$/,Vf=/^[A-Za-z0-9]{27}$/,Bf=/^[a-zA-Z0-9_-]{21}$/,Yf=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Wf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ff=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,qf=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Gf=qf(4),Hf=qf(6),Kf=qf(7),Jf=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ep=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,np=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,rp=np,ip=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,op="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function sp(){return new RegExp(op,"u")}const ap=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lp=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cp=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,up=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dp=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,hp=/^[A-Za-z0-9_-]*$/,fp=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,pp=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,mp=/^\+(?:[0-9]){6,14}[0-9]$/,gp="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",vp=new RegExp(`^${gp}$`);function Op(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function yp(e){return new RegExp(`^${Op(e)}$`)}function bp(e){const t=Op({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${gp}T(?:${r})$`)}const wp=e=>new RegExp(`^${e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*"}$`),xp=/^-?\d+n?$/,Sp=/^-?\d+$/,kp=/^-?\d+(?:\.\d+)?/,$p=/^(?:true|false)$/i,_p=/^null$/i,Pp=/^undefined$/i,Ep=/^[^A-Z]*$/,Cp=/^[^a-z]*$/,Tp=/^[0-9a-fA-F]*$/;function Ip(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function Qp(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const Ap=/^[0-9a-fA-F]{32}$/,Np=Ip(22,"=="),Mp=Qp(22),Dp=/^[0-9a-fA-F]{40}$/,zp=Ip(27,"="),jp=Qp(27),Rp=/^[0-9a-fA-F]{64}$/,Zp=Ip(43,"="),Lp=Qp(43),Up=/^[0-9a-fA-F]{96}$/,Xp=Ip(64,""),Vp=Qp(64),Bp=/^[0-9a-fA-F]{128}$/,Yp=Ip(86,"=="),Wp=Qp(86),Fp=Fd("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),qp={number:"number",bigint:"bigint",object:"date"},Gp=Fd("$ZodCheckLessThan",(e,t)=>{Fp.init(e,t);const n=qp[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Hp=Fd("$ZodCheckGreaterThan",(e,t)=>{Fp.init(e,t);const n=qp[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Kp=Fd("$ZodCheckMultipleOf",(e,t)=>{Fp.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===dh(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Jp=Fd("$ZodCheckNumberFormat",(e,t)=>{Fp.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,o]=zh[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=o,n&&(r.pattern=Sp)}),e._zod.check=s=>{const a=s.value;if(n){if(!Number.isInteger(a))return void s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});if(!Number.isSafeInteger(a))return void(a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}))}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inst:e})}}),em=Fd("$ZodCheckBigIntFormat",(e,t)=>{Fp.init(e,t);const[n,r]=jh[t.format];e._zod.onattach.push(e=>{const i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=r}),e._zod.check=i=>{const o=i.value;o<n&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>r&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:r,inst:e})}}),tm=Fd("$ZodCheckMaxSize",(e,t)=>{var n;Fp.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ch(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;r.size<=t.maximum||n.issues.push({origin:Gh(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),nm=Fd("$ZodCheckMinSize",(e,t)=>{var n;Fp.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ch(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;r.size>=t.minimum||n.issues.push({origin:Gh(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),rm=Fd("$ZodCheckSizeEquals",(e,t)=>{var n;Fp.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ch(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{const r=n.value,i=r.size;if(i===t.size)return;const o=i>t.size;n.issues.push({origin:Gh(r),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),im=Fd("$ZodCheckMaxLength",(e,t)=>{var n;Fp.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ch(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=Hh(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),om=Fd("$ZodCheckMinLength",(e,t)=>{var n;Fp.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ch(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=Hh(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),sm=Fd("$ZodCheckLengthEquals",(e,t)=>{var n;Fp.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ch(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const o=Hh(r),s=i>t.length;n.issues.push({origin:o,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),am=Fd("$ZodCheckStringFormat",(e,t)=>{var n,r;Fp.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),lm=Fd("$ZodCheckRegex",(e,t)=>{am.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),cm=Fd("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Ep),am.init(e,t)}),um=Fd("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Cp),am.init(e,t)}),dm=Fd("$ZodCheckIncludes",(e,t)=>{Fp.init(e,t);const n=Ih(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),hm=Fd("$ZodCheckStartsWith",(e,t)=>{Fp.init(e,t);const n=new RegExp(`^${Ih(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),fm=Fd("$ZodCheckEndsWith",(e,t)=>{Fp.init(e,t);const n=new RegExp(`.*${Ih(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function pm(e,t,n){e.issues.length&&t.issues.push(...Wh(n,e.issues))}const mm=Fd("$ZodCheckProperty",(e,t)=>{Fp.init(e,t),e._zod.check=e=>{const n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>pm(n,e,t.property));pm(n,e,t.property)}}),gm=Fd("$ZodCheckMimeType",(e,t)=>{Fp.init(e,t);const n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e,continue:!t.abort})}}),vm=Fd("$ZodCheckOverwrite",(e,t)=>{Fp.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class Om{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args,n=[...(this?.content??[""]).map(e=>`  ${e}`)];return new e(...t,n.join("\n"))}}const ym={major:4,minor:1,patch:11},bm=Fd("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ym;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const t of r)for(const n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,i=Yh(e);for(const o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,s=o._zod.check(e);if(s instanceof Promise&&!1===n?.async)throw new Gd;if(r||s instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await s;e.issues.length!==t&&(i||(i=Yh(e,t)))});else{if(e.issues.length===t)continue;i||(i=Yh(e,t))}}return r?r.then(()=>e):e},n=(n,i,o)=>{if(Yh(n))return n.aborted=!0,n;const s=t(i,r,o);if(s instanceof Promise){if(!1===o.async)throw new Gd;return s.then(t=>e._zod.parse(t,o))}return e._zod.parse(s,o)};e._zod.run=(i,o)=>{if(o.skipChecks)return e._zod.parse(i,o);if("backward"===o.direction){const t=e._zod.parse({value:i.value,issues:[]},{...o,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,o)):n(t,i,o)}const s=e._zod.parse(i,o);if(s instanceof Promise){if(!1===o.async)throw new Gd;return s.then(e=>t(e,r,o))}return t(s,r,o)}}e["~standard"]={validate:t=>{try{const n=wf(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return Sf(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),wm=Fd("$ZodString",(e,t)=>{bm.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??wp(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),xm=Fd("$ZodStringFormat",(e,t)=>{am.init(e,t),wm.init(e,t)}),Sm=Fd("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Ff),xm.init(e,t)}),km=Fd("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=qf(e))}else t.pattern??(t.pattern=qf());xm.init(e,t)}),$m=Fd("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Jf),xm.init(e,t)}),_m=Fd("$ZodURL",(e,t)=>{xm.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:fp.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=i.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Pm=Fd("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=sp()),xm.init(e,t)}),Em=Fd("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Bf),xm.init(e,t)}),Cm=Fd("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Zf),xm.init(e,t)}),Tm=Fd("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Lf),xm.init(e,t)}),Im=Fd("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Uf),xm.init(e,t)}),Qm=Fd("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Xf),xm.init(e,t)}),Am=Fd("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Vf),xm.init(e,t)}),Nm=Fd("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=bp(t)),xm.init(e,t)}),Mm=Fd("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=vp),xm.init(e,t)}),Dm=Fd("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=yp(t)),xm.init(e,t)}),zm=Fd("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Yf),xm.init(e,t)}),jm=Fd("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ap),xm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),Rm=Fd("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=lp),xm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Zm=Fd("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=cp),xm.init(e,t)}),Lm=Fd("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=up),xm.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Um(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const Xm=Fd("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=dp),xm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Um(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Vm(e){if(!hp.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return Um(t.padEnd(4*Math.ceil(t.length/4),"="))}const Bm=Fd("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=hp),xm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Vm(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Ym=Fd("$ZodE164",(e,t)=>{t.pattern??(t.pattern=mp),xm.init(e,t)});function Wm(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return(!("typ"in i)||"JWT"===i?.typ)&&(!!i.alg&&(!t||"alg"in i&&i.alg===t))}catch{return!1}}const Fm=Fd("$ZodJWT",(e,t)=>{xm.init(e,t),e._zod.check=n=>{Wm(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),qm=Fd("$ZodCustomStringFormat",(e,t)=>{xm.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),Gm=Fd("$ZodNumber",(e,t)=>{bm.init(e,t),e._zod.pattern=e._zod.bag.pattern??kp,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}const i=n.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),Hm=Fd("$ZodNumber",(e,t)=>{Jp.init(e,t),Gm.init(e,t)}),Km=Fd("$ZodBoolean",(e,t)=>{bm.init(e,t),e._zod.pattern=$p,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(e){}const i=n.value;return"boolean"==typeof i||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Jm=Fd("$ZodBigInt",(e,t)=>{bm.init(e,t),e._zod.pattern=xp,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(e){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),eg=Fd("$ZodBigInt",(e,t)=>{em.init(e,t),Jm.init(e,t)}),tg=Fd("$ZodSymbol",(e,t)=>{bm.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),ng=Fd("$ZodUndefined",(e,t)=>{bm.init(e,t),e._zod.pattern=Pp,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),rg=Fd("$ZodNull",(e,t)=>{bm.init(e,t),e._zod.pattern=_p,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),ig=Fd("$ZodAny",(e,t)=>{bm.init(e,t),e._zod.parse=e=>e}),og=Fd("$ZodUnknown",(e,t)=>{bm.init(e,t),e._zod.parse=e=>e}),sg=Fd("$ZodNever",(e,t)=>{bm.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),ag=Fd("$ZodVoid",(e,t)=>{bm.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),lg=Fd("$ZodDate",(e,t)=>{bm.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(e){}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),n}});function cg(e,t,n){e.issues.length&&t.issues.push(...Wh(n,e.issues)),t.value[n]=e.value}const ug=Fd("$ZodArray",(e,t)=>{bm.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let e=0;e<i.length;e++){const s=i[e],a=t.element._zod.run({value:s,issues:[]},r);a instanceof Promise?o.push(a.then(t=>cg(t,n,e))):cg(a,n,e)}return o.length?Promise.all(o).then(()=>n):n}});function dg(e,t,n,r){e.issues.length&&t.issues.push(...Wh(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function hg(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=Dh(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function fg(e,t,n,r,i,o){const s=[],a=i.keySet,l=i.catchall._zod,c=l.def.type;for(const i of Object.keys(t)){if(a.has(i))continue;if("never"===c){s.push(i);continue}const o=l.run({value:t[i],issues:[]},r);o instanceof Promise?e.push(o.then(e=>dg(e,n,i,t))):dg(o,n,i,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const pg=Fd("$ZodObject",(e,t)=>{bm.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=lh(()=>hg(t));fh(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const i=Sh,o=t.catchall;let s;e._zod.parse=(t,n)=>{s??(s=r.value);const a=t.value;if(!i(a))return t.issues.push({expected:"object",code:"invalid_type",input:a,inst:e}),t;t.value={};const l=[],c=s.shape;for(const e of s.keys){const r=c[e]._zod.run({value:a[e],issues:[]},n);r instanceof Promise?l.push(r.then(n=>dg(n,t,e,a))):dg(r,t,e,a)}return o?fg(l,a,t,n,r.value,e):l.length?Promise.all(l).then(()=>t):t}}),mg=Fd("$ZodObjectJIT",(e,t)=>{pg.init(e,t);const n=e._zod.parse,r=lh(()=>hg(t));let i;const o=Sh,s=!Kd.jitless,a=s&&kh.value,l=t.catchall;let c;e._zod.parse=(u,d)=>{c??(c=r.value);const h=u.value;return o(h)?s&&a&&!1===d?.async&&!0!==d.jitless?(i||(i=(e=>{const t=new Om(["shape","payload","ctx"]),n=r.value,i=e=>{const t=wh(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const o=Object.create(null);let s=0;for(const e of n.keys)o[e]="key_"+s++;t.write("const newResult = {};");for(const e of n.keys){const n=o[e],r=wh(e);t.write(`const ${n} = ${i(e)};`),t.write(`\n        if (${n}.issues.length) {\n          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${r}, ...iss.path] : [${r}]\n          })));\n        }\n        \n        \n        if (${n}.value === undefined) {\n          if (${r} in input) {\n            newResult[${r}] = undefined;\n          }\n        } else {\n          newResult[${r}] = ${n}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const a=t.compile();return(t,n)=>a(e,t,n)})(t.shape)),u=i(u,d),l?fg([],h,u,d,c,e):u):n(u,d):(u.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),u)}});function gg(e,t,n,r){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;const i=e.filter(e=>!Yh(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>qh(e,r,Jd())))}),t)}const vg=Fd("$ZodUnion",(e,t)=>{bm.init(e,t),fh(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),fh(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),fh(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),fh(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>uh(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let s=!1;const a=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},o);if(t instanceof Promise)a.push(t),s=!0;else{if(0===t.issues.length)return t;a.push(t)}}return s?Promise.all(a).then(t=>gg(t,i,e,o)):gg(a,i,e,o)}}),Og=Fd("$ZodDiscriminatedUnion",(e,t)=>{vg.init(e,t);const n=e._zod.parse;fh(e._zod,"propValues",()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const r=lh(()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(i,o)=>{const s=i.value;if(!Sh(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;const a=r.value.get(s?.[t.discriminator]);return a?a._zod.run(i,o):t.unionFallback?n(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),i)}}),yg=Fd("$ZodIntersection",(e,t)=>{bm.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([t,n])=>wg(e,t,n)):wg(e,i,o)}});function bg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if($h(e)&&$h(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const n of r){const r=bg(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};i[n]=r.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=bg(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function wg(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Yh(e))return e;const r=bg(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const xg=Fd("$ZodTuple",(e,t)=>{bm.init(e,t);const n=t.items,r=n.length-[...n].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(i,o)=>{const s=i.value;if(!Array.isArray(s))return i.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];const a=[];if(!t.rest){const t=s.length>n.length,o=s.length<r-1;if(t||o)return i.issues.push({...t?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:s,inst:e,origin:"array"}),i}let l=-1;for(const e of n){if(l++,l>=s.length&&l>=r)continue;const t=e._zod.run({value:s[l],issues:[]},o);t instanceof Promise?a.push(t.then(e=>Sg(e,i,l))):Sg(t,i,l)}if(t.rest){const e=s.slice(n.length);for(const n of e){l++;const e=t.rest._zod.run({value:n,issues:[]},o);e instanceof Promise?a.push(e.then(e=>Sg(e,i,l))):Sg(e,i,l)}}return a.length?Promise.all(a).then(()=>i):i}});function Sg(e,t,n){e.issues.length&&t.issues.push(...Wh(n,e.issues)),t.value[n]=e.value}const kg=Fd("$ZodRecord",(e,t)=>{bm.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!$h(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const e of s)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){const s=t.valueType._zod.run({value:i[e],issues:[]},r);s instanceof Promise?o.push(s.then(t=>{t.issues.length&&n.issues.push(...Wh(e,t.issues)),n.value[e]=t.value})):(s.issues.length&&n.issues.push(...Wh(e,s.issues)),n.value[e]=s.value)}let a;for(const e in i)s.has(e)||(a=a??[],a.push(e));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:a})}else{n.value={};for(const s of Reflect.ownKeys(i)){if("__proto__"===s)continue;const a=t.keyType._zod.run({value:s,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(e=>qh(e,r,Jd())),input:s,path:[s],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:i[s],issues:[]},r);l instanceof Promise?o.push(l.then(e=>{e.issues.length&&n.issues.push(...Wh(s,e.issues)),n.value[a.value]=e.value})):(l.issues.length&&n.issues.push(...Wh(s,l.issues)),n.value[a.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),$g=Fd("$ZodMap",(e,t)=>{bm.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),n;const o=[];n.value=new Map;for(const[s,a]of i){const l=t.keyType._zod.run({value:s,issues:[]},r),c=t.valueType._zod.run({value:a,issues:[]},r);l instanceof Promise||c instanceof Promise?o.push(Promise.all([l,c]).then(([t,o])=>{_g(t,o,n,s,i,e,r)})):_g(l,c,n,s,i,e,r)}return o.length?Promise.all(o).then(()=>n):n}});function _g(e,t,n,r,i,o,s){e.issues.length&&(Ch.has(typeof r)?n.issues.push(...Wh(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:o,issues:e.issues.map(e=>qh(e,s,Jd()))})),t.issues.length&&(Ch.has(typeof r)?n.issues.push(...Wh(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:r,issues:t.issues.map(e=>qh(e,s,Jd()))})),n.value.set(e.value,t.value)}const Pg=Fd("$ZodSet",(e,t)=>{bm.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),n;const o=[];n.value=new Set;for(const e of i){const i=t.valueType._zod.run({value:e,issues:[]},r);i instanceof Promise?o.push(i.then(e=>Eg(e,n))):Eg(i,n)}return o.length?Promise.all(o).then(()=>n):n}});function Eg(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const Cg=Fd("$ZodEnum",(e,t)=>{bm.init(e,t);const n=oh(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>Ch.has(typeof e)).map(e=>"string"==typeof e?Ih(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}}),Tg=Fd("$ZodLiteral",(e,t)=>{if(bm.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?Ih(e):e?Ih(e.toString()):String(e)).join("|")})$`),e._zod.parse=(n,r)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),Ig=Fd("$ZodFile",(e,t)=>{bm.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),Qg=Fd("$ZodTransform",(e,t)=>{bm.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Hd(e.constructor.name);const i=t.transform(n.value,n);if(r.async){return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n))}if(i instanceof Promise)throw new Gd;return n.value=i,n}});function Ag(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Ng=Fd("$ZodOptional",(e,t)=>{bm.init(e,t),e._zod.optin="optional",e._zod.optout="optional",fh(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),fh(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${uh(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Ag(t,e.value)):Ag(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),Mg=Fd("$ZodNullable",(e,t)=>{bm.init(e,t),fh(e._zod,"optin",()=>t.innerType._zod.optin),fh(e._zod,"optout",()=>t.innerType._zod.optout),fh(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${uh(e.source)}|null)$`):void 0}),fh(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),Dg=Fd("$ZodDefault",(e,t)=>{bm.init(e,t),e._zod.optin="optional",fh(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>zg(e,t)):zg(r,t)}});function zg(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const jg=Fd("$ZodPrefault",(e,t)=>{bm.init(e,t),e._zod.optin="optional",fh(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Rg=Fd("$ZodNonOptional",(e,t)=>{bm.init(e,t),fh(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>Zg(t,e)):Zg(i,e)}});function Zg(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Lg=Fd("$ZodSuccess",(e,t)=>{bm.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new Hd("ZodSuccess");const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),Ug=Fd("$ZodCatch",(e,t)=>{bm.init(e,t),fh(e._zod,"optin",()=>t.innerType._zod.optin),fh(e._zod,"optout",()=>t.innerType._zod.optout),fh(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>qh(e,n,Jd()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>qh(e,n,Jd()))},input:e.value}),e.issues=[]),e)}}),Xg=Fd("$ZodNaN",(e,t)=>{bm.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),Vg=Fd("$ZodPipe",(e,t)=>{bm.init(e,t),fh(e._zod,"values",()=>t.in._zod.values),fh(e._zod,"optin",()=>t.in._zod.optin),fh(e._zod,"optout",()=>t.out._zod.optout),fh(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Bg(e,t.in,n)):Bg(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Bg(e,t.out,n)):Bg(r,t.out,n)}});function Bg(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Yg=Fd("$ZodCodec",(e,t)=>{bm.init(e,t),fh(e._zod,"values",()=>t.in._zod.values),fh(e._zod,"optin",()=>t.in._zod.optin),fh(e._zod,"optout",()=>t.out._zod.optout),fh(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Wg(e,t,n)):Wg(r,t,n)}{const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Wg(e,t,n)):Wg(r,t,n)}}});function Wg(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){const r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>Fg(e,r,t.out,n)):Fg(e,r,t.out,n)}{const r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>Fg(e,r,t.in,n)):Fg(e,r,t.in,n)}}function Fg(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}const qg=Fd("$ZodReadonly",(e,t)=>{bm.init(e,t),fh(e._zod,"propValues",()=>t.innerType._zod.propValues),fh(e._zod,"values",()=>t.innerType._zod.values),fh(e._zod,"optin",()=>t.innerType._zod.optin),fh(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(Gg):Gg(r)}});function Gg(e){return e.value=Object.freeze(e.value),e}const Hg=Fd("$ZodTemplateLiteral",(e,t)=>{bm.init(e,t);const n=[];for(const e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);const t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw new Error(`Invalid template literal part: ${e._zod.traits}`);const r=t.startsWith("^")?1:0,i=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,i))}else{if(null!==e&&!Th.has(typeof e))throw new Error(`Invalid template literal part: ${e}`);n.push(Ih(`${e}`))}e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(n,r)=>"string"!=typeof n.value?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),Kg=Fd("$ZodFunction",(e,t)=>(bm.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw new Error("implement() must be called with a function");return function(...n){const r=e._def.input?vf(e._def.input,n):n,i=Reflect.apply(t,this,r);return e._def.output?vf(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw new Error("implementAsync() must be called with a function");return async function(...n){const r=e._def.input?await yf(e._def.input,n):n,i=await Reflect.apply(t,this,r);return e._def.output?await yf(e._def.output,i):i}},e._zod.parse=(t,n)=>{if("function"!=typeof t.value)return t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t;const r=e._def.output&&"promise"===e._def.output._zod.def.type;return t.value=r?e.implementAsync(t.value):e.implement(t.value),t},e.input=(...t)=>{const n=e.constructor;return Array.isArray(t[0])?new n({type:"function",input:new xg({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}):new n({type:"function",input:t[0],output:e._def.output})},e.output=t=>new(0,e.constructor)({type:"function",input:e._def.input,output:t}),e)),Jg=Fd("$ZodPromise",(e,t)=>{bm.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),ev=Fd("$ZodLazy",(e,t)=>{bm.init(e,t),fh(e._zod,"innerType",()=>t.getter()),fh(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),fh(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),fh(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),fh(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),tv=Fd("$ZodCustom",(e,t)=>{Fp.init(e,t),bm.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>nv(t,n,r,e));nv(i,n,r,e)}});function nv(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(Kh(e))}}const rv=()=>{const e={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function t(t){return e[t]??null}const n={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"};return e=>{switch(e.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${e.expected}، ولكن تم إدخال ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`مدخلات غير مقبولة: يفترض إدخال ${Mh(e.values[0])}`:`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` أكبر من اللازم: يفترض أن تكون ${e.origin??"القيمة"} ${n} ${e.maximum.toString()} ${r.unit??"عنصر"}`:`أكبر من اللازم: يفترض أن تكون ${e.origin??"القيمة"} ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`أصغر من اللازم: يفترض لـ ${e.origin} أن يكون ${n} ${e.minimum.toString()} ${r.unit}`:`أصغر من اللازم: يفترض لـ ${e.origin} أن يكون ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`نَص غير مقبول: يجب أن يبدأ بـ "${e.prefix}"`:"ends_with"===t.format?`نَص غير مقبول: يجب أن ينتهي بـ "${t.suffix}"`:"includes"===t.format?`نَص غير مقبول: يجب أن يتضمَّن "${t.includes}"`:"regex"===t.format?`نَص غير مقبول: يجب أن يطابق النمط ${t.pattern}`:`${n[t.format]??e.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${e.divisor}`;case"unrecognized_keys":return`معرف${e.keys.length>1?"ات":""} غريب${e.keys.length>1?"ة":""}: ${sh(e.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${e.origin}`;case"invalid_union":default:return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${e.origin}`}}};function iv(){return{localeError:rv()}}const ov=()=>{const e={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Yanlış dəyər: gözlənilən ${e.expected}, daxil olan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Yanlış dəyər: gözlənilən ${Mh(e.values[0])}`:`Yanlış seçim: aşağıdakılardan biri olmalıdır: ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Çox böyük: gözlənilən ${e.origin??"dəyər"} ${n}${e.maximum.toString()} ${r.unit??"element"}`:`Çox böyük: gözlənilən ${e.origin??"dəyər"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Çox kiçik: gözlənilən ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:`Çox kiçik: gözlənilən ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Yanlış mətn: "${t.prefix}" ilə başlamalıdır`:"ends_with"===t.format?`Yanlış mətn: "${t.suffix}" ilə bitməlidir`:"includes"===t.format?`Yanlış mətn: "${t.includes}" daxil olmalıdır`:"regex"===t.format?`Yanlış mətn: ${t.pattern} şablonuna uyğun olmalıdır`:`Yanlış ${n[t.format]??e.format}`}case"not_multiple_of":return`Yanlış ədəd: ${e.divisor} ilə bölünə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan açar${e.keys.length>1?"lar":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`${e.origin} daxilində yanlış açar`;case"invalid_union":default:return"Yanlış dəyər";case"invalid_element":return`${e.origin} daxilində yanlış dəyər`}}};function sv(){return{localeError:ov()}}function av(e,t,n,r){const i=Math.abs(e),o=i%10,s=i%100;return s>=11&&s<=19?r:1===o?t:o>=2&&o<=4?n:r}const lv=()=>{const e={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function t(t){return e[t]??null}const n={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"};return e=>{switch(e.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${e.expected}, атрымана ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"лік";case"object":if(Array.isArray(e))return"масіў";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Няправільны ўвод: чакалася ${Mh(e.values[0])}`:`Няправільны варыянт: чакаўся адзін з ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);if(r){const t=av(Number(e.maximum),r.unit.one,r.unit.few,r.unit.many);return`Занадта вялікі: чакалася, што ${e.origin??"значэнне"} павінна ${r.verb} ${n}${e.maximum.toString()} ${t}`}return`Занадта вялікі: чакалася, што ${e.origin??"значэнне"} павінна быць ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);if(r){const t=av(Number(e.minimum),r.unit.one,r.unit.few,r.unit.many);return`Занадта малы: чакалася, што ${e.origin} павінна ${r.verb} ${n}${e.minimum.toString()} ${t}`}return`Занадта малы: чакалася, што ${e.origin} павінна быць ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Няправільны радок: павінен пачынацца з "${t.prefix}"`:"ends_with"===t.format?`Няправільны радок: павінен заканчвацца на "${t.suffix}"`:"includes"===t.format?`Няправільны радок: павінен змяшчаць "${t.includes}"`:"regex"===t.format?`Няправільны радок: павінен адпавядаць шаблону ${t.pattern}`:`Няправільны ${n[t.format]??e.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${e.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${e.keys.length>1?"ключы":"ключ"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${e.origin}`;case"invalid_union":default:return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${e.origin}`}}};function cv(){return{localeError:lv()}}const uv=()=>{const e={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(t){return e[t]??null}const n={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipus invàlid: s'esperava ${e.expected}, s'ha rebut ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Valor invàlid: s'esperava ${Mh(e.values[0])}`:`Opció invàlida: s'esperava una de ${sh(e.values," o ")}`;case"too_big":{const n=e.inclusive?"com a màxim":"menys de",r=t(e.origin);return r?`Massa gran: s'esperava que ${e.origin??"el valor"} contingués ${n} ${e.maximum.toString()} ${r.unit??"elements"}`:`Massa gran: s'esperava que ${e.origin??"el valor"} fos ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"com a mínim":"més de",r=t(e.origin);return r?`Massa petit: s'esperava que ${e.origin} contingués ${n} ${e.minimum.toString()} ${r.unit}`:`Massa petit: s'esperava que ${e.origin} fos ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Format invàlid: ha de començar amb "${t.prefix}"`:"ends_with"===t.format?`Format invàlid: ha d'acabar amb "${t.suffix}"`:"includes"===t.format?`Format invàlid: ha d'incloure "${t.includes}"`:"regex"===t.format?`Format invàlid: ha de coincidir amb el patró ${t.pattern}`:`Format invàlid per a ${n[t.format]??e.format}`}case"not_multiple_of":return`Número invàlid: ha de ser múltiple de ${e.divisor}`;case"unrecognized_keys":return`Clau${e.keys.length>1?"s":""} no reconeguda${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Clau invàlida a ${e.origin}`;case"invalid_union":default:return"Entrada invàlida";case"invalid_element":return`Element invàlid a ${e.origin}`}}};function dv(){return{localeError:uv()}}const hv=()=>{const e={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}};function t(t){return e[t]??null}const n={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"};return e=>{switch(e.code){case"invalid_type":return`Neplatný vstup: očekáváno ${e.expected}, obdrženo ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Neplatný vstup: očekáváno ${Mh(e.values[0])}`:`Neplatná možnost: očekávána jedna z hodnot ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Hodnota je příliš velká: ${e.origin??"hodnota"} musí mít ${n}${e.maximum.toString()} ${r.unit??"prvků"}`:`Hodnota je příliš velká: ${e.origin??"hodnota"} musí být ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Hodnota je příliš malá: ${e.origin??"hodnota"} musí mít ${n}${e.minimum.toString()} ${r.unit??"prvků"}`:`Hodnota je příliš malá: ${e.origin??"hodnota"} musí být ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Neplatný řetězec: musí začínat na "${t.prefix}"`:"ends_with"===t.format?`Neplatný řetězec: musí končit na "${t.suffix}"`:"includes"===t.format?`Neplatný řetězec: musí obsahovat "${t.includes}"`:"regex"===t.format?`Neplatný řetězec: musí odpovídat vzoru ${t.pattern}`:`Neplatný formát ${n[t.format]??e.format}`}case"not_multiple_of":return`Neplatné číslo: musí být násobkem ${e.divisor}`;case"unrecognized_keys":return`Neznámé klíče: ${sh(e.keys,", ")}`;case"invalid_key":return`Neplatný klíč v ${e.origin}`;case"invalid_union":default:return"Neplatný vstup";case"invalid_element":return`Neplatná hodnota v ${e.origin}`}}};function fv(){return{localeError:hv()}}const pv=()=>{const e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"};function n(t){return e[t]??null}function r(e){return t[e]??e}const i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldigt input: forventede ${r(e.expected)}, fik ${r((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":return Array.isArray(e)?"liste":null===e?"null":Object.getPrototypeOf(e)!==Object.prototype&&e.constructor?e.constructor.name:"objekt"}return t})(e.input))}`;case"invalid_value":return 1===e.values.length?`Ugyldig værdi: forventede ${Mh(e.values[0])}`:`Ugyldigt valg: forventede en af følgende ${sh(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",i=n(e.origin),o=r(e.origin);return i?`For stor: forventede ${o??"value"} ${i.verb} ${t} ${e.maximum.toString()} ${i.unit??"elementer"}`:`For stor: forventede ${o??"value"} havde ${t} ${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",i=n(e.origin),o=r(e.origin);return i?`For lille: forventede ${o} ${i.verb} ${t} ${e.minimum.toString()} ${i.unit}`:`For lille: forventede ${o} havde ${t} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ugyldig streng: skal starte med "${t.prefix}"`:"ends_with"===t.format?`Ugyldig streng: skal ende med "${t.suffix}"`:"includes"===t.format?`Ugyldig streng: skal indeholde "${t.includes}"`:"regex"===t.format?`Ugyldig streng: skal matche mønsteret ${t.pattern}`:`Ugyldig ${i[t.format]??e.format}`}case"not_multiple_of":return`Ugyldigt tal: skal være deleligt med ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Ugyldig nøgle i ${e.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig værdi i ${e.origin}`;default:return"Ugyldigt input"}}};function mv(){return{localeError:pv()}}const gv=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(t){return e[t]??null}const n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return e=>{switch(e.code){case"invalid_type":return`Ungültige Eingabe: erwartet ${e.expected}, erhalten ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ungültige Eingabe: erwartet ${Mh(e.values[0])}`:`Ungültige Option: erwartet eine von ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Zu groß: erwartet, dass ${e.origin??"Wert"} ${n}${e.maximum.toString()} ${r.unit??"Elemente"} hat`:`Zu groß: erwartet, dass ${e.origin??"Wert"} ${n}${e.maximum.toString()} ist`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Zu klein: erwartet, dass ${e.origin} ${n}${e.minimum.toString()} ${r.unit} hat`:`Zu klein: erwartet, dass ${e.origin} ${n}${e.minimum.toString()} ist`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ungültiger String: muss mit "${t.prefix}" beginnen`:"ends_with"===t.format?`Ungültiger String: muss mit "${t.suffix}" enden`:"includes"===t.format?`Ungültiger String: muss "${t.includes}" enthalten`:"regex"===t.format?`Ungültiger String: muss dem Muster ${t.pattern} entsprechen`:`Ungültig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ungültige Zahl: muss ein Vielfaches von ${e.divisor} sein`;case"unrecognized_keys":return`${e.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Ungültiger Schlüssel in ${e.origin}`;case"invalid_union":default:return"Ungültige Eingabe";case"invalid_element":return`Ungültiger Wert in ${e.origin}`}}};function vv(){return{localeError:gv()}}const Ov=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Invalid input: expected ${e.expected}, received ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Invalid input: expected ${Mh(e.values[0])}`:`Invalid option: expected one of ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Too big: expected ${e.origin??"value"} to have ${n}${e.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Too small: expected ${e.origin} to have ${n}${e.minimum.toString()} ${r.unit}`:`Too small: expected ${e.origin} to be ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Invalid string: must start with "${t.prefix}"`:"ends_with"===t.format?`Invalid string: must end with "${t.suffix}"`:"includes"===t.format?`Invalid string: must include "${t.includes}"`:"regex"===t.format?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}};function yv(){return{localeError:Ov()}}const bv=()=>{const e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(t){return e[t]??null}const n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return e=>{switch(e.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${e.expected}, riceviĝis ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Nevalida enigo: atendiĝis ${Mh(e.values[0])}`:`Nevalida opcio: atendiĝis unu el ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Tro granda: atendiĝis ke ${e.origin??"valoro"} havu ${n}${e.maximum.toString()} ${r.unit??"elementojn"}`:`Tro granda: atendiĝis ke ${e.origin??"valoro"} havu ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Tro malgranda: atendiĝis ke ${e.origin} havu ${n}${e.minimum.toString()} ${r.unit}`:`Tro malgranda: atendiĝis ke ${e.origin} estu ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Nevalida karaktraro: devas komenciĝi per "${t.prefix}"`:"ends_with"===t.format?`Nevalida karaktraro: devas finiĝi per "${t.suffix}"`:"includes"===t.format?`Nevalida karaktraro: devas inkluzivi "${t.includes}"`:"regex"===t.format?`Nevalida karaktraro: devas kongrui kun la modelo ${t.pattern}`:`Nevalida ${n[t.format]??e.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${e.divisor}`;case"unrecognized_keys":return`Nekonata${e.keys.length>1?"j":""} ŝlosilo${e.keys.length>1?"j":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${e.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${e.origin}`}}};function wv(){return{localeError:bv()}}const xv=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(t){return e[t]??null}function r(e){return t[e]??e}const i={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Entrada inválida: se esperaba ${r(e.expected)}, recibido ${r((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":return Array.isArray(e)?"array":null===e?"null":Object.getPrototypeOf(e)!==Object.prototype?e.constructor.name:"object"}return t})(e.input))}`;case"invalid_value":return 1===e.values.length?`Entrada inválida: se esperaba ${Mh(e.values[0])}`:`Opción inválida: se esperaba una de ${sh(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",i=n(e.origin),o=r(e.origin);return i?`Demasiado grande: se esperaba que ${o??"valor"} tuviera ${t}${e.maximum.toString()} ${i.unit??"elementos"}`:`Demasiado grande: se esperaba que ${o??"valor"} fuera ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",i=n(e.origin),o=r(e.origin);return i?`Demasiado pequeño: se esperaba que ${o} tuviera ${t}${e.minimum.toString()} ${i.unit}`:`Demasiado pequeño: se esperaba que ${o} fuera ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Cadena inválida: debe comenzar con "${t.prefix}"`:"ends_with"===t.format?`Cadena inválida: debe terminar en "${t.suffix}"`:"includes"===t.format?`Cadena inválida: debe incluir "${t.includes}"`:"regex"===t.format?`Cadena inválida: debe coincidir con el patrón ${t.pattern}`:`Inválido ${i[t.format]??e.format}`}case"not_multiple_of":return`Número inválido: debe ser múltiplo de ${e.divisor}`;case"unrecognized_keys":return`Llave${e.keys.length>1?"s":""} desconocida${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Llave inválida en ${r(e.origin)}`;case"invalid_union":default:return"Entrada inválida";case"invalid_element":return`Valor inválido en ${r(e.origin)}`}}};function Sv(){return{localeError:xv()}}const kv=()=>{const e={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function t(t){return e[t]??null}const n={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"};return e=>{switch(e.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${e.expected} می‌بود، ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"آرایه";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} دریافت شد`;case"invalid_value":return 1===e.values.length?`ورودی نامعتبر: می‌بایست ${Mh(e.values[0])} می‌بود`:`گزینه نامعتبر: می‌بایست یکی از ${sh(e.values,"|")} می‌بود`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`خیلی بزرگ: ${e.origin??"مقدار"} باید ${n}${e.maximum.toString()} ${r.unit??"عنصر"} باشد`:`خیلی بزرگ: ${e.origin??"مقدار"} باید ${n}${e.maximum.toString()} باشد`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`خیلی کوچک: ${e.origin} باید ${n}${e.minimum.toString()} ${r.unit} باشد`:`خیلی کوچک: ${e.origin} باید ${n}${e.minimum.toString()} باشد`}case"invalid_format":{const t=e;return"starts_with"===t.format?`رشته نامعتبر: باید با "${t.prefix}" شروع شود`:"ends_with"===t.format?`رشته نامعتبر: باید با "${t.suffix}" تمام شود`:"includes"===t.format?`رشته نامعتبر: باید شامل "${t.includes}" باشد`:"regex"===t.format?`رشته نامعتبر: باید با الگوی ${t.pattern} مطابقت داشته باشد`:`${n[t.format]??e.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${e.divisor} باشد`;case"unrecognized_keys":return`کلید${e.keys.length>1?"های":""} ناشناس: ${sh(e.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${e.origin}`;case"invalid_union":default:return"ورودی نامعتبر";case"invalid_element":return`مقدار نامعتبر در ${e.origin}`}}};function $v(){return{localeError:kv()}}const _v=()=>{const e={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}};function t(t){return e[t]??null}const n={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return e=>{switch(e.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${e.expected}, oli ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Virheellinen syöte: täytyy olla ${Mh(e.values[0])}`:`Virheellinen valinta: täytyy olla yksi seuraavista: ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Liian suuri: ${r.subject} täytyy olla ${n}${e.maximum.toString()} ${r.unit}`.trim():`Liian suuri: arvon täytyy olla ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Liian pieni: ${r.subject} täytyy olla ${n}${e.minimum.toString()} ${r.unit}`.trim():`Liian pieni: arvon täytyy olla ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Virheellinen syöte: täytyy alkaa "${t.prefix}"`:"ends_with"===t.format?`Virheellinen syöte: täytyy loppua "${t.suffix}"`:"includes"===t.format?`Virheellinen syöte: täytyy sisältää "${t.includes}"`:"regex"===t.format?`Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${t.pattern}`:`Virheellinen ${n[t.format]??e.format}`}case"not_multiple_of":return`Virheellinen luku: täytyy olla luvun ${e.divisor} monikerta`;case"unrecognized_keys":return`${e.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${sh(e.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syöte"}}};function Pv(){return{localeError:_v()}}const Ev=()=>{const e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function t(t){return e[t]??null}const n={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return e=>{switch(e.code){case"invalid_type":return`Entrée invalide : ${e.expected} attendu, ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} reçu`;case"invalid_value":return 1===e.values.length?`Entrée invalide : ${Mh(e.values[0])} attendu`:`Option invalide : une valeur parmi ${sh(e.values,"|")} attendue`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Trop grand : ${e.origin??"valeur"} doit ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"élément(s)"}`:`Trop grand : ${e.origin??"valeur"} doit être ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Trop petit : ${e.origin} doit ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Trop petit : ${e.origin} doit être ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chaîne invalide : doit commencer par "${t.prefix}"`:"ends_with"===t.format?`Chaîne invalide : doit se terminer par "${t.suffix}"`:"includes"===t.format?`Chaîne invalide : doit inclure "${t.includes}"`:"regex"===t.format?`Chaîne invalide : doit correspondre au modèle ${t.pattern}`:`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${e.divisor}`;case"unrecognized_keys":return`Clé${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${sh(e.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${e.origin}`;case"invalid_union":default:return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`}}};function Cv(){return{localeError:Ev()}}const Tv=()=>{const e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function t(t){return e[t]??null}const n={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return e=>{switch(e.code){case"invalid_type":return`Entrée invalide : attendu ${e.expected}, reçu ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Entrée invalide : attendu ${Mh(e.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"≤":"<",r=t(e.origin);return r?`Trop grand : attendu que ${e.origin??"la valeur"} ait ${n}${e.maximum.toString()} ${r.unit}`:`Trop grand : attendu que ${e.origin??"la valeur"} soit ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"≥":">",r=t(e.origin);return r?`Trop petit : attendu que ${e.origin} ait ${n}${e.minimum.toString()} ${r.unit}`:`Trop petit : attendu que ${e.origin} soit ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chaîne invalide : doit commencer par "${t.prefix}"`:"ends_with"===t.format?`Chaîne invalide : doit se terminer par "${t.suffix}"`:"includes"===t.format?`Chaîne invalide : doit inclure "${t.includes}"`:"regex"===t.format?`Chaîne invalide : doit correspondre au motif ${t.pattern}`:`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${e.divisor}`;case"unrecognized_keys":return`Clé${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${sh(e.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${e.origin}`;case"invalid_union":default:return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`}}};function Iv(){return{localeError:Tv()}}const Qv=()=>{const e={string:{unit:"אותיות",verb:"לכלול"},file:{unit:"בייטים",verb:"לכלול"},array:{unit:"פריטים",verb:"לכלול"},set:{unit:"פריטים",verb:"לכלול"}};function t(t){return e[t]??null}const n={regex:"קלט",email:"כתובת אימייל",url:"כתובת רשת",emoji:"אימוג'י",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"תאריך וזמן ISO",date:"תאריך ISO",time:"זמן ISO",duration:"משך זמן ISO",ipv4:"כתובת IPv4",ipv6:"כתובת IPv6",cidrv4:"טווח IPv4",cidrv6:"טווח IPv6",base64:"מחרוזת בבסיס 64",base64url:"מחרוזת בבסיס 64 לכתובות רשת",json_string:"מחרוזת JSON",e164:"מספר E.164",jwt:"JWT",template_literal:"קלט"};return e=>{switch(e.code){case"invalid_type":return`קלט לא תקין: צריך ${e.expected}, התקבל ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`קלט לא תקין: צריך ${Mh(e.values[0])}`:`קלט לא תקין: צריך אחת מהאפשרויות  ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`גדול מדי: ${e.origin??"value"} צריך להיות ${n}${e.maximum.toString()} ${r.unit??"elements"}`:`גדול מדי: ${e.origin??"value"} צריך להיות ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`קטן מדי: ${e.origin} צריך להיות ${n}${e.minimum.toString()} ${r.unit}`:`קטן מדי: ${e.origin} צריך להיות ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`מחרוזת לא תקינה: חייבת להתחיל ב"${t.prefix}"`:"ends_with"===t.format?`מחרוזת לא תקינה: חייבת להסתיים ב "${t.suffix}"`:"includes"===t.format?`מחרוזת לא תקינה: חייבת לכלול "${t.includes}"`:"regex"===t.format?`מחרוזת לא תקינה: חייבת להתאים לתבנית ${t.pattern}`:`${n[t.format]??e.format} לא תקין`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${e.divisor}`;case"unrecognized_keys":return`מפתח${e.keys.length>1?"ות":""} לא מזוה${e.keys.length>1?"ים":"ה"}: ${sh(e.keys,", ")}`;case"invalid_key":return`מפתח לא תקין ב${e.origin}`;case"invalid_union":default:return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${e.origin}`}}};function Av(){return{localeError:Qv()}}const Nv=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(t){return e[t]??null}const n={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"};return e=>{switch(e.code){case"invalid_type":return`Érvénytelen bemenet: a várt érték ${e.expected}, a kapott érték ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szám";case"object":if(Array.isArray(e))return"tömb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Érvénytelen bemenet: a várt érték ${Mh(e.values[0])}`:`Érvénytelen opció: valamelyik érték várt ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Túl nagy: ${e.origin??"érték"} mérete túl nagy ${n}${e.maximum.toString()} ${r.unit??"elem"}`:`Túl nagy: a bemeneti érték ${e.origin??"érték"} túl nagy: ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Túl kicsi: a bemeneti érték ${e.origin} mérete túl kicsi ${n}${e.minimum.toString()} ${r.unit}`:`Túl kicsi: a bemeneti érték ${e.origin} túl kicsi ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Érvénytelen string: "${t.prefix}" értékkel kell kezdődnie`:"ends_with"===t.format?`Érvénytelen string: "${t.suffix}" értékkel kell végződnie`:"includes"===t.format?`Érvénytelen string: "${t.includes}" értéket kell tartalmaznia`:"regex"===t.format?`Érvénytelen string: ${t.pattern} mintának kell megfelelnie`:`Érvénytelen ${n[t.format]??e.format}`}case"not_multiple_of":return`Érvénytelen szám: ${e.divisor} többszörösének kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Érvénytelen kulcs ${e.origin}`;case"invalid_union":default:return"Érvénytelen bemenet";case"invalid_element":return`Érvénytelen érték: ${e.origin}`}}};function Mv(){return{localeError:Nv()}}const Dv=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(t){return e[t]??null}const n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak valid: diharapkan ${e.expected}, diterima ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input tidak valid: diharapkan ${Mh(e.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Terlalu besar: diharapkan ${e.origin??"value"} memiliki ${n}${e.maximum.toString()} ${r.unit??"elemen"}`:`Terlalu besar: diharapkan ${e.origin??"value"} menjadi ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Terlalu kecil: diharapkan ${e.origin} memiliki ${n}${e.minimum.toString()} ${r.unit}`:`Terlalu kecil: diharapkan ${e.origin} menjadi ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`String tidak valid: harus dimulai dengan "${t.prefix}"`:"ends_with"===t.format?`String tidak valid: harus berakhir dengan "${t.suffix}"`:"includes"===t.format?`String tidak valid: harus menyertakan "${t.includes}"`:"regex"===t.format?`String tidak valid: harus sesuai pola ${t.pattern}`:`${n[t.format]??e.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${e.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${e.origin}`}}};function zv(){return{localeError:Dv()}}const jv=()=>{const e={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}};function t(t){return e[t]??null}const n={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"};return e=>{switch(e.code){case"invalid_type":return`Rangt gildi: Þú slóst inn ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"númer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} þar sem á að vera ${e.expected}`;case"invalid_value":return 1===e.values.length?`Rangt gildi: gert ráð fyrir ${Mh(e.values[0])}`:`Ógilt val: má vera eitt af eftirfarandi ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Of stórt: gert er ráð fyrir að ${e.origin??"gildi"} hafi ${n}${e.maximum.toString()} ${r.unit??"hluti"}`:`Of stórt: gert er ráð fyrir að ${e.origin??"gildi"} sé ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Of lítið: gert er ráð fyrir að ${e.origin} hafi ${n}${e.minimum.toString()} ${r.unit}`:`Of lítið: gert er ráð fyrir að ${e.origin} sé ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ógildur strengur: verður að byrja á "${t.prefix}"`:"ends_with"===t.format?`Ógildur strengur: verður að enda á "${t.suffix}"`:"includes"===t.format?`Ógildur strengur: verður að innihalda "${t.includes}"`:"regex"===t.format?`Ógildur strengur: verður að fylgja mynstri ${t.pattern}`:`Rangt ${n[t.format]??e.format}`}case"not_multiple_of":return`Röng tala: verður að vera margfeldi af ${e.divisor}`;case"unrecognized_keys":return`Óþekkt ${e.keys.length>1?"ir lyklar":"ur lykill"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Rangur lykill í ${e.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi í ${e.origin}`}}};function Rv(){return{localeError:jv()}}const Zv=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(t){return e[t]??null}const n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input non valido: atteso ${e.expected}, ricevuto ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input non valido: atteso ${Mh(e.values[0])}`:`Opzione non valida: atteso uno tra ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Troppo grande: ${e.origin??"valore"} deve avere ${n}${e.maximum.toString()} ${r.unit??"elementi"}`:`Troppo grande: ${e.origin??"valore"} deve essere ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Troppo piccolo: ${e.origin} deve avere ${n}${e.minimum.toString()} ${r.unit}`:`Troppo piccolo: ${e.origin} deve essere ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Stringa non valida: deve iniziare con "${t.prefix}"`:"ends_with"===t.format?`Stringa non valida: deve terminare con "${t.suffix}"`:"includes"===t.format?`Stringa non valida: deve includere "${t.includes}"`:"regex"===t.format?`Stringa non valida: deve corrispondere al pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${e.divisor}`;case"unrecognized_keys":return`Chiav${e.keys.length>1?"i":"e"} non riconosciut${e.keys.length>1?"e":"a"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${e.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${e.origin}`}}};function Lv(){return{localeError:Zv()}}const Uv=()=>{const e={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function t(t){return e[t]??null}const n={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"};return e=>{switch(e.code){case"invalid_type":return`無効な入力: ${e.expected}が期待されましたが、${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"数値";case"object":if(Array.isArray(e))return"配列";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}が入力されました`;case"invalid_value":return 1===e.values.length?`無効な入力: ${Mh(e.values[0])}が期待されました`:`無効な選択: ${sh(e.values,"、")}のいずれかである必要があります`;case"too_big":{const n=e.inclusive?"以下である":"より小さい",r=t(e.origin);return r?`大きすぎる値: ${e.origin??"値"}は${e.maximum.toString()}${r.unit??"要素"}${n}必要があります`:`大きすぎる値: ${e.origin??"値"}は${e.maximum.toString()}${n}必要があります`}case"too_small":{const n=e.inclusive?"以上である":"より大きい",r=t(e.origin);return r?`小さすぎる値: ${e.origin}は${e.minimum.toString()}${r.unit}${n}必要があります`:`小さすぎる値: ${e.origin}は${e.minimum.toString()}${n}必要があります`}case"invalid_format":{const t=e;return"starts_with"===t.format?`無効な文字列: "${t.prefix}"で始まる必要があります`:"ends_with"===t.format?`無効な文字列: "${t.suffix}"で終わる必要があります`:"includes"===t.format?`無効な文字列: "${t.includes}"を含む必要があります`:"regex"===t.format?`無効な文字列: パターン${t.pattern}に一致する必要があります`:`無効な${n[t.format]??e.format}`}case"not_multiple_of":return`無効な数値: ${e.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${e.keys.length>1?"群":""}: ${sh(e.keys,"、")}`;case"invalid_key":return`${e.origin}内の無効なキー`;case"invalid_union":default:return"無効な入力";case"invalid_element":return`${e.origin}内の無効な値`}}};function Xv(){return{localeError:Uv()}}const Vv=()=>{const e={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}};function t(t){return e[t]??null}const n={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"};return e=>{switch(e.code){case"invalid_type":return`არასწორი შეყვანა: მოსალოდნელი ${e.expected}, მიღებული ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"რიცხვი";case"object":if(Array.isArray(e))return"მასივი";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return{string:"სტრინგი",boolean:"ბულეანი",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"ფუნქცია"}[t]??t})(e.input)}`;case"invalid_value":return 1===e.values.length?`არასწორი შეყვანა: მოსალოდნელი ${Mh(e.values[0])}`:`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${sh(e.values,"|")}-დან`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`ზედმეტად დიდი: მოსალოდნელი ${e.origin??"მნიშვნელობა"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit}`:`ზედმეტად დიდი: მოსალოდნელი ${e.origin??"მნიშვნელობა"} იყოს ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`ზედმეტად პატარა: მოსალოდნელი ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`ზედმეტად პატარა: მოსალოდნელი ${e.origin} იყოს ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`არასწორი სტრინგი: უნდა იწყებოდეს "${t.prefix}"-ით`:"ends_with"===t.format?`არასწორი სტრინგი: უნდა მთავრდებოდეს "${t.suffix}"-ით`:"includes"===t.format?`არასწორი სტრინგი: უნდა შეიცავდეს "${t.includes}"-ს`:"regex"===t.format?`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${t.pattern}`:`არასწორი ${n[t.format]??e.format}`}case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${e.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${e.keys.length>1?"ები":"ი"}: ${sh(e.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${e.origin}-ში`;case"invalid_union":default:return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${e.origin}-ში`}}};function Bv(){return{localeError:Vv()}}const Yv=()=>{const e={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function t(t){return e[t]??null}const n={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"};return e=>{switch(e.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${e.expected} ប៉ុន្តែទទួលបាន ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":if(Array.isArray(e))return"អារេ (Array)";if(null===e)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${Mh(e.values[0])}`:`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`ធំពេក៖ ត្រូវការ ${e.origin??"តម្លៃ"} ${n} ${e.maximum.toString()} ${r.unit??"ធាតុ"}`:`ធំពេក៖ ត្រូវការ ${e.origin??"តម្លៃ"} ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`តូចពេក៖ ត្រូវការ ${e.origin} ${n} ${e.minimum.toString()} ${r.unit}`:`តូចពេក៖ ត្រូវការ ${e.origin} ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${t.prefix}"`:"ends_with"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${t.suffix}"`:"includes"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${t.includes}"`:"regex"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${t.pattern}`:`មិនត្រឹមត្រូវ៖ ${n[t.format]??e.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${e.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${sh(e.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${e.origin}`;case"invalid_union":default:return"ទិន្នន័យមិនត្រឹមត្រូវ";case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${e.origin}`}}};function Wv(){return{localeError:Yv()}}function Fv(){return Wv()}const qv=()=>{const e={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"};return e=>{switch(e.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${e.expected}, 받은 타입은 ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}입니다`;case"invalid_value":return 1===e.values.length?`잘못된 입력: 값은 ${Mh(e.values[0])} 이어야 합니다`:`잘못된 옵션: ${sh(e.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{const n=e.inclusive?"이하":"미만",r="미만"===n?"이어야 합니다":"여야 합니다",i=t(e.origin),o=i?.unit??"요소";return i?`${e.origin??"값"}이 너무 큽니다: ${e.maximum.toString()}${o} ${n}${r}`:`${e.origin??"값"}이 너무 큽니다: ${e.maximum.toString()} ${n}${r}`}case"too_small":{const n=e.inclusive?"이상":"초과",r="이상"===n?"이어야 합니다":"여야 합니다",i=t(e.origin),o=i?.unit??"요소";return i?`${e.origin??"값"}이 너무 작습니다: ${e.minimum.toString()}${o} ${n}${r}`:`${e.origin??"값"}이 너무 작습니다: ${e.minimum.toString()} ${n}${r}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`잘못된 문자열: "${t.prefix}"(으)로 시작해야 합니다`:"ends_with"===t.format?`잘못된 문자열: "${t.suffix}"(으)로 끝나야 합니다`:"includes"===t.format?`잘못된 문자열: "${t.includes}"을(를) 포함해야 합니다`:"regex"===t.format?`잘못된 문자열: 정규식 ${t.pattern} 패턴과 일치해야 합니다`:`잘못된 ${n[t.format]??e.format}`}case"not_multiple_of":return`잘못된 숫자: ${e.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${sh(e.keys,", ")}`;case"invalid_key":return`잘못된 키: ${e.origin}`;case"invalid_union":default:return"잘못된 입력";case"invalid_element":return`잘못된 값: ${e.origin}`}}};function Gv(){return{localeError:qv()}}const Hv=(e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaičius";case"bigint":return"sveikasis skaičius";case"string":return"eilutė";case"boolean":return"loginė reikšmė";case"undefined":case"void":return"neapibrėžta reikšmė";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return void 0===t?"nežinomas objektas":null===t?"nulinė reikšmė":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulinė reikšmė"}return e},Kv=e=>e.charAt(0).toUpperCase()+e.slice(1);function Jv(e){const t=Math.abs(e),n=t%10,r=t%100;return r>=11&&r<=19||0===n?"many":1===n?"one":"few"}const eO=()=>{const e={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function t(t,n,r,i){const o=e[t]??null;return null===o?o:{unit:o.unit[n],verb:o.verb[i][r?"inclusive":"notInclusive"]}}const n={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"};return e=>{switch(e.code){case"invalid_type":return`Gautas tipas ${(e=>Hv(typeof e,e))(e.input)}, o tikėtasi - ${Hv(e.expected)}`;case"invalid_value":return 1===e.values.length?`Privalo būti ${Mh(e.values[0])}`:`Privalo būti vienas iš ${sh(e.values,"|")} pasirinkimų`;case"too_big":{const n=Hv(e.origin),r=t(e.origin,Jv(Number(e.maximum)),e.inclusive??!1,"smaller");if(r?.verb)return`${Kv(n??e.origin??"reikšmė")} ${r.verb} ${e.maximum.toString()} ${r.unit??"elementų"}`;const i=e.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${Kv(n??e.origin??"reikšmė")} turi būti ${i} ${e.maximum.toString()} ${r?.unit}`}case"too_small":{const n=Hv(e.origin),r=t(e.origin,Jv(Number(e.minimum)),e.inclusive??!1,"bigger");if(r?.verb)return`${Kv(n??e.origin??"reikšmė")} ${r.verb} ${e.minimum.toString()} ${r.unit??"elementų"}`;const i=e.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${Kv(n??e.origin??"reikšmė")} turi būti ${i} ${e.minimum.toString()} ${r?.unit}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Eilutė privalo prasidėti "${t.prefix}"`:"ends_with"===t.format?`Eilutė privalo pasibaigti "${t.suffix}"`:"includes"===t.format?`Eilutė privalo įtraukti "${t.includes}"`:"regex"===t.format?`Eilutė privalo atitikti ${t.pattern}`:`Neteisingas ${n[t.format]??e.format}`}case"not_multiple_of":return`Skaičius privalo būti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${sh(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga įvestis";case"invalid_element":{const t=Hv(e.origin);return`${Kv(t??e.origin??"reikšmė")} turi klaidingą įvestį`}}}};function tO(){return{localeError:eO()}}const nO=()=>{const e={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function t(t){return e[t]??null}const n={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"};return e=>{switch(e.code){case"invalid_type":return`Грешен внес: се очекува ${e.expected}, примено ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"број";case"object":if(Array.isArray(e))return"низа";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Invalid input: expected ${Mh(e.values[0])}`:`Грешана опција: се очекува една ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Премногу голем: се очекува ${e.origin??"вредноста"} да има ${n}${e.maximum.toString()} ${r.unit??"елементи"}`:`Премногу голем: се очекува ${e.origin??"вредноста"} да биде ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Премногу мал: се очекува ${e.origin} да има ${n}${e.minimum.toString()} ${r.unit}`:`Премногу мал: се очекува ${e.origin} да биде ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Неважечка низа: мора да започнува со "${t.prefix}"`:"ends_with"===t.format?`Неважечка низа: мора да завршува со "${t.suffix}"`:"includes"===t.format?`Неважечка низа: мора да вклучува "${t.includes}"`:"regex"===t.format?`Неважечка низа: мора да одгоара на патернот ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${e.origin}`;case"invalid_union":default:return"Грешен внес";case"invalid_element":return`Грешна вредност во ${e.origin}`}}};function rO(){return{localeError:nO()}}const iO=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(t){return e[t]??null}const n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak sah: dijangka ${e.expected}, diterima ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input tidak sah: dijangka ${Mh(e.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Terlalu besar: dijangka ${e.origin??"nilai"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"elemen"}`:`Terlalu besar: dijangka ${e.origin??"nilai"} adalah ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Terlalu kecil: dijangka ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Terlalu kecil: dijangka ${e.origin} adalah ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`String tidak sah: mesti bermula dengan "${t.prefix}"`:"ends_with"===t.format?`String tidak sah: mesti berakhir dengan "${t.suffix}"`:"includes"===t.format?`String tidak sah: mesti mengandungi "${t.includes}"`:"regex"===t.format?`String tidak sah: mesti sepadan dengan corak ${t.pattern}`:`${n[t.format]??e.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${sh(e.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${e.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${e.origin}`}}};function oO(){return{localeError:iO()}}const sO=()=>{const e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(t){return e[t]??null}const n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return e=>{switch(e.code){case"invalid_type":return`Ongeldige invoer: verwacht ${e.expected}, ontving ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ongeldige invoer: verwacht ${Mh(e.values[0])}`:`Ongeldige optie: verwacht één van ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Te lang: verwacht dat ${e.origin??"waarde"} ${n}${e.maximum.toString()} ${r.unit??"elementen"} bevat`:`Te lang: verwacht dat ${e.origin??"waarde"} ${n}${e.maximum.toString()} is`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Te kort: verwacht dat ${e.origin} ${n}${e.minimum.toString()} ${r.unit} bevat`:`Te kort: verwacht dat ${e.origin} ${n}${e.minimum.toString()} is`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ongeldige tekst: moet met "${t.prefix}" beginnen`:"ends_with"===t.format?`Ongeldige tekst: moet op "${t.suffix}" eindigen`:"includes"===t.format?`Ongeldige tekst: moet "${t.includes}" bevatten`:"regex"===t.format?`Ongeldige tekst: moet overeenkomen met patroon ${t.pattern}`:`Ongeldig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${e.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${e.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${e.origin}`}}};function aO(){return{localeError:sO()}}const lO=()=>{const e={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}};function t(t){return e[t]??null}const n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldig input: forventet ${e.expected}, fikk ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ugyldig verdi: forventet ${Mh(e.values[0])}`:`Ugyldig valg: forventet en av ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`For stor(t): forventet ${e.origin??"value"} til å ha ${n}${e.maximum.toString()} ${r.unit??"elementer"}`:`For stor(t): forventet ${e.origin??"value"} til å ha ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`For lite(n): forventet ${e.origin} til å ha ${n}${e.minimum.toString()} ${r.unit}`:`For lite(n): forventet ${e.origin} til å ha ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ugyldig streng: må starte med "${t.prefix}"`:"ends_with"===t.format?`Ugyldig streng: må ende med "${t.suffix}"`:"includes"===t.format?`Ugyldig streng: må inneholde "${t.includes}"`:"regex"===t.format?`Ugyldig streng: må matche mønsteret ${t.pattern}`:`Ugyldig ${n[t.format]??e.format}`}case"not_multiple_of":return`Ugyldig tall: må være et multiplum av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Ugyldig nøkkel i ${e.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${e.origin}`}}};function cO(){return{localeError:lO()}}const uO=()=>{const e={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function t(t){return e[t]??null}const n={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"};return e=>{switch(e.code){case"invalid_type":return`Fâsit giren: umulan ${e.expected}, alınan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Fâsit giren: umulan ${Mh(e.values[0])}`:`Fâsit tercih: mûteberler ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Fazla büyük: ${e.origin??"value"}, ${n}${e.maximum.toString()} ${r.unit??"elements"} sahip olmalıydı.`:`Fazla büyük: ${e.origin??"value"}, ${n}${e.maximum.toString()} olmalıydı.`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Fazla küçük: ${e.origin}, ${n}${e.minimum.toString()} ${r.unit} sahip olmalıydı.`:`Fazla küçük: ${e.origin}, ${n}${e.minimum.toString()} olmalıydı.`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Fâsit metin: "${t.prefix}" ile başlamalı.`:"ends_with"===t.format?`Fâsit metin: "${t.suffix}" ile bitmeli.`:"includes"===t.format?`Fâsit metin: "${t.includes}" ihtivâ etmeli.`:"regex"===t.format?`Fâsit metin: ${t.pattern} nakşına uymalı.`:`Fâsit ${n[t.format]??e.format}`}case"not_multiple_of":return`Fâsit sayı: ${e.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`${e.origin} için tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${e.origin} için tanınmayan kıymet var.`;default:return"Kıymet tanınamadı."}}};function dO(){return{localeError:uO()}}const hO=()=>{const e={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function t(t){return e[t]??null}const n={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"};return e=>{switch(e.code){case"invalid_type":return`ناسم ورودي: باید ${e.expected} وای, مګر ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"ارې";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} ترلاسه شو`;case"invalid_value":return 1===e.values.length?`ناسم ورودي: باید ${Mh(e.values[0])} وای`:`ناسم انتخاب: باید یو له ${sh(e.values,"|")} څخه وای`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`ډیر لوی: ${e.origin??"ارزښت"} باید ${n}${e.maximum.toString()} ${r.unit??"عنصرونه"} ولري`:`ډیر لوی: ${e.origin??"ارزښت"} باید ${n}${e.maximum.toString()} وي`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`ډیر کوچنی: ${e.origin} باید ${n}${e.minimum.toString()} ${r.unit} ولري`:`ډیر کوچنی: ${e.origin} باید ${n}${e.minimum.toString()} وي`}case"invalid_format":{const t=e;return"starts_with"===t.format?`ناسم متن: باید د "${t.prefix}" سره پیل شي`:"ends_with"===t.format?`ناسم متن: باید د "${t.suffix}" سره پای ته ورسيږي`:"includes"===t.format?`ناسم متن: باید "${t.includes}" ولري`:"regex"===t.format?`ناسم متن: باید د ${t.pattern} سره مطابقت ولري`:`${n[t.format]??e.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${e.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${e.keys.length>1?"کلیډونه":"کلیډ"}: ${sh(e.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${e.origin} کې`;case"invalid_union":default:return"ناسمه ورودي";case"invalid_element":return`ناسم عنصر په ${e.origin} کې`}}};function fO(){return{localeError:hO()}}const pO=()=>{const e={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}};function t(t){return e[t]??null}const n={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"};return e=>{switch(e.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${e.expected}, otrzymano ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Nieprawidłowe dane wejściowe: oczekiwano ${Mh(e.values[0])}`:`Nieprawidłowa opcja: oczekiwano jednej z wartości ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Za duża wartość: oczekiwano, że ${e.origin??"wartość"} będzie mieć ${n}${e.maximum.toString()} ${r.unit??"elementów"}`:`Zbyt duż(y/a/e): oczekiwano, że ${e.origin??"wartość"} będzie wynosić ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Za mała wartość: oczekiwano, że ${e.origin??"wartość"} będzie mieć ${n}${e.minimum.toString()} ${r.unit??"elementów"}`:`Zbyt mał(y/a/e): oczekiwano, że ${e.origin??"wartość"} będzie wynosić ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Nieprawidłowy ciąg znaków: musi zaczynać się od "${t.prefix}"`:"ends_with"===t.format?`Nieprawidłowy ciąg znaków: musi kończyć się na "${t.suffix}"`:"includes"===t.format?`Nieprawidłowy ciąg znaków: musi zawierać "${t.includes}"`:"regex"===t.format?`Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${t.pattern}`:`Nieprawidłow(y/a/e) ${n[t.format]??e.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${e.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${e.origin}`;case"invalid_union":default:return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${e.origin}`}}};function mO(){return{localeError:pO()}}const gO=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(t){return e[t]??null}const n={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipo inválido: esperado ${e.expected}, recebido ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"número";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Entrada inválida: esperado ${Mh(e.values[0])}`:`Opção inválida: esperada uma das ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Muito grande: esperado que ${e.origin??"valor"} tivesse ${n}${e.maximum.toString()} ${r.unit??"elementos"}`:`Muito grande: esperado que ${e.origin??"valor"} fosse ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Muito pequeno: esperado que ${e.origin} tivesse ${n}${e.minimum.toString()} ${r.unit}`:`Muito pequeno: esperado que ${e.origin} fosse ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Texto inválido: deve começar com "${t.prefix}"`:"ends_with"===t.format?`Texto inválido: deve terminar com "${t.suffix}"`:"includes"===t.format?`Texto inválido: deve incluir "${t.includes}"`:"regex"===t.format?`Texto inválido: deve corresponder ao padrão ${t.pattern}`:`${n[t.format]??e.format} inválido`}case"not_multiple_of":return`Número inválido: deve ser múltiplo de ${e.divisor}`;case"unrecognized_keys":return`Chave${e.keys.length>1?"s":""} desconhecida${e.keys.length>1?"s":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Chave inválida em ${e.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido em ${e.origin}`;default:return"Campo inválido"}}};function vO(){return{localeError:gO()}}function OO(e,t,n,r){const i=Math.abs(e),o=i%10,s=i%100;return s>=11&&s<=19?r:1===o?t:o>=2&&o<=4?n:r}const yO=()=>{const e={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function t(t){return e[t]??null}const n={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"};return e=>{switch(e.code){case"invalid_type":return`Неверный ввод: ожидалось ${e.expected}, получено ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"массив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Неверный ввод: ожидалось ${Mh(e.values[0])}`:`Неверный вариант: ожидалось одно из ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);if(r){const t=OO(Number(e.maximum),r.unit.one,r.unit.few,r.unit.many);return`Слишком большое значение: ожидалось, что ${e.origin??"значение"} будет иметь ${n}${e.maximum.toString()} ${t}`}return`Слишком большое значение: ожидалось, что ${e.origin??"значение"} будет ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);if(r){const t=OO(Number(e.minimum),r.unit.one,r.unit.few,r.unit.many);return`Слишком маленькое значение: ожидалось, что ${e.origin} будет иметь ${n}${e.minimum.toString()} ${t}`}return`Слишком маленькое значение: ожидалось, что ${e.origin} будет ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Неверная строка: должна начинаться с "${t.prefix}"`:"ends_with"===t.format?`Неверная строка: должна заканчиваться на "${t.suffix}"`:"includes"===t.format?`Неверная строка: должна содержать "${t.includes}"`:"regex"===t.format?`Неверная строка: должна соответствовать шаблону ${t.pattern}`:`Неверный ${n[t.format]??e.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${e.divisor}`;case"unrecognized_keys":return`Нераспознанн${e.keys.length>1?"ые":"ый"} ключ${e.keys.length>1?"и":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${e.origin}`;case"invalid_union":default:return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${e.origin}`}}};function bO(){return{localeError:yO()}}const wO=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(t){return e[t]??null}const n={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"};return e=>{switch(e.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${e.expected}, prejeto ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"število";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Neveljaven vnos: pričakovano ${Mh(e.values[0])}`:`Neveljavna možnost: pričakovano eno izmed ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Preveliko: pričakovano, da bo ${e.origin??"vrednost"} imelo ${n}${e.maximum.toString()} ${r.unit??"elementov"}`:`Preveliko: pričakovano, da bo ${e.origin??"vrednost"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Premajhno: pričakovano, da bo ${e.origin} imelo ${n}${e.minimum.toString()} ${r.unit}`:`Premajhno: pričakovano, da bo ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Neveljaven niz: mora se začeti z "${t.prefix}"`:"ends_with"===t.format?`Neveljaven niz: mora se končati z "${t.suffix}"`:"includes"===t.format?`Neveljaven niz: mora vsebovati "${t.includes}"`:"regex"===t.format?`Neveljaven niz: mora ustrezati vzorcu ${t.pattern}`:`Neveljaven ${n[t.format]??e.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${e.divisor}`;case"unrecognized_keys":return`Neprepoznan${e.keys.length>1?"i ključi":" ključ"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${e.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${e.origin}`}}};function xO(){return{localeError:wO()}}const SO=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}};function t(t){return e[t]??null}const n={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return e=>{switch(e.code){case"invalid_type":return`Ogiltig inmatning: förväntat ${e.expected}, fick ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ogiltig inmatning: förväntat ${Mh(e.values[0])}`:`Ogiltigt val: förväntade en av ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`För stor(t): förväntade ${e.origin??"värdet"} att ha ${n}${e.maximum.toString()} ${r.unit??"element"}`:`För stor(t): förväntat ${e.origin??"värdet"} att ha ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`För lite(t): förväntade ${e.origin??"värdet"} att ha ${n}${e.minimum.toString()} ${r.unit}`:`För lite(t): förväntade ${e.origin??"värdet"} att ha ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ogiltig sträng: måste börja med "${t.prefix}"`:"ends_with"===t.format?`Ogiltig sträng: måste sluta med "${t.suffix}"`:"includes"===t.format?`Ogiltig sträng: måste innehålla "${t.includes}"`:"regex"===t.format?`Ogiltig sträng: måste matcha mönstret "${t.pattern}"`:`Ogiltig(t) ${n[t.format]??e.format}`}case"not_multiple_of":return`Ogiltigt tal: måste vara en multipel av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${sh(e.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${e.origin??"värdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt värde i ${e.origin??"värdet"}`}}};function kO(){return{localeError:SO()}}const $O=()=>{const e={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function t(t){return e[t]??null}const n={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${e.expected}, பெறப்பட்டது ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"எண் அல்லாதது":"எண்";case"object":if(Array.isArray(e))return"அணி";if(null===e)return"வெறுமை";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${Mh(e.values[0])}`:`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${sh(e.values,"|")} இல் ஒன்று`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${e.origin??"மதிப்பு"} ${n}${e.maximum.toString()} ${r.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`:`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${e.origin??"மதிப்பு"} ${n}${e.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${e.origin} ${n}${e.minimum.toString()} ${r.unit} ஆக இருக்க வேண்டும்`:`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${e.origin} ${n}${e.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{const t=e;return"starts_with"===t.format?`தவறான சரம்: "${t.prefix}" இல் தொடங்க வேண்டும்`:"ends_with"===t.format?`தவறான சரம்: "${t.suffix}" இல் முடிவடைய வேண்டும்`:"includes"===t.format?`தவறான சரம்: "${t.includes}" ஐ உள்ளடக்க வேண்டும்`:"regex"===t.format?`தவறான சரம்: ${t.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`:`தவறான ${n[t.format]??e.format}`}case"not_multiple_of":return`தவறான எண்: ${e.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${e.keys.length>1?"கள்":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`${e.origin} இல் தவறான விசை`;case"invalid_union":default:return"தவறான உள்ளீடு";case"invalid_element":return`${e.origin} இல் தவறான மதிப்பு`}}};function _O(){return{localeError:$O()}}const PO=()=>{const e={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function t(t){return e[t]??null}const n={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"};return e=>{switch(e.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${e.expected} แต่ได้รับ ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":if(Array.isArray(e))return"อาร์เรย์ (Array)";if(null===e)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`ค่าไม่ถูกต้อง: ควรเป็น ${Mh(e.values[0])}`:`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"ไม่เกิน":"น้อยกว่า",r=t(e.origin);return r?`เกินกำหนด: ${e.origin??"ค่า"} ควรมี${n} ${e.maximum.toString()} ${r.unit??"รายการ"}`:`เกินกำหนด: ${e.origin??"ค่า"} ควรมี${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"อย่างน้อย":"มากกว่า",r=t(e.origin);return r?`น้อยกว่ากำหนด: ${e.origin} ควรมี${n} ${e.minimum.toString()} ${r.unit}`:`น้อยกว่ากำหนด: ${e.origin} ควรมี${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${t.prefix}"`:"ends_with"===t.format?`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${t.suffix}"`:"includes"===t.format?`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${t.includes}" อยู่ในข้อความ`:"regex"===t.format?`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${t.pattern}`:`รูปแบบไม่ถูกต้อง: ${n[t.format]??e.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${e.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${sh(e.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${e.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${e.origin}`;default:return"ข้อมูลไม่ถูกต้อง"}}};function EO(){return{localeError:PO()}}const CO=()=>{const e={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}};function t(t){return e[t]??null}const n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"};return e=>{switch(e.code){case"invalid_type":return`Geçersiz değer: beklenen ${e.expected}, alınan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Geçersiz değer: beklenen ${Mh(e.values[0])}`:`Geçersiz seçenek: aşağıdakilerden biri olmalı: ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Çok büyük: beklenen ${e.origin??"değer"} ${n}${e.maximum.toString()} ${r.unit??"öğe"}`:`Çok büyük: beklenen ${e.origin??"değer"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Çok küçük: beklenen ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:`Çok küçük: beklenen ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Geçersiz metin: "${t.prefix}" ile başlamalı`:"ends_with"===t.format?`Geçersiz metin: "${t.suffix}" ile bitmeli`:"includes"===t.format?`Geçersiz metin: "${t.includes}" içermeli`:"regex"===t.format?`Geçersiz metin: ${t.pattern} desenine uymalı`:`Geçersiz ${n[t.format]??e.format}`}case"not_multiple_of":return`Geçersiz sayı: ${e.divisor} ile tam bölünebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${e.keys.length>1?"lar":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`${e.origin} içinde geçersiz anahtar`;case"invalid_union":default:return"Geçersiz değer";case"invalid_element":return`${e.origin} içinde geçersiz değer`}}};function TO(){return{localeError:CO()}}const IO=()=>{const e={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function t(t){return e[t]??null}const n={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"};return e=>{switch(e.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${e.expected}, отримано ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"масив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Неправильні вхідні дані: очікується ${Mh(e.values[0])}`:`Неправильна опція: очікується одне з ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Занадто велике: очікується, що ${e.origin??"значення"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"елементів"}`:`Занадто велике: очікується, що ${e.origin??"значення"} буде ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Занадто мале: очікується, що ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Занадто мале: очікується, що ${e.origin} буде ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Неправильний рядок: повинен починатися з "${t.prefix}"`:"ends_with"===t.format?`Неправильний рядок: повинен закінчуватися на "${t.suffix}"`:"includes"===t.format?`Неправильний рядок: повинен містити "${t.includes}"`:"regex"===t.format?`Неправильний рядок: повинен відповідати шаблону ${t.pattern}`:`Неправильний ${n[t.format]??e.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${e.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${e.keys.length>1?"і":""}: ${sh(e.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${e.origin}`;case"invalid_union":default:return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${e.origin}`}}};function QO(){return{localeError:IO()}}function AO(){return QO()}const NO=()=>{const e={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function t(t){return e[t]??null}const n={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"};return e=>{switch(e.code){case"invalid_type":return`غلط ان پٹ: ${e.expected} متوقع تھا، ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"نمبر";case"object":if(Array.isArray(e))return"آرے";if(null===e)return"نل";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} موصول ہوا`;case"invalid_value":return 1===e.values.length?`غلط ان پٹ: ${Mh(e.values[0])} متوقع تھا`:`غلط آپشن: ${sh(e.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`بہت بڑا: ${e.origin??"ویلیو"} کے ${n}${e.maximum.toString()} ${r.unit??"عناصر"} ہونے متوقع تھے`:`بہت بڑا: ${e.origin??"ویلیو"} کا ${n}${e.maximum.toString()} ہونا متوقع تھا`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`بہت چھوٹا: ${e.origin} کے ${n}${e.minimum.toString()} ${r.unit} ہونے متوقع تھے`:`بہت چھوٹا: ${e.origin} کا ${n}${e.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{const t=e;return"starts_with"===t.format?`غلط سٹرنگ: "${t.prefix}" سے شروع ہونا چاہیے`:"ends_with"===t.format?`غلط سٹرنگ: "${t.suffix}" پر ختم ہونا چاہیے`:"includes"===t.format?`غلط سٹرنگ: "${t.includes}" شامل ہونا چاہیے`:"regex"===t.format?`غلط سٹرنگ: پیٹرن ${t.pattern} سے میچ ہونا چاہیے`:`غلط ${n[t.format]??e.format}`}case"not_multiple_of":return`غلط نمبر: ${e.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${e.keys.length>1?"ز":""}: ${sh(e.keys,"، ")}`;case"invalid_key":return`${e.origin} میں غلط کی`;case"invalid_union":default:return"غلط ان پٹ";case"invalid_element":return`${e.origin} میں غلط ویلیو`}}};function MO(){return{localeError:NO()}}const DO=()=>{const e={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}};function t(t){return e[t]??null}const n={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"};return e=>{switch(e.code){case"invalid_type":return`Đầu vào không hợp lệ: mong đợi ${e.expected}, nhận được ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"số";case"object":if(Array.isArray(e))return"mảng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Đầu vào không hợp lệ: mong đợi ${Mh(e.values[0])}`:`Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Quá lớn: mong đợi ${e.origin??"giá trị"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"phần tử"}`:`Quá lớn: mong đợi ${e.origin??"giá trị"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Quá nhỏ: mong đợi ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Quá nhỏ: mong đợi ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chuỗi không hợp lệ: phải bắt đầu bằng "${t.prefix}"`:"ends_with"===t.format?`Chuỗi không hợp lệ: phải kết thúc bằng "${t.suffix}"`:"includes"===t.format?`Chuỗi không hợp lệ: phải bao gồm "${t.includes}"`:"regex"===t.format?`Chuỗi không hợp lệ: phải khớp với mẫu ${t.pattern}`:`${n[t.format]??e.format} không hợp lệ`}case"not_multiple_of":return`Số không hợp lệ: phải là bội số của ${e.divisor}`;case"unrecognized_keys":return`Khóa không được nhận dạng: ${sh(e.keys,", ")}`;case"invalid_key":return`Khóa không hợp lệ trong ${e.origin}`;case"invalid_union":default:return"Đầu vào không hợp lệ";case"invalid_element":return`Giá trị không hợp lệ trong ${e.origin}`}}};function zO(){return{localeError:DO()}}const jO=()=>{const e={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function t(t){return e[t]??null}const n={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"};return e=>{switch(e.code){case"invalid_type":return`无效输入：期望 ${e.expected}，实际接收 ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"非数字(NaN)":"数字";case"object":if(Array.isArray(e))return"数组";if(null===e)return"空值(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`无效输入：期望 ${Mh(e.values[0])}`:`无效选项：期望以下之一 ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`数值过大：期望 ${e.origin??"值"} ${n}${e.maximum.toString()} ${r.unit??"个元素"}`:`数值过大：期望 ${e.origin??"值"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`数值过小：期望 ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:`数值过小：期望 ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`无效字符串：必须以 "${t.prefix}" 开头`:"ends_with"===t.format?`无效字符串：必须以 "${t.suffix}" 结尾`:"includes"===t.format?`无效字符串：必须包含 "${t.includes}"`:"regex"===t.format?`无效字符串：必须满足正则表达式 ${t.pattern}`:`无效${n[t.format]??e.format}`}case"not_multiple_of":return`无效数字：必须是 ${e.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${sh(e.keys,", ")}`;case"invalid_key":return`${e.origin} 中的键(key)无效`;case"invalid_union":default:return"无效输入";case"invalid_element":return`${e.origin} 中包含无效值(value)`}}};function RO(){return{localeError:jO()}}const ZO=()=>{const e={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function t(t){return e[t]??null}const n={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"};return e=>{switch(e.code){case"invalid_type":return`無效的輸入值：預期為 ${e.expected}，但收到 ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`無效的輸入值：預期為 ${Mh(e.values[0])}`:`無效的選項：預期為以下其中之一 ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`數值過大：預期 ${e.origin??"值"} 應為 ${n}${e.maximum.toString()} ${r.unit??"個元素"}`:`數值過大：預期 ${e.origin??"值"} 應為 ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`數值過小：預期 ${e.origin} 應為 ${n}${e.minimum.toString()} ${r.unit}`:`數值過小：預期 ${e.origin} 應為 ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`無效的字串：必須以 "${t.prefix}" 開頭`:"ends_with"===t.format?`無效的字串：必須以 "${t.suffix}" 結尾`:"includes"===t.format?`無效的字串：必須包含 "${t.includes}"`:"regex"===t.format?`無效的字串：必須符合格式 ${t.pattern}`:`無效的 ${n[t.format]??e.format}`}case"not_multiple_of":return`無效的數字：必須為 ${e.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${e.keys.length>1?"們":""}：${sh(e.keys,"、")}`;case"invalid_key":return`${e.origin} 中有無效的鍵值`;case"invalid_union":default:return"無效的輸入值";case"invalid_element":return`${e.origin} 中有無效的值`}}};function LO(){return{localeError:ZO()}}const UO=()=>{const e={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}};function t(t){return e[t]??null}const n={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"};return e=>{switch(e.code){case"invalid_type":return`Ìbáwọlé aṣìṣe: a ní láti fi ${e.expected}, àmọ̀ a rí ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nọ́mbà";case"object":if(Array.isArray(e))return"akopọ";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ìbáwọlé aṣìṣe: a ní láti fi ${Mh(e.values[0])}`:`Àṣàyàn aṣìṣe: yan ọ̀kan lára ${sh(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Tó pọ̀ jù: a ní láti jẹ́ pé ${e.origin??"iye"} ${r.verb} ${n}${e.maximum} ${r.unit}`:`Tó pọ̀ jù: a ní láti jẹ́ ${n}${e.maximum}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Kéré ju: a ní láti jẹ́ pé ${e.origin} ${r.verb} ${n}${e.minimum} ${r.unit}`:`Kéré ju: a ní láti jẹ́ ${n}${e.minimum}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀lú "${t.prefix}"`:"ends_with"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ parí pẹ̀lú "${t.suffix}"`:"includes"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ ní "${t.includes}"`:"regex"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bá àpẹẹrẹ mu ${t.pattern}`:`Aṣìṣe: ${n[t.format]??e.format}`}case"not_multiple_of":return`Nọ́mbà aṣìṣe: gbọ́dọ̀ jẹ́ èyà pípín ti ${e.divisor}`;case"unrecognized_keys":return`Bọtìnì àìmọ̀: ${sh(e.keys,", ")}`;case"invalid_key":return`Bọtìnì aṣìṣe nínú ${e.origin}`;case"invalid_union":default:return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣìṣe nínú ${e.origin}`}}};function XO(){return{localeError:UO()}}const VO=Symbol("ZodOutput"),BO=Symbol("ZodInput");class YO{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function WO(){return new YO}const FO=WO();function qO(e,t){return new e({type:"string",...Ah(t)})}function GO(e,t){return new e({type:"string",coerce:!0,...Ah(t)})}function HO(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ah(t)})}function KO(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ah(t)})}function JO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ah(t)})}function ey(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ah(t)})}function ty(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ah(t)})}function ny(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ah(t)})}function ry(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ah(t)})}function iy(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ah(t)})}function oy(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ah(t)})}function sy(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ah(t)})}function ay(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ah(t)})}function ly(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ah(t)})}function cy(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ah(t)})}function uy(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ah(t)})}function dy(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ah(t)})}function hy(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ah(t)})}function fy(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ah(t)})}function py(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ah(t)})}function my(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ah(t)})}function gy(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ah(t)})}function vy(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ah(t)})}function Oy(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ah(t)})}const yy={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function by(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ah(t)})}function wy(e,t){return new e({type:"string",format:"date",check:"string_format",...Ah(t)})}function xy(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ah(t)})}function Sy(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ah(t)})}function ky(e,t){return new e({type:"number",checks:[],...Ah(t)})}function $y(e,t){return new e({type:"number",coerce:!0,checks:[],...Ah(t)})}function _y(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ah(t)})}function Py(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...Ah(t)})}function Ey(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...Ah(t)})}function Cy(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...Ah(t)})}function Ty(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...Ah(t)})}function Iy(e,t){return new e({type:"boolean",...Ah(t)})}function Qy(e,t){return new e({type:"boolean",coerce:!0,...Ah(t)})}function Ay(e,t){return new e({type:"bigint",...Ah(t)})}function Ny(e,t){return new e({type:"bigint",coerce:!0,...Ah(t)})}function My(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Ah(t)})}function Dy(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Ah(t)})}function zy(e,t){return new e({type:"symbol",...Ah(t)})}function jy(e,t){return new e({type:"undefined",...Ah(t)})}function Ry(e,t){return new e({type:"null",...Ah(t)})}function Zy(e){return new e({type:"any"})}function Ly(e){return new e({type:"unknown"})}function Uy(e,t){return new e({type:"never",...Ah(t)})}function Xy(e,t){return new e({type:"void",...Ah(t)})}function Vy(e,t){return new e({type:"date",...Ah(t)})}function By(e,t){return new e({type:"date",coerce:!0,...Ah(t)})}function Yy(e,t){return new e({type:"nan",...Ah(t)})}function Wy(e,t){return new Gp({check:"less_than",...Ah(t),value:e,inclusive:!1})}function Fy(e,t){return new Gp({check:"less_than",...Ah(t),value:e,inclusive:!0})}function qy(e,t){return new Hp({check:"greater_than",...Ah(t),value:e,inclusive:!1})}function Gy(e,t){return new Hp({check:"greater_than",...Ah(t),value:e,inclusive:!0})}function Hy(e){return qy(0,e)}function Ky(e){return Wy(0,e)}function Jy(e){return Fy(0,e)}function eb(e){return Gy(0,e)}function tb(e,t){return new Kp({check:"multiple_of",...Ah(t),value:e})}function nb(e,t){return new tm({check:"max_size",...Ah(t),maximum:e})}function rb(e,t){return new nm({check:"min_size",...Ah(t),minimum:e})}function ib(e,t){return new rm({check:"size_equals",...Ah(t),size:e})}function ob(e,t){return new im({check:"max_length",...Ah(t),maximum:e})}function sb(e,t){return new om({check:"min_length",...Ah(t),minimum:e})}function ab(e,t){return new sm({check:"length_equals",...Ah(t),length:e})}function lb(e,t){return new lm({check:"string_format",format:"regex",...Ah(t),pattern:e})}function cb(e){return new cm({check:"string_format",format:"lowercase",...Ah(e)})}function ub(e){return new um({check:"string_format",format:"uppercase",...Ah(e)})}function db(e,t){return new dm({check:"string_format",format:"includes",...Ah(t),includes:e})}function hb(e,t){return new hm({check:"string_format",format:"starts_with",...Ah(t),prefix:e})}function fb(e,t){return new fm({check:"string_format",format:"ends_with",...Ah(t),suffix:e})}function pb(e,t,n){return new mm({check:"property",property:e,schema:t,...Ah(n)})}function mb(e,t){return new gm({check:"mime_type",mime:e,...Ah(t)})}function gb(e){return new vm({check:"overwrite",tx:e})}function vb(e){return gb(t=>t.normalize(e))}function Ob(){return gb(e=>e.trim())}function yb(){return gb(e=>e.toLowerCase())}function bb(){return gb(e=>e.toUpperCase())}function wb(e,t,n){return new e({type:"array",element:t,...Ah(n)})}function xb(e,t,n){return new e({type:"union",options:t,...Ah(n)})}function Sb(e,t,n,r){return new e({type:"union",options:n,discriminator:t,...Ah(r)})}function kb(e,t,n){return new e({type:"intersection",left:t,right:n})}function $b(e,t,n,r){const i=n instanceof bm;return new e({type:"tuple",items:t,rest:i?n:null,...Ah(i?r:n)})}function _b(e,t,n,r){return new e({type:"record",keyType:t,valueType:n,...Ah(r)})}function Pb(e,t,n,r){return new e({type:"map",keyType:t,valueType:n,...Ah(r)})}function Eb(e,t,n){return new e({type:"set",valueType:t,...Ah(n)})}function Cb(e,t,n){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...Ah(n)})}function Tb(e,t,n){return new e({type:"enum",entries:t,...Ah(n)})}function Ib(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...Ah(n)})}function Qb(e,t){return new e({type:"file",...Ah(t)})}function Ab(e,t){return new e({type:"transform",transform:t})}function Nb(e,t){return new e({type:"optional",innerType:t})}function Mb(e,t){return new e({type:"nullable",innerType:t})}function Db(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof n?n():_h(n)}})}function zb(e,t,n){return new e({type:"nonoptional",innerType:t,...Ah(n)})}function jb(e,t){return new e({type:"success",innerType:t})}function Rb(e,t,n){return new e({type:"catch",innerType:t,catchValue:"function"==typeof n?n:()=>n})}function Zb(e,t,n){return new e({type:"pipe",in:t,out:n})}function Lb(e,t){return new e({type:"readonly",innerType:t})}function Ub(e,t,n){return new e({type:"template_literal",parts:t,...Ah(n)})}function Xb(e,t){return new e({type:"lazy",getter:t})}function Vb(e,t){return new e({type:"promise",innerType:t})}function Bb(e,t,n){const r=Ah(n);r.abort??(r.abort=!0);return new e({type:"custom",check:"custom",fn:t,...r})}function Yb(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ah(n)})}function Wb(e){const t=Fb(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(Kh(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Kh(r))}},e(n.value,n)));return t}function Fb(e,t){const n=new Fp({check:"custom",...Ah(t)});return n._zod.check=e,n}function qb(e,t){const n=Ah(t);let r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));const o=new Set(r),s=new Set(i),a=e.Codec??Yg,l=e.Boolean??Km,c=new a({type:"pipe",in:new(e.String??wm)({type:"string",error:n.error}),out:new l({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!o.has(r)||!s.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...s],input:t.value,inst:c,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":i[0]||"false",error:n.error});return c}function Gb(e,t,n,r={}){const i=Ah(r),o={...Ah(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...i};n instanceof RegExp&&(o.pattern=n);return new e(o)}class Hb{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??FO,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var n;const r=e._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o){o.count++;return t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema}const s={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,s);const a=e._zod.toJSONSchema?.();if(a)s.schema=a;else{const n={...t,schemaPath:[...t.schemaPath,e],path:t.path},o=e._zod.parent;if(o)s.ref=o,this.process(o,n),this.seen.get(o).isParent=!0;else{const t=s.schema;switch(r.type){case"string":{const n=t;n.type="string";const{minimum:r,maximum:o,format:a,patterns:l,contentEncoding:c}=e._zod.bag;if("number"==typeof r&&(n.minLength=r),"number"==typeof o&&(n.maxLength=o),a&&(n.format=i[a]??a,""===n.format&&delete n.format),c&&(n.contentEncoding=c),l&&l.size>0){const e=[...l];1===e.length?n.pattern=e[0].source:e.length>1&&(s.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{const n=t,{minimum:r,maximum:i,format:o,multipleOf:s,exclusiveMaximum:a,exclusiveMinimum:l}=e._zod.bag;"string"==typeof o&&o.includes("int")?n.type="integer":n.type="number","number"==typeof l&&("draft-4"===this.target||"openapi-3.0"===this.target?(n.minimum=l,n.exclusiveMinimum=!0):n.exclusiveMinimum=l),"number"==typeof r&&(n.minimum=r,"number"==typeof l&&"draft-4"!==this.target&&(l>=r?delete n.minimum:delete n.exclusiveMinimum)),"number"==typeof a&&("draft-4"===this.target||"openapi-3.0"===this.target?(n.maximum=a,n.exclusiveMaximum=!0):n.exclusiveMaximum=a),"number"==typeof i&&(n.maximum=i,"number"==typeof a&&"draft-4"!==this.target&&(a<=i?delete n.maximum:delete n.exclusiveMaximum)),"number"==typeof s&&(n.multipleOf=s);break}case"boolean":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const i=t,{minimum:o,maximum:s}=e._zod.bag;"number"==typeof o&&(i.minItems=o),"number"==typeof s&&(i.maxItems=s),i.type="array",i.items=this.process(r.element,{...n,path:[...n.path,"items"]});break}case"object":{const e=t;e.type="object",e.properties={};const i=r.shape;for(const t in i)e.properties[t]=this.process(i[t],{...n,path:[...n.path,"properties",t]});const o=new Set(Object.keys(i)),s=new Set([...o].filter(e=>{const t=r.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));s.size>0&&(e.required=Array.from(s)),"never"===r.catchall?._zod.def.type?e.additionalProperties=!1:r.catchall?r.catchall&&(e.additionalProperties=this.process(r.catchall,{...n,path:[...n.path,"additionalProperties"]})):"output"===this.io&&(e.additionalProperties=!1);break}case"union":{const e=t,i=r.options.map((e,t)=>this.process(e,{...n,path:[...n.path,"anyOf",t]}));e.anyOf=i;break}case"intersection":{const e=t,i=this.process(r.left,{...n,path:[...n.path,"allOf",0]}),o=this.process(r.right,{...n,path:[...n.path,"allOf",1]}),s=e=>"allOf"in e&&1===Object.keys(e).length,a=[...s(i)?i.allOf:[i],...s(o)?o.allOf:[o]];e.allOf=a;break}case"tuple":{const i=t;i.type="array";const o="draft-2020-12"===this.target?"prefixItems":"items",s="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",a=r.items.map((e,t)=>this.process(e,{...n,path:[...n.path,o,t]})),l=r.rest?this.process(r.rest,{...n,path:[...n.path,s,..."openapi-3.0"===this.target?[r.items.length]:[]]}):null;"draft-2020-12"===this.target?(i.prefixItems=a,l&&(i.items=l)):"openapi-3.0"===this.target?(i.items={anyOf:a},l&&i.items.anyOf.push(l),i.minItems=a.length,l||(i.maxItems=a.length)):(i.items=a,l&&(i.additionalItems=l));const{minimum:c,maximum:u}=e._zod.bag;"number"==typeof c&&(i.minItems=c),"number"==typeof u&&(i.maxItems=u);break}case"record":{const e=t;e.type="object","draft-7"!==this.target&&"draft-2020-12"!==this.target||(e.propertyNames=this.process(r.keyType,{...n,path:[...n.path,"propertyNames"]})),e.additionalProperties=this.process(r.valueType,{...n,path:[...n.path,"additionalProperties"]});break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=t,n=oh(r.entries);n.every(e=>"number"==typeof e)&&(e.type="number"),n.every(e=>"string"==typeof e)&&(e.type="string"),e.enum=n;break}case"literal":{const e=t,n=[];for(const e of r.values)if(void 0===e){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");n.push(Number(e))}else n.push(e);if(0===n.length);else if(1===n.length){const t=n[0];e.type=null===t?"null":typeof t,"draft-4"===this.target||"openapi-3.0"===this.target?e.enum=[t]:e.const=t}else n.every(e=>"number"==typeof e)&&(e.type="number"),n.every(e=>"string"==typeof e)&&(e.type="string"),n.every(e=>"boolean"==typeof e)&&(e.type="string"),n.every(e=>null===e)&&(e.type="null"),e.enum=n;break}case"file":{const n=t,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:o,mime:s}=e._zod.bag;void 0!==i&&(r.minLength=i),void 0!==o&&(r.maxLength=o),s?1===s.length?(r.contentMediaType=s[0],Object.assign(n,r)):n.anyOf=s.map(e=>({...r,contentMediaType:e})):Object.assign(n,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(r.innerType,n);"openapi-3.0"===this.target?(s.ref=r.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(r.innerType,n),s.ref=r.innerType;break;case"success":t.type="boolean";break;case"default":this.process(r.innerType,n),s.ref=r.innerType,t.default=JSON.parse(JSON.stringify(r.defaultValue));break;case"prefault":this.process(r.innerType,n),s.ref=r.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break;case"catch":{let e;this.process(r.innerType,n),s.ref=r.innerType;try{e=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const n=t,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===r.in._zod.def.type?r.out:r.in:r.out;this.process(e,n),s.ref=e;break}case"readonly":this.process(r.innerType,n),s.ref=r.innerType,t.readOnly=!0;break;case"lazy":{const t=e._zod.innerType;this.process(t,n),s.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")}}}const l=this.metadataRegistry.get(e);l&&Object.assign(s.schema,l),"input"===this.io&&Jb(e)&&(delete s.schema.examples,delete s.schema.default),"input"===this.io&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault;return this.seen.get(e).schema}emit(e,t){const n={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=e=>{const t="draft-2020-12"===this.target?"$defs":"definitions";if(n.external){const r=n.external.registry.get(e[0])?.id,i=n.external.uri??(e=>e);if(r)return{ref:i(r)};const o=e[1].defId??e[1].schema.id??"schema"+this.counter++;return e[1].defId=o,{defId:o,ref:`${i("__shared")}#/${t}/${o}`}}if(e[1]===r)return{ref:"#"};const i=`#/${t}/`,o=e[1].schema.id??"__schema"+this.counter++;return{defId:o,ref:i+o}},o=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=i(e);t.def={...t.schema},r&&(t.defId=r);const o=t.schema;for(const e in o)delete o[e];o.$ref=n};if("throw"===n.cycles)for(const e of this.seen.entries()){const t=e[1];if(t.cycle)throw new Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const t of this.seen.entries()){const r=t[1];if(e===t[0]){o(t);continue}if(n.external){const r=n.external.registry.get(t[0])?.id;if(e!==t[0]&&r){o(t);continue}}const i=this.metadataRegistry.get(t[0])?.id;i?o(t):(r.cycle||r.count>1&&"ref"===n.reused)&&o(t)}const s=(e,t)=>{const n=this.seen.get(e),r=n.def??n.schema,i={...r};if(null===n.ref)return;const o=n.ref;if(n.ref=null,o){s(o,t);const e=this.seen.get(o).schema;!e.$ref||"draft-7"!==t.target&&"draft-4"!==t.target&&"openapi-3.0"!==t.target?(Object.assign(r,e),Object.assign(r,i)):(r.allOf=r.allOf??[],r.allOf.push(e))}n.isParent||this.override({zodSchema:e,jsonSchema:r,path:n.path??[]})};for(const e of[...this.seen.entries()].reverse())s(e[0],{target:this.target});const a={};if("draft-2020-12"===this.target?a.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?a.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?a.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),n.external?.uri){const t=n.external.registry.get(e)?.id;if(!t)throw new Error("Schema is missing an `id` property");a.$id=n.external.uri(t)}Object.assign(a,r.def);const l=n.external?.defs??{};for(const e of this.seen.entries()){const t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}n.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?a.$defs=l:a.definitions=l);try{return JSON.parse(JSON.stringify(a))}catch(e){throw new Error("Error converting schema to JSON.")}}}function Kb(e,t){if(e instanceof YO){const n=new Hb(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const i={},o={registry:e,uri:t?.uri,defs:r};for(const r of e._idmap.entries()){const[e,s]=r;i[e]=n.emit(s,{...t,external:o})}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";i.__shared={[e]:r}}return{schemas:i}}const n=new Hb(t);return n.process(e),n.emit(e,t)}function Jb(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return Jb(r.element,n);case"object":for(const e in r.shape)if(Jb(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(Jb(e,n))return!0;return!1;case"intersection":return Jb(r.left,n)||Jb(r.right,n);case"tuple":for(const e of r.items)if(Jb(e,n))return!0;return!(!r.rest||!Jb(r.rest,n));case"record":case"map":return Jb(r.keyType,n)||Jb(r.valueType,n);case"set":return Jb(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return Jb(r.innerType,n);case"lazy":return Jb(r.getter(),n);case"transform":return!0;case"pipe":return Jb(r.in,n)||Jb(r.out,n)}throw new Error(`Unknown schema type: ${r.type}`)}const ew=Fd("ZodISODateTime",(e,t)=>{Nm.init(e,t),Pw.init(e,t)});function tw(e){return by(ew,e)}const nw=Fd("ZodISODate",(e,t)=>{Mm.init(e,t),Pw.init(e,t)});function rw(e){return wy(nw,e)}const iw=Fd("ZodISOTime",(e,t)=>{Dm.init(e,t),Pw.init(e,t)});function ow(e){return xy(iw,e)}const sw=Fd("ZodISODuration",(e,t)=>{zm.init(e,t),Pw.init(e,t)});function aw(e){return Sy(sw,e)}const lw=(e,t)=>{cf.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>hf(e,t)},flatten:{value:t=>df(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,ah,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,ah,2)}},isEmpty:{get:()=>0===e.issues.length}})},cw=Fd("ZodError",lw),uw=Fd("ZodError",lw,{Parent:Error}),dw=gf(uw),hw=Of(uw),fw=bf(uw),pw=xf(uw),mw=kf(uw),gw=_f(uw),vw=Ef(uw),Ow=Tf(uw),yw=Qf(uw),bw=Nf(uw),ww=Df(uw),xw=jf(uw),Sw=Fd("ZodType",(e,t)=>(bm.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(gh(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,n)=>Qh(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>dw(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>fw(e,t,n),e.parseAsync=async(t,n)=>hw(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>pw(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>mw(e,t,n),e.decode=(t,n)=>gw(e,t,n),e.encodeAsync=async(t,n)=>vw(e,t,n),e.decodeAsync=async(t,n)=>Ow(e,t,n),e.safeEncode=(t,n)=>yw(e,t,n),e.safeDecode=(t,n)=>bw(e,t,n),e.safeEncodeAsync=async(t,n)=>ww(e,t,n),e.safeDecodeAsync=async(t,n)=>xw(e,t,n),e.refine=(t,n)=>e.check(ck(t,n)),e.superRefine=t=>e.check(uk(t)),e.overwrite=t=>e.check(gb(t)),e.optional=()=>TS(e),e.nullable=()=>QS(e),e.nullish=()=>TS(QS(e)),e.nonoptional=t=>RS(e,t),e.array=()=>Jx(e),e.or=t=>sS([e,t]),e.and=t=>uS(e,t),e.transform=t=>WS(e,ES(t)),e.default=t=>MS(e,t),e.prefault=t=>zS(e,t),e.catch=t=>XS(e,t),e.pipe=t=>WS(e,t),e.readonly=()=>HS(e),e.describe=t=>{const n=e.clone();return FO.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>FO.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return FO.get(e);const n=e.clone();return FO.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),kw=Fd("_ZodString",(e,t)=>{wm.init(e,t),Sw.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(lb(...t)),e.includes=(...t)=>e.check(db(...t)),e.startsWith=(...t)=>e.check(hb(...t)),e.endsWith=(...t)=>e.check(fb(...t)),e.min=(...t)=>e.check(sb(...t)),e.max=(...t)=>e.check(ob(...t)),e.length=(...t)=>e.check(ab(...t)),e.nonempty=(...t)=>e.check(sb(1,...t)),e.lowercase=t=>e.check(cb(t)),e.uppercase=t=>e.check(ub(t)),e.trim=()=>e.check(Ob()),e.normalize=(...t)=>e.check(vb(...t)),e.toLowerCase=()=>e.check(yb()),e.toUpperCase=()=>e.check(bb())}),$w=Fd("ZodString",(e,t)=>{wm.init(e,t),kw.init(e,t),e.email=t=>e.check(HO(Ew,t)),e.url=t=>e.check(ry(zw,t)),e.jwt=t=>e.check(Oy(px,t)),e.emoji=t=>e.check(iy(Zw,t)),e.guid=t=>e.check(KO(Tw,t)),e.uuid=t=>e.check(JO(Qw,t)),e.uuidv4=t=>e.check(ey(Qw,t)),e.uuidv6=t=>e.check(ty(Qw,t)),e.uuidv7=t=>e.check(ny(Qw,t)),e.nanoid=t=>e.check(oy(Uw,t)),e.guid=t=>e.check(KO(Tw,t)),e.cuid=t=>e.check(sy(Vw,t)),e.cuid2=t=>e.check(ay(Yw,t)),e.ulid=t=>e.check(ly(Fw,t)),e.base64=t=>e.check(my(lx,t)),e.base64url=t=>e.check(gy(ux,t)),e.xid=t=>e.check(cy(Gw,t)),e.ksuid=t=>e.check(uy(Kw,t)),e.ipv4=t=>e.check(dy(ex,t)),e.ipv6=t=>e.check(hy(nx,t)),e.cidrv4=t=>e.check(fy(ix,t)),e.cidrv6=t=>e.check(py(sx,t)),e.e164=t=>e.check(vy(hx,t)),e.datetime=t=>e.check(tw(t)),e.date=t=>e.check(rw(t)),e.time=t=>e.check(ow(t)),e.duration=t=>e.check(aw(t))});function _w(e){return qO($w,e)}const Pw=Fd("ZodStringFormat",(e,t)=>{xm.init(e,t),kw.init(e,t)}),Ew=Fd("ZodEmail",(e,t)=>{$m.init(e,t),Pw.init(e,t)});function Cw(e){return HO(Ew,e)}const Tw=Fd("ZodGUID",(e,t)=>{Sm.init(e,t),Pw.init(e,t)});function Iw(e){return KO(Tw,e)}const Qw=Fd("ZodUUID",(e,t)=>{km.init(e,t),Pw.init(e,t)});function Aw(e){return JO(Qw,e)}function Nw(e){return ey(Qw,e)}function Mw(e){return ty(Qw,e)}function Dw(e){return ny(Qw,e)}const zw=Fd("ZodURL",(e,t)=>{_m.init(e,t),Pw.init(e,t)});function jw(e){return ry(zw,e)}function Rw(e){return ry(zw,{protocol:/^https?$/,hostname:pp,...Ah(e)})}const Zw=Fd("ZodEmoji",(e,t)=>{Pm.init(e,t),Pw.init(e,t)});function Lw(e){return iy(Zw,e)}const Uw=Fd("ZodNanoID",(e,t)=>{Em.init(e,t),Pw.init(e,t)});function Xw(e){return oy(Uw,e)}const Vw=Fd("ZodCUID",(e,t)=>{Cm.init(e,t),Pw.init(e,t)});function Bw(e){return sy(Vw,e)}const Yw=Fd("ZodCUID2",(e,t)=>{Tm.init(e,t),Pw.init(e,t)});function Ww(e){return ay(Yw,e)}const Fw=Fd("ZodULID",(e,t)=>{Im.init(e,t),Pw.init(e,t)});function qw(e){return ly(Fw,e)}const Gw=Fd("ZodXID",(e,t)=>{Qm.init(e,t),Pw.init(e,t)});function Hw(e){return cy(Gw,e)}const Kw=Fd("ZodKSUID",(e,t)=>{Am.init(e,t),Pw.init(e,t)});function Jw(e){return uy(Kw,e)}const ex=Fd("ZodIPv4",(e,t)=>{jm.init(e,t),Pw.init(e,t)});function tx(e){return dy(ex,e)}const nx=Fd("ZodIPv6",(e,t)=>{Rm.init(e,t),Pw.init(e,t)});function rx(e){return hy(nx,e)}const ix=Fd("ZodCIDRv4",(e,t)=>{Zm.init(e,t),Pw.init(e,t)});function ox(e){return fy(ix,e)}const sx=Fd("ZodCIDRv6",(e,t)=>{Lm.init(e,t),Pw.init(e,t)});function ax(e){return py(sx,e)}const lx=Fd("ZodBase64",(e,t)=>{Xm.init(e,t),Pw.init(e,t)});function cx(e){return my(lx,e)}const ux=Fd("ZodBase64URL",(e,t)=>{Bm.init(e,t),Pw.init(e,t)});function dx(e){return gy(ux,e)}const hx=Fd("ZodE164",(e,t)=>{Ym.init(e,t),Pw.init(e,t)});function fx(e){return vy(hx,e)}const px=Fd("ZodJWT",(e,t)=>{Fm.init(e,t),Pw.init(e,t)});function mx(e){return Oy(px,e)}const gx=Fd("ZodCustomStringFormat",(e,t)=>{qm.init(e,t),Pw.init(e,t)});function vx(e,t,n={}){return Gb(gx,e,t,n)}function Ox(e){return Gb(gx,"hostname",fp,e)}function yx(e){return Gb(gx,"hex",Tp,e)}function bx(e,t){const n=`${e}_${t?.enc??"hex"}`,r=b[n];if(!r)throw new Error(`Unrecognized hash format: ${n}`);return Gb(gx,n,r,t)}const wx=Fd("ZodNumber",(e,t)=>{Gm.init(e,t),Sw.init(e,t),e.gt=(t,n)=>e.check(qy(t,n)),e.gte=(t,n)=>e.check(Gy(t,n)),e.min=(t,n)=>e.check(Gy(t,n)),e.lt=(t,n)=>e.check(Wy(t,n)),e.lte=(t,n)=>e.check(Fy(t,n)),e.max=(t,n)=>e.check(Fy(t,n)),e.int=t=>e.check(kx(t)),e.safe=t=>e.check(kx(t)),e.positive=t=>e.check(qy(0,t)),e.nonnegative=t=>e.check(Gy(0,t)),e.negative=t=>e.check(Wy(0,t)),e.nonpositive=t=>e.check(Fy(0,t)),e.multipleOf=(t,n)=>e.check(tb(t,n)),e.step=(t,n)=>e.check(tb(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function xx(e){return ky(wx,e)}const Sx=Fd("ZodNumberFormat",(e,t)=>{Hm.init(e,t),wx.init(e,t)});function kx(e){return _y(Sx,e)}function $x(e){return Py(Sx,e)}function _x(e){return Ey(Sx,e)}function Px(e){return Cy(Sx,e)}function Ex(e){return Ty(Sx,e)}const Cx=Fd("ZodBoolean",(e,t)=>{Km.init(e,t),Sw.init(e,t)});function Tx(e){return Iy(Cx,e)}const Ix=Fd("ZodBigInt",(e,t)=>{Jm.init(e,t),Sw.init(e,t),e.gte=(t,n)=>e.check(Gy(t,n)),e.min=(t,n)=>e.check(Gy(t,n)),e.gt=(t,n)=>e.check(qy(t,n)),e.gte=(t,n)=>e.check(Gy(t,n)),e.min=(t,n)=>e.check(Gy(t,n)),e.lt=(t,n)=>e.check(Wy(t,n)),e.lte=(t,n)=>e.check(Fy(t,n)),e.max=(t,n)=>e.check(Fy(t,n)),e.positive=t=>e.check(qy(BigInt(0),t)),e.negative=t=>e.check(Wy(BigInt(0),t)),e.nonpositive=t=>e.check(Fy(BigInt(0),t)),e.nonnegative=t=>e.check(Gy(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(tb(t,n));const n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function Qx(e){return Ay(Ix,e)}const Ax=Fd("ZodBigIntFormat",(e,t)=>{eg.init(e,t),Ix.init(e,t)});function Nx(e){return My(Ax,e)}function Mx(e){return Dy(Ax,e)}const Dx=Fd("ZodSymbol",(e,t)=>{tg.init(e,t),Sw.init(e,t)});function zx(e){return zy(Dx,e)}const jx=Fd("ZodUndefined",(e,t)=>{ng.init(e,t),Sw.init(e,t)});function Rx(e){return jy(jx,e)}const Zx=Fd("ZodNull",(e,t)=>{rg.init(e,t),Sw.init(e,t)});function Lx(e){return Ry(Zx,e)}const Ux=Fd("ZodAny",(e,t)=>{ig.init(e,t),Sw.init(e,t)});function Xx(){return Zy(Ux)}const Vx=Fd("ZodUnknown",(e,t)=>{og.init(e,t),Sw.init(e,t)});function Bx(){return Ly(Vx)}const Yx=Fd("ZodNever",(e,t)=>{sg.init(e,t),Sw.init(e,t)});function Wx(e){return Uy(Yx,e)}const Fx=Fd("ZodVoid",(e,t)=>{ag.init(e,t),Sw.init(e,t)});function qx(e){return Xy(Fx,e)}const Gx=Fd("ZodDate",(e,t)=>{lg.init(e,t),Sw.init(e,t),e.min=(t,n)=>e.check(Gy(t,n)),e.max=(t,n)=>e.check(Fy(t,n));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function Hx(e){return Vy(Gx,e)}const Kx=Fd("ZodArray",(e,t)=>{ug.init(e,t),Sw.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(sb(t,n)),e.nonempty=t=>e.check(sb(1,t)),e.max=(t,n)=>e.check(ob(t,n)),e.length=(t,n)=>e.check(ab(t,n)),e.unwrap=()=>e.element});function Jx(e,t){return wb(Kx,e,t)}function eS(e){const t=e._zod.def.shape;return wS(Object.keys(t))}const tS=Fd("ZodObject",(e,t)=>{mg.init(e,t),Sw.init(e,t),fh(e,"shape",()=>t.shape),e.keyof=()=>wS(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Bx()}),e.loose=()=>e.clone({...e._zod.def,catchall:Bx()}),e.strict=()=>e.clone({...e._zod.def,catchall:Wx()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>Lh(e,t),e.safeExtend=t=>Uh(e,t),e.merge=t=>Xh(e,t),e.pick=t=>Rh(e,t),e.omit=t=>Zh(e,t),e.partial=(...t)=>Vh(CS,e,t[0]),e.required=(...t)=>Bh(jS,e,t[0])});function nS(e,t){const n={type:"object",shape:e??{},...Ah(t)};return new tS(n)}function rS(e,t){return new tS({type:"object",shape:e,catchall:Wx(),...Ah(t)})}function iS(e,t){return new tS({type:"object",shape:e,catchall:Bx(),...Ah(t)})}const oS=Fd("ZodUnion",(e,t)=>{vg.init(e,t),Sw.init(e,t),e.options=t.options});function sS(e,t){return new oS({type:"union",options:e,...Ah(t)})}const aS=Fd("ZodDiscriminatedUnion",(e,t)=>{oS.init(e,t),Og.init(e,t)});function lS(e,t,n){return new aS({type:"union",options:t,discriminator:e,...Ah(n)})}const cS=Fd("ZodIntersection",(e,t)=>{yg.init(e,t),Sw.init(e,t)});function uS(e,t){return new cS({type:"intersection",left:e,right:t})}const dS=Fd("ZodTuple",(e,t)=>{xg.init(e,t),Sw.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function hS(e,t,n){const r=t instanceof bm;return new dS({type:"tuple",items:e,rest:r?t:null,...Ah(r?n:t)})}const fS=Fd("ZodRecord",(e,t)=>{kg.init(e,t),Sw.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function pS(e,t,n){return new fS({type:"record",keyType:e,valueType:t,...Ah(n)})}function mS(e,t,n){const r=Qh(e);return r._zod.values=void 0,new fS({type:"record",keyType:r,valueType:t,...Ah(n)})}const gS=Fd("ZodMap",(e,t)=>{$g.init(e,t),Sw.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function vS(e,t,n){return new gS({type:"map",keyType:e,valueType:t,...Ah(n)})}const OS=Fd("ZodSet",(e,t)=>{Pg.init(e,t),Sw.init(e,t),e.min=(...t)=>e.check(rb(...t)),e.nonempty=t=>e.check(rb(1,t)),e.max=(...t)=>e.check(nb(...t)),e.size=(...t)=>e.check(ib(...t))});function yS(e,t){return new OS({type:"set",valueType:e,...Ah(t)})}const bS=Fd("ZodEnum",(e,t)=>{Cg.init(e,t),Sw.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const r of e){if(!n.has(r))throw new Error(`Key ${r} not found in enum`);i[r]=t.entries[r]}return new bS({...t,checks:[],...Ah(r),entries:i})},e.exclude=(e,r)=>{const i={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete i[t]}return new bS({...t,checks:[],...Ah(r),entries:i})}});function wS(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new bS({type:"enum",entries:n,...Ah(t)})}function xS(e,t){return new bS({type:"enum",entries:e,...Ah(t)})}const SS=Fd("ZodLiteral",(e,t)=>{Tg.init(e,t),Sw.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function kS(e,t){return new SS({type:"literal",values:Array.isArray(e)?e:[e],...Ah(t)})}const $S=Fd("ZodFile",(e,t)=>{Ig.init(e,t),Sw.init(e,t),e.min=(t,n)=>e.check(rb(t,n)),e.max=(t,n)=>e.check(nb(t,n)),e.mime=(t,n)=>e.check(mb(Array.isArray(t)?t:[t],n))});function _S(e){return Qb($S,e)}const PS=Fd("ZodTransform",(e,t)=>{Qg.init(e,t),Sw.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Hd(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(Kh(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(Kh(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});function ES(e){return new PS({type:"transform",transform:e})}const CS=Fd("ZodOptional",(e,t)=>{Ng.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function TS(e){return new CS({type:"optional",innerType:e})}const IS=Fd("ZodNullable",(e,t)=>{Mg.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function QS(e){return new IS({type:"nullable",innerType:e})}function AS(e){return TS(QS(e))}const NS=Fd("ZodDefault",(e,t)=>{Dg.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function MS(e,t){return new NS({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():_h(t)}})}const DS=Fd("ZodPrefault",(e,t)=>{jg.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zS(e,t){return new DS({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():_h(t)}})}const jS=Fd("ZodNonOptional",(e,t)=>{Rg.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function RS(e,t){return new jS({type:"nonoptional",innerType:e,...Ah(t)})}const ZS=Fd("ZodSuccess",(e,t)=>{Lg.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function LS(e){return new ZS({type:"success",innerType:e})}const US=Fd("ZodCatch",(e,t)=>{Ug.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function XS(e,t){return new US({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}const VS=Fd("ZodNaN",(e,t)=>{Xg.init(e,t),Sw.init(e,t)});function BS(e){return Yy(VS,e)}const YS=Fd("ZodPipe",(e,t)=>{Vg.init(e,t),Sw.init(e,t),e.in=t.in,e.out=t.out});function WS(e,t){return new YS({type:"pipe",in:e,out:t})}const FS=Fd("ZodCodec",(e,t)=>{YS.init(e,t),Yg.init(e,t)});function qS(e,t,n){return new FS({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}const GS=Fd("ZodReadonly",(e,t)=>{qg.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function HS(e){return new GS({type:"readonly",innerType:e})}const KS=Fd("ZodTemplateLiteral",(e,t)=>{Hg.init(e,t),Sw.init(e,t)});function JS(e,t){return new KS({type:"template_literal",parts:e,...Ah(t)})}const ek=Fd("ZodLazy",(e,t)=>{ev.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.getter()});function tk(e){return new ek({type:"lazy",getter:e})}const nk=Fd("ZodPromise",(e,t)=>{Jg.init(e,t),Sw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rk(e){return new nk({type:"promise",innerType:e})}const ik=Fd("ZodFunction",(e,t)=>{Kg.init(e,t),Sw.init(e,t)});function ok(e){return new ik({type:"function",input:Array.isArray(e?.input)?hS(e?.input):e?.input??Jx(Bx()),output:e?.output??Bx()})}const sk=Fd("ZodCustom",(e,t)=>{tv.init(e,t),Sw.init(e,t)});function ak(e){const t=new Fp({check:"custom"});return t._zod.check=e,t}function lk(e,t){return Bb(sk,e??(()=>!0),t)}function ck(e,t={}){return Yb(sk,e,t)}function uk(e){return Wb(e)}function dk(e,t={error:`Input not instance of ${e.name}`}){const n=new sk({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...Ah(t)});return n._zod.bag.Class=e,n}const hk=(...e)=>qb({Codec:FS,Boolean:Cx,String:$w},...e);function fk(e){const t=tk(()=>sS([_w(e),xx(),Tx(),Lx(),Jx(t),pS(_w(),t)]));return t}function pk(e,t){return WS(ES(e),t)}const mk={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function gk(e){Jd({customError:e})}function vk(){return Jd().customError}var Ok;function yk(e){return GO($w,e)}function bk(e){return $y(wx,e)}function wk(e){return Qy(Cx,e)}function xk(e){return Ny(Ix,e)}function Sk(e){return By(Gx,e)}function kk(e){return kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kk(e)}function $k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=kk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ok||(Ok={}),Jd(yv());var _k,Pk=$k($k({},q.USER_MESSAGE_RENDERED,{messageId:xx()}),q.CHARACTER_MESSAGE_RENDERED,{messageId:xx()});!function(e){e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.PROFILE_ID="profileId",e.MESSAGES="messages",e.SCHEMA="schema",e.STRUCTURED_RESULT="structuredResult",e.ANY="any"}(_k||(_k={}));var Ek={triggerNode:{inputs:[],outputs:[]},ifNode:{inputs:[],outputs:[{id:"false",type:_k.ANY}]},createMessagesNode:{inputs:[{id:"profileId",type:_k.PROFILE_ID},{id:"lastMessageId",type:_k.NUMBER}],outputs:[{id:null,type:_k.MESSAGES}]},stringNode:{inputs:[{id:null,type:_k.ANY}],outputs:[{id:null,type:_k.STRING}]},numberNode:{inputs:[{id:null,type:_k.ANY}],outputs:[{id:null,type:_k.NUMBER}]},structuredRequestNode:{inputs:[{id:"profileId",type:_k.PROFILE_ID},{id:"messages",type:_k.MESSAGES},{id:"schema",type:_k.SCHEMA},{id:"messageId",type:_k.NUMBER},{id:"maxResponseToken",type:_k.NUMBER}],outputs:[{id:null,type:_k.STRUCTURED_RESULT}]},schemaNode:{inputs:[],outputs:[{id:null,type:_k.SCHEMA}]},profileIdNode:{inputs:[],outputs:[{id:null,type:_k.PROFILE_ID}]}};function Ck(e,t){var n,r,i,o=t.find(function(t){return t.id===e.source}),s=t.find(function(t){return t.id===e.target});if(!(o&&s&&o.type&&s.type))return!1;var a,l=null===(n=Ek[o.type])||void 0===n?void 0:n.outputs,c=null===(r=Ek[s.type])||void 0===r?void 0:r.inputs;if(!l||!c)return!1;if("ifNode"===o.type){var u,d=null===(u=o.data)||void 0===u||null===(u=u.conditions)||void 0===u?void 0:u.some(function(t){return t.id===e.sourceHandle});("false"===e.sourceHandle||d)&&(a=_k.ANY)}else{var h;a=null===(h=l.find(function(t){return t.id===e.sourceHandle}))||void 0===h?void 0:h.type}var f=null===(i=c.find(function(t){return t.id===e.targetHandle}))||void 0===i?void 0:i.type;return!(!a||!f)&&(a===_k.ANY||f===_k.ANY||(f===_k.PROFILE_ID&&a===_k.STRING||(f===_k.STRING&&a===_k.PROFILE_ID||a===f)))}var Tk=nS({selectedEventType:_w().refine(function(e){return Object.values(q).includes(e)},{message:"Invalid event type"})}),Ik=nS({conditions:Jx(nS({id:_w(),code:_w()})).default([{id:crypto.randomUUID(),code:"return true;"}])}),Qk=nS({profileId:_w().optional(),lastMessageId:xx().optional()}),Ak=nS({value:_w()}),Nk=nS({value:xx()}),Mk=nS({profileId:_w().optional(),schemaName:_w().optional(),messageId:xx().optional(),promptEngineeringMode:wS(["native","json","xml"]),maxResponseToken:xx().optional()}),Dk=nS({fields:Jx(nS({id:_w(),name:_w(),type:wS(["string","number","boolean"])}))}),zk=nS({profileId:_w().optional()});function jk(e){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(e)}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(t){Lk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=jk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uk(e){return function(e){if(Array.isArray(e))return Bk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||Vk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vk(e,t){if(e){if("string"==typeof e)return Bk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bk(e,t):void 0}}function Bk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Yk=(0,E.createContext)(null),Wk=function(e){var t=e.children,n=GV.getSettings(),r=n.flows[n.activeFlow]||{nodes:[],edges:[]},i=Xk((0,E.useState)(function(){return structuredClone(r.nodes)}),2),o=i[0],s=i[1],a=Xk((0,E.useState)(function(){return structuredClone(r.edges)}),2),l=a[0],c=a[1],u=(0,E.useCallback)(function(e){var t=e.filter(function(e){return"remove"===e.type});if(t.length>0){var n,r=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vk(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(t);try{var a=function(){var e=n.value.id,t=l.filter(function(t){return t.target===e}),i=l.filter(function(t){return t.source===e});if(1===t.length&&1===i.length){var s=t[0],a=i[0],c={source:s.source,sourceHandle:s.sourceHandle||null,target:a.target,targetHandle:a.targetHandle||null};Ck(c,o)&&r.push(Zk(Zk({},c),{},{id:crypto.randomUUID()}))}};for(i.s();!(n=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}r.length>0&&c(function(e){return[].concat(Uk(e),r)})}s(function(t){return Pc(e,t)})},[o,l,s,c]),d=(0,E.useCallback)(function(e){return c(function(t){return Ec(e,t)})},[]),h=(0,E.useCallback)(function(e){return c(function(t){return Ua(e,t)})},[]),f=(0,E.useCallback)(function(e,t){s(function(n){return n.map(function(n){return n.id===e?Zk(Zk({},n),{},{data:Zk(Zk({},n.data),t)}):n})})},[]),p=(0,E.useCallback)(function(e){s(e.nodes||[]),c(e.edges||[])},[]),m=(0,E.useCallback)(function(){return{nodes:o,edges:l}},[o,l]),g=(0,E.useCallback)(function(e){var t=Zk(Zk({},e),{},{id:crypto.randomUUID()});return s(function(e){return[].concat(Uk(e),[t])}),t},[]),v=(0,E.useCallback)(function(e){var t=o.find(function(t){return t.id===e});if(t){var n=Zk(Zk({},structuredClone(t)),{},{id:crypto.randomUUID(),position:{x:t.position.x+50,y:t.position.y+50}});s(function(e){return[].concat(Uk(e),[n])})}},[o]),O={nodes:o,edges:l,onNodesChange:u,onEdgesChange:d,onConnect:h,updateNodeData:f,loadFlow:p,getFlowData:m,addNode:g,duplicateNode:v};return(0,P.jsx)(Yk.Provider,{value:O,children:t})},Fk=function(){var e=(0,E.useContext)(Yk);if(!e)throw new Error("useFlow must be used within a FlowProvider");return e};function qk(e){return qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qk(e)}var Gk=["value","onChange","options","listId","overrideDefaults","className"];function Hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hk(Object(n),!0).forEach(function(t){Jk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=qk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var e$=function(e){var t=e.value,n=e.onChange,r=e.options,i=e.listId,o=e.overrideDefaults,s=e.className,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Gk),l=(0,E.useMemo)(function(){var e=[];return e.push("text_pole"),e.filter(Boolean).join(" ")},[o,s]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("input",Kk({type:"text",className:l,value:t,onChange:n,list:i},a)),(0,P.jsx)("datalist",{id:i,children:r.map(function(e,t){return(0,P.jsx)("option",{value:e},t)})})]})},t$=function(e){var t=e.id,n=e.title,r=e.children,i=e.selected,o=Fk().duplicateNode;return(0,P.jsxs)("div",{style:{border:"1px solid #777",padding:"10px",background:"#333",fontSize:"12px",width:"100%",height:"100%",minWidth:180},children:[(0,P.jsx)(Yd,{isVisible:i,minWidth:180,minHeight:50}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[(0,P.jsx)("label",{children:n}),(0,P.jsx)(T,{onClick:function(){return o(t)},children:"Duplicate"})]}),r]})},n$=function(e){var t=e.id,n=e.data,r=e.selected,i=Fk().updateNodeData;return(0,P.jsxs)(t$,{id:t,title:"Trigger via:",selected:r,children:[(0,P.jsx)("hr",{}),(0,P.jsx)("label",{children:"Event"}),(0,P.jsx)(e$,{className:"nodrag",value:n.selectedEventType,onChange:function(e){i(t,{selectedEventType:e.target.value})},options:Object.values(q),listId:t})]})};function r$(){return r$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r$.apply(null,arguments)}let i$=[],o$=[];function s$(e){if(e<768)return!1;for(let t=0,n=i$.length;;){let r=t+n>>1;if(e<i$[r])n=r;else{if(!(e>=o$[r]))return!0;t=r+1}if(t==n)return!1}}function a$(e){return e>=127462&&e<=127487}(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let t=0,n=0;t<e.length;t++)(t%2?o$:i$).push(n+=e[t])})();function l$(e,t,n=!0,r=!0){return(n?c$:u$)(e,t,r)}function c$(e,t,n){if(t==e.length)return t;t&&h$(e.charCodeAt(t))&&f$(e.charCodeAt(t-1))&&t--;let r=d$(e,t);for(t+=p$(r);t<e.length;){let i=d$(e,t);if(8205==r||8205==i||n&&s$(i))t+=p$(i),r=i;else{if(!a$(i))break;{let n=0,r=t-2;for(;r>=0&&a$(d$(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function u$(e,t,n){for(;t>0;){let r=c$(e,t-2,n);if(r<t)return r;t--}return 0}function d$(e,t){let n=e.charCodeAt(t);if(!f$(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return h$(r)?r-56320+(n-55296<<10)+65536:n}function h$(e){return e>=56320&&e<57344}function f$(e){return e>=55296&&e<56320}function p$(e){return e<65536?1:2}class m${lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=k$(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),v$.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=k$(this,e,t);let n=[];return this.decompose(e,t,n,0),v$.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new b$(this),i=new b$(e);for(let e=t,o=t;;){if(r.next(e),i.next(e),e=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}iter(e=1){return new b$(this,e)}iterRange(e,t=this.length){return new w$(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new x$(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new g$(e):v$.from(g$.split(e,[])):m$.empty}}class g$ extends m${constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((t?n:s)>=e)return new S$(r,s,n,o);r=s+1,n++}}decompose(e,t,n,r){let i=e<=0&&t>=this.length?this:new g$(y$(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=O$(i.text,e.text.slice(),0,i.length);if(t.length<=32)n.push(new g$(t,e.length+i.length));else{let e=t.length>>1;n.push(new g$(t.slice(0,e)),new g$(t.slice(e)))}}else n.push(i)}replace(e,t,n){if(!(n instanceof g$))return super.replace(e,t,n);[e,t]=k$(this,e,t);let r=O$(this.text,O$(n.text,y$(this.text,0,e)),t),i=this.length+n.length-(t-e);return r.length<=32?new g$(r,i):v$.from(g$.split(r,[]),i)}sliceString(e,t=this.length,n="\n"){[e,t]=k$(this,e,t);let r="";for(let i=0,o=0;i<=t&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.slice(Math.max(0,e-i),t-i)),i=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let i of e)n.push(i),r+=i.length+1,32==n.length&&(t.push(new g$(n,r)),n=[],r=-1);return r>-1&&t.push(new g$(n,r)),t}}class v$ extends m${constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,n,r);r=s+1,n=a+1}}decompose(e,t,n,r){for(let i=0,o=0;o<=t&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e<=a&&t>=o){let i=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!i?n.push(s):s.decompose(e-o,t-o,n,i)}o=a+1}}replace(e,t,n){if([e,t]=k$(this,e,t),n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],s=i+o.length;if(e>=i&&t<=s){let a=o.replace(e-i,t-i,n),l=this.lines-o.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let i=this.children.slice();return i[r]=a,new v$(i,this.length-(t-e)+n.length)}return super.replace(i,s,a)}i=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){[e,t]=k$(this,e,t);let r="";for(let i=0,o=0;i<this.children.length&&o<=t;i++){let s=this.children[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.sliceString(e-o,t-o,n)),o=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof v$))return 0;let n=0,[r,i,o,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,i+=t){if(r==o||i==s)return n;let a=this.children[r],l=e.children[i];if(a!=l)return n+a.scanIdentical(l,t);n+=a.length+1}}static from(e,t=e.reduce((e,t)=>e+t.length+1,-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new g$(n,t)}let r=Math.max(32,n>>5),i=r<<1,o=r>>1,s=[],a=0,l=-1,c=[];function u(e){let t;if(e.lines>i&&e instanceof v$)for(let t of e.children)u(t);else e.lines>o&&(a>o||!a)?(d(),s.push(e)):e instanceof g$&&a&&(t=c[c.length-1])instanceof g$&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new g$(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>r&&d(),a+=e.lines,l+=e.length+1,c.push(e))}function d(){0!=a&&(s.push(1==c.length?c[0]:v$.from(c,l)),l=-1,a=c.length=0)}for(let t of e)u(t);return d(),1==s.length?s[0]:new v$(s,t)}}function O$(e,t,n=0,r=1e9){for(let i=0,o=0,s=!0;o<e.length&&i<=r;o++){let a=e[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function y$(e,t,n){return O$(e,[""],t,n)}m$.empty=new g$([""],0);class b${constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof g$?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,s=r instanceof g$?r.text.length:r.children.length;if(o==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof g$){let i=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,i.length>Math.max(0,e))return this.value=0==e?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let i=r.children[o+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof g$?i.text.length:i.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class w${constructor(e,t,n){this.value="",this.done=!1,this.cursor=new b$(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class x${constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(m$.prototype[Symbol.iterator]=function(){return this.iter()},b$.prototype[Symbol.iterator]=w$.prototype[Symbol.iterator]=x$.prototype[Symbol.iterator]=function(){return this});class S${constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function k$(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}function $$(e,t,n=!0,r=!0){return l$(e,t,n,r)}function _$(e,t){let n=e.charCodeAt(t);if(!(r=n,r>=55296&&r<56320&&t+1!=e.length))return n;var r;let i=e.charCodeAt(t+1);return function(e){return e>=56320&&e<57344}(i)?i-56320+(n-55296<<10)+65536:n}function P$(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function E$(e){return e<65536?1:2}const C$=/\r\n?|\n/;var T$=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(T$||(T$={}));class I${constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(e,t=!1){M$(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new I$(e)}composeDesc(e){return this.empty?e:e.empty?this:z$(this,e)}mapDesc(e,t=!1){return e.empty?this:D$(this,e,t)}mapPos(e,t=-1,n=T$.Simple){let r=0,i=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],l=r+s;if(a<0){if(l>e)return i+(e-r);i+=s}else{if(n!=T$.Simple&&l>=e&&(n==T$.TrackDel&&r<e&&l>e||n==T$.TrackBefore&&r<e||n==T$.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==r||t<0?i:i+a;i+=a}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&i>=e)return!(r<e&&i>t)||"cover";r=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(e=>"number"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeDesc");return new I$(e)}static create(e){return new I$(e)}}class Q$ extends I${constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return M$(this,(t,n,r,i,o)=>e=e.replace(r,r+(n-t),o),!1),e}mapDesc(e,t=!1){return D$(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,i=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s>=0){t[r]=s,t[r+1]=o;let a=r>>1;for(;n.length<a;)n.push(m$.empty);n.push(o?e.slice(i,i+o):m$.empty)}i+=o}return new Q$(t,n)}compose(e){return this.empty?e:e.empty?this:z$(this,e,!0)}map(e,t=!1){return e.empty?this:D$(this,e,t,!0)}iterChanges(e,t=!1){M$(this,e,t)}get desc(){return I$.create(this.sections)}filter(e){let t=[],n=[],r=[],i=new j$(this);e:for(let o=0,s=0;;){let a=o==e.length?1e9:e[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-s);A$(r,e,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;A$(t,e,o),o>0&&N$(n,t,i.text),i.forward(e),s+=e}let l=e[o++];for(;s<l;){if(i.done)break e;let e=Math.min(i.len,l-s);A$(t,e,-1),A$(r,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),s+=e}}return{changes:new Q$(t,n),filtered:I$.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],i=[],o=0,s=null;function a(e=!1){if(!e&&!r.length)return;o<t&&A$(r,t-o,-1);let n=new Q$(r,i);s=s?s.compose(n.map(s)):n,r=[],i=[],o=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Q$){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let u=c?"string"==typeof c?m$.of(c.split(n||C$)):c:m$.empty,d=u.length;if(e==s&&0==d)return;e<o&&a(),e>o&&A$(r,e-o,-1),A$(r,s-e,d),N$(i,r,u),o=s}}(e),a(!s),s}static empty(e){return new Q$(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let i=e[r];if("number"==typeof i)t.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some((e,t)=>t&&"string"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)t.push(i[0],0);else{for(;n.length<r;)n.push(m$.empty);n[r]=m$.of(i.slice(1)),t.push(i[0],n[r].length)}}}return new Q$(t,n)}static createSet(e,t){return new Q$(e,t)}}function A$(e,t,n,r=!1){if(0==t&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:i>=0&&0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function N$(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(m$.empty);e.push(n)}}function M$(e,t,n){let r=e.inserted;for(let i=0,o=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,d=m$.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(i,c,o,u,d),i=c,o=u}}}function D$(e,t,n,r=!1){let i=[],o=r?[]:null,s=new j$(e),a=new j$(t);for(let e=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(-1==s.ins&&-1==a.ins){let e=Math.min(s.len,a.len);A$(i,e,-1),s.forward(e),a.forward(e)}else if(a.ins>=0&&(s.ins<0||e==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){let t=a.len;for(A$(i,a.ins,-1);t;){let n=Math.min(s.len,t);s.ins>=0&&e<s.i&&s.len<=n&&(A$(i,0,s.ins),o&&N$(o,i,s.text),e=s.i),s.forward(n),t-=n}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?Q$.createSet(i,o):I$.create(i);throw new Error("Mismatched change set lengths")}{let t=0,n=s.len;for(;n;)if(-1==a.ins){let e=Math.min(n,a.len);t+=e,n-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}A$(i,t,e<s.i?s.ins:0),o&&e<s.i&&N$(o,i,s.text),e=s.i,s.forward(s.len-n)}}}}function z$(e,t,n=!1){let r=[],i=n?[]:null,o=new j$(e),s=new j$(t);for(let e=!1;;){if(o.done&&s.done)return i?Q$.createSet(r,i):I$.create(r);if(0==o.ins)A$(r,o.len,0,e),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(o.len2,s.len),n=r.length;if(-1==o.ins){let n=-1==s.ins?-1:s.off?0:s.ins;A$(r,t,n,e),i&&n&&N$(i,r,s.text)}else-1==s.ins?(A$(r,o.off?0:o.len,t,e),i&&N$(i,r,o.textBit(t))):(A$(r,o.off?0:o.len,s.off?0:s.ins,e),i&&!s.off&&N$(i,r,s.text));e=(o.ins>t||s.ins>=0&&s.len>t)&&(e||r.length>n),o.forward2(t),s.forward(t)}}else A$(r,0,s.ins,e),i&&N$(i,r,s.text),s.next()}}class j${constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?m$.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?m$.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class R${constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new R$(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Z$.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Z$.range(this.anchor,n)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Z$.range(e.anchor,e.head)}static create(e,t,n){return new R$(e,t,n)}}class Z${constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Z$.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Z$([this.main],0)}addRange(e,t=!0){return Z$.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Z$.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z$(e.ranges.map(e=>R$.fromJSON(e)),e.main)}static single(e,t=e){return new Z$([Z$.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let i=e[r];if(i.empty?i.from<=n:i.from<n)return Z$.normalized(e.slice(),t);n=i.to}return new Z$(e,t)}static cursor(e,t=0,n,r){return R$.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(e,t,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?R$.create(t,e,48|i):R$.create(e,t,(t>e?8:0)|i)}static normalized(e,t=0){let n=e[t];e.sort((e,t)=>e.from-t.from),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],i=e[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let o=i.from,s=Math.max(r.to,i.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?Z$.range(s,o):Z$.range(o,s))}}return new Z$(e,t)}}function L$(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let U$=0;class X${constructor(e,t,n,r,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=U$++,this.default=e([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(e={}){return new X$(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:V$),!!e.static,e.enables)}of(e){return new B$([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new B$(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new B$(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],n=>t(n.field(e)))}}function V$(e,t){return e==t||e.length==t.length&&e.every((e,n)=>e===t[n])}class B${constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=U$++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,i=this.id,o=e[i]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?l=!0:1&(null!==(t=e[n.id])&&void 0!==t?t:1)||c.push(e[n.id]);return{create:e=>(e.values[o]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||W$(e,c)){let t=n(e);if(s?!Y$(t,e.values[o],r):!r(t,e.values[o]))return e.values[o]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[i];if(null!=l){let i=l_(t,l);if(this.dependencies.every(n=>n instanceof X$?t.facet(n)===e.facet(n):!(n instanceof G$)||t.field(n,!1)==e.field(n,!1))||(s?Y$(a=n(e),i,r):r(a=n(e),i)))return e.values[o]=i,0}else a=n(e);return e.values[o]=a,1}}}}function Y$(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function W$(e,t){let n=!1;for(let r of t)1&a_(e,r)&&(n=!0);return n}function F$(e,t,n){let r=n.map(t=>e[t.id]),i=n.map(e=>e.type),o=r.filter(e=>!(1&e)),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<r.length;t++){let o=l_(e,r[t]);if(2==i[t])for(let e of o)n.push(e);else n.push(o)}return t.combine(n)}return{create(e){for(let t of r)a_(e,t);return e.values[s]=a(e),1},update(e,n){if(!W$(e,o))return 0;let r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure(e,i){let o=W$(e,r),l=i.config.facets[t.id],c=i.facet(t);if(l&&!o&&V$(n,l))return e.values[s]=c,0;let u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}const q$=X$.define({static:!0});class G${constructor(e,t,n,r,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(e){let t=new G$(U$++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(q$).find(e=>e.field==this);return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],i=this.updateF(r,n);return this.compareF(r,i)?0:(e.values[t]=i,1)},reconfigure:(e,n)=>{let r,i=e.facet(q$),o=n.facet(q$);return(r=i.find(e=>e.field==this))&&r!=o.find(e=>e.field==this)?(e.values[t]=r.create(e),1):null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}}init(e){return[this,q$.of({field:this,create:e})]}get extension(){return this}}const H$=4,K$=3,J$=2,e_=1;function t_(e){return t=>new r_(t,e)}const n_={highest:t_(0),high:t_(e_),default:t_(J$),low:t_(K$),lowest:t_(H$)};class r_{constructor(e,t){this.inner=e,this.prec=t}}class i_{of(e){return new o_(this,e)}reconfigure(e){return i_.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class o_{constructor(e,t){this.compartment=e,this.inner=t}}class s_{constructor(e,t,n,r,i,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],i=Object.create(null),o=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],i=new Map;function o(e,s){let a=i.get(e);if(null!=a){if(a<=s)return;let t=r[a].indexOf(e);t>-1&&r[a].splice(t,1),e instanceof o_&&n.delete(e.compartment)}if(i.set(e,s),Array.isArray(e))for(let t of e)o(t,s);else if(e instanceof o_){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;n.set(e.compartment,r),o(r,s)}else if(e instanceof r_)o(e.inner,e.prec);else if(e instanceof G$)r[s].push(e),e.provides&&o(e.provides,s);else if(e instanceof B$)r[s].push(e),e.facet.extensions&&o(e.facet.extensions,J$);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(t,s)}}return o(e,J$),r.reduce((e,t)=>e.concat(t))}(e,t,o))n instanceof G$?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],l=[];for(let e of r)s[e.id]=l.length<<1,l.push(t=>e.slot(t));let c=null==n?void 0:n.config.facets;for(let e in i){let t=i[e],r=t[0].facet,o=c&&c[e]||[];if(t.every(e=>0==e.type))if(s[r.id]=a.length<<1|1,V$(o,t))a.push(n.facet(r));else{let e=r.combine(t.map(e=>e.value));a.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push(t=>e.dynamicSlot(t)));s[r.id]=l.length<<1,l.push(e=>F$(e,r,t))}}let u=l.map(e=>e(s));return new s_(e,o,u,s,a,i)}}function a_(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function l_(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const c_=X$.define(),u_=X$.define({combine:e=>e.some(e=>e),static:!0}),d_=X$.define({combine:e=>e.length?e[0]:void 0,static:!0}),h_=X$.define(),f_=X$.define(),p_=X$.define(),m_=X$.define({combine:e=>!!e.length&&e[0]});class g_{constructor(e,t){this.type=e,this.value=t}static define(){return new v_}}class v_{of(e){return new g_(this,e)}}class O_{constructor(e){this.map=e}of(e){return new y_(this,e)}}class y_{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new y_(this.type,t)}is(e){return this.type==e}static define(e={}){return new O_(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}y_.reconfigure=y_.define(),y_.appendConfig=y_.define();class b_{constructor(e,t,n,r,i,o){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&L$(n,t.newLength),i.some(e=>e.type==b_.time)||(this.annotations=i.concat(b_.time.of(Date.now())))}static create(e,t,n,r,i,o){return new b_(e,t,n,r,i,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(b_.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function w_(e,t){let n=[];for(let r=0,i=0;;){let o,s;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else{if(!(i<t.length))return n;o=t[i++],s=t[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function x_(e,t,n){var r;let i,o,s;return n?(i=t.changes,o=Q$.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:y_.mapEffects(e.effects,i).concat(y_.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function S_(e,t,n){let r=t.selection,i=__(t.annotations);return t.userEvent&&(i=i.concat(b_.userEvent.of(t.userEvent))),{changes:t.changes instanceof Q$?t.changes:Q$.of(t.changes||[],n,e.facet(d_)),selection:r&&(r instanceof Z$?r:Z$.single(r.anchor,r.head)),effects:__(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function k_(e,t,n){let r=S_(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);let o=!!t[i].sequential;r=x_(r,S_(e,t[i],o?r.changes.newLength:e.doc.length),o)}let i=b_.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(p_),r=e;for(let i=n.length-1;i>=0;i--){let o=n[i](e);o&&Object.keys(o).length&&(r=x_(r,S_(t,o,e.changes.newLength),!0))}return r==e?e:b_.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(h_)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:w_(n,t))}if(!0!==n){let r,i;if(!1===n)i=e.changes.invertedDesc,r=Q$.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=b_.create(t,r,e.selection&&e.selection.map(i),y_.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let r=t.facet(f_);for(let n=r.length-1;n>=0;n--){let i=r[n](e);e=i instanceof b_?i:Array.isArray(i)&&1==i.length&&i[0]instanceof b_?i[0]:k_(t,__(i),!1)}return e}(i):i)}b_.time=g_.define(),b_.userEvent=g_.define(),b_.addToHistory=g_.define(),b_.remote=g_.define();const $_=[];function __(e){return null==e?$_:Array.isArray(e)?e:[e]}var P_=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(P_||(P_={}));const E_=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let C_;try{C_=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function T_(e){return t=>{if(!/\S/.test(t))return P_.Space;if(function(e){if(C_)return C_.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||E_.test(n)))return!0}return!1}(t))return P_.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return P_.Word;return P_.Other}}class I_{constructor(e,t,n,r,i,o){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)a_(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return a_(this,n),l_(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return k_(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:i}=n;for(let t of e.effects)t.is(i_.reconfigure)?(n&&(i=new Map,n.compartments.forEach((e,t)=>i.set(t,e)),n=null),i.set(t.value.compartment,t.value.extension)):t.is(y_.reconfigure)?(n=null,r=t.value):t.is(y_.appendConfig)&&(n=null,r=__(r).concat(t.value));if(n)t=e.startState.values.slice();else{n=s_.resolve(r,i,this),t=new I_(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(e,t)=>t.reconfigure(e,this),null).values}let o=e.startState.facet(u_)?e.newSelection:e.newSelection.asSingle();new I_(n,e.newDoc,o,t,(t,n)=>n.update(t,e),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Z$.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=__(n.effects);for(let n=1;n<t.ranges.length;n++){let s=e(t.ranges[n]),a=this.changes(s.changes),l=a.map(r);for(let e=0;e<n;e++)i[e]=i[e].map(l);let c=r.mapDesc(a,!0);i.push(s.range.map(c)),r=r.compose(l),o=y_.mapEffects(o,l).concat(y_.mapEffects(__(s.effects),c))}return{changes:r,selection:Z$.create(i,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Q$?e:Q$.of(e,this.doc.length,this.facet(I_.lineSeparator))}toText(e){return m$.of(e.split(this.facet(I_.lineSeparator)||C$))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(a_(this,t),l_(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof G$&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let i=n[t],o=e[t];r.push(i.init(e=>i.spec.fromJSON(o,e)))}return I_.create({doc:e.doc,selection:Z$.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=s_.resolve(e.extensions||[],new Map),n=e.doc instanceof m$?e.doc:m$.of((e.doc||"").split(t.staticFacet(I_.lineSeparator)||C$)),r=e.selection?e.selection instanceof Z$?e.selection:Z$.single(e.selection.anchor,e.selection.head):Z$.single(0);return L$(r,n.length),t.staticFacet(u_)||(r=r.asSingle()),new I_(t,n,r,t.dynamicSlots.map(()=>null),(e,t)=>t.create(e),null)}get tabSize(){return this.facet(I_.tabSize)}get lineBreak(){return this.facet(I_.lineSeparator)||"\n"}get readOnly(){return this.facet(m_)}phrase(e,...t){for(let t of this.facet(I_.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]})),e}languageDataAt(e,t,n=-1){let r=[];for(let i of this.facet(c_))for(let o of i(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return T_(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),i=this.charCategorizer(e),o=e-n,s=e-n;for(;o>0;){let e=$$(t,o,!1);if(i(t.slice(e,o))!=P_.Word)break;o=e}for(;s<r;){let e=$$(t,s);if(i(t.slice(s,e))!=P_.Word)break;s=e}return o==s?null:Z$.range(o+n,s+n)}}function Q_(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let i=t[e],o=r[e];if(void 0===o)r[e]=i;else if(o===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](o,i)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}I_.allowMultipleSelections=u_,I_.tabSize=X$.define({combine:e=>e.length?e[0]:4}),I_.lineSeparator=d_,I_.readOnly=m_,I_.phrases=X$.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every(n=>e[n]==t[n])}}),I_.languageData=c_,I_.changeFilter=h_,I_.transactionFilter=f_,I_.transactionExtender=p_,i_.reconfigure=y_.define();class A_{eq(e){return this==e}range(e,t=e){return N_.create(e,t,this)}}A_.prototype.startSide=A_.prototype.endSide=0,A_.prototype.point=!1,A_.prototype.mapMode=T$.TrackDel;class N_{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new N_(e,t,n)}}function M_(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class D_{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let i=n?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(e,t,n,r){for(let i=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],d=this.from[a]+e,h=this.to[a]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(d,u.endSide),c<l))continue}else if(l=t.mapPos(d,u.startSide),c=t.mapPos(h,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(o<0&&(o=l),u.point&&(s=Math.max(s,c-l)),n.push(u),r.push(l-o),i.push(c-o))}return{mapped:n.length?new D_(r,i,n,s):null,pos:o}}}class z_{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new z_(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=e,o=e.filter;if(0==t.length&&!o)return this;if(n&&(t=t.slice().sort(M_)),this.isEmpty)return t.length?z_.of(t):this;let s=new Z_(this,null,-1).goto(0),a=0,l=[],c=new j_;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!o||r>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||r>s.to||i<s.from||o(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(N_.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?z_.empty:this.nextLayer.update({add:l,filter:o,filterFrom:r,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],a=e.touchesRange(o,o+s.length);if(!1===a)r=Math.max(r,s.maxPoint),t.push(s),n.push(e.mapPos(o));else if(!0===a){let{mapped:i,pos:a}=s.map(o,e);i&&(r=Math.max(r,i.maxPoint),t.push(i),n.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new z_(n,t,i||z_.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return L_.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return L_.from(e).goto(t)}static compare(e,t,n,r,i=-1){let o=e.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i),s=t.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i),a=R_(o,s,n),l=new X_(o,a,i),c=new X_(s,a,i);n.iterGaps((e,t,n)=>V_(l,e,c,t,n,r)),n.empty&&0==n.length&&V_(l,0,c,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=999999999);let i=e.filter(e=>!e.isEmpty&&t.indexOf(e)<0),o=t.filter(t=>!t.isEmpty&&e.indexOf(t)<0);if(i.length!=o.length)return!1;if(!i.length)return!0;let s=R_(i,o),a=new X_(i,s,0).goto(n),l=new X_(o,s,0).goto(n);for(;;){if(a.to!=l.to||!B_(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(e,t,n,r,i=-1){let o=new X_(e,null,i).goto(t),s=t,a=o.openStart;for(;;){let e=Math.min(o.to,n);if(o.point){let n=o.activeForPoint(o.to),i=o.pointFrom<t?n.length+1:o.point.startSide<0?n.length:Math.min(n.length,a);r.point(s,e,o.point,n,i,o.pointRank),a=Math.min(o.openEnd(e),n.length)}else e>s&&(r.span(s,e,o.active,a),a=o.openEnd(e));if(o.to>n)return a+(o.point&&o.to>n?1:0);s=o.to,o.next()}}static of(e,t=!1){let n=new j_;for(let r of e instanceof N_?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(M_(t,r)>0)return e.slice().sort(M_);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return z_.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=z_.empty;r=r.nextLayer)t=new z_(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}z_.empty=new z_([],[],null,-1),z_.empty.nextLayer=z_.empty;class j_{finishChunk(e){this.chunks.push(new D_(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new j_)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(z_.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=z_.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function R_(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let i=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let o=r.get(e.chunk[t]);null==o||(n?n.mapPos(o):o)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(o,o+e.chunk[t].length))||i.add(e.chunk[t])}return i}class Z_{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class L_{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let i=0;i<e.length;i++)for(let o=e[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new Z_(o,t,n,i));return 1==r.length?r[0]:new L_(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)U_(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)U_(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),U_(this.heap,0)}}}function U_(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class X_{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=L_.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Y_(this.active,e),Y_(this.activeTo,e),Y_(this.activeRank,e),this.minActive=F_(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:i}=this.cursor;for(;t<this.activeRank.length&&(i-this.activeRank[t]||r-this.activeTo[t])>0;)t++;W_(this.active,t,n),W_(this.activeTo,t,r),W_(this.activeRank,t,i),e&&W_(e,t,this.cursor.from),this.minActive=F_(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Y_(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function V_(e,t,n,r,i,o){e.goto(t),n.goto(r);let s=r+i,a=r,l=r-t;for(;;){let t=e.to+l-n.to,r=t||e.endSide-n.endSide,i=r<0?e.to+l:n.to,c=Math.min(i,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&B_(e.activeForPoint(e.to),n.activeForPoint(n.to))||o.comparePoint(a,c,e.point,n.point):c>a&&!B_(e.active,n.active)&&o.compareRange(a,c,e.active,n.active),i>s)break;(t||e.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(i),a=i,r<=0&&e.next(),r>=0&&n.next()}}function B_(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Y_(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function W_(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function F_(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function q_(e,t,n=e.length){let r=0;for(let i=0;i<n&&i<e.length;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=$$(e,i));return r}function G_(e,t,n,r){for(let r=0,i=0;;){if(i>=t)return r;if(r==e.length)break;i+=9==e.charCodeAt(r)?n-i%n:1,r=$$(e,r)}return!0===r?-1:e.length}const H_="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),K_="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),J_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class eP{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,o,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return o.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))i(n.split(/,\s*/).map(t=>e.map(e=>t.replace(/&/,e))).reduce((e,t)=>e.concat(t)),s,o);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())+": "+s+";")}(a.length||c)&&o.push((!n||l||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)i(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=J_[H_]||1;return J_[H_]=e+1,"ͼ"+e.toString(36)}static mount(e,t,n){let r=e[K_],i=n&&n.nonce;r?i&&r.setNonce(i):r=new nP(e,i),r.mount(Array.isArray(t)?t:[t],e)}}let tP=new Map;class nP{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=tP.get(n);if(t)return e[K_]=t;this.sheet=new r.CSSStyleSheet,tP.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[K_]=this}mount(e,t){let n=this.sheet,r=0,i=0;for(let t=0;t<e.length;t++){let o=e[t],s=this.modules.indexOf(o);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,o),n)for(let e=0;e<o.rules.length;e++)n.insertRule(o.rules[e],r++)}else{for(;i<s;)r+=this.modules[i++].rules.length;r+=o.rules.length,i++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e;let n=t.head||t;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var rP={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},iP={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oP="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),sP="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),aP=0;aP<10;aP++)rP[48+aP]=rP[96+aP]=String(aP);for(aP=1;aP<=24;aP++)rP[aP+111]="F"+aP;for(aP=65;aP<=90;aP++)rP[aP]=String.fromCharCode(aP+32),iP[aP]=String.fromCharCode(aP);for(var lP in rP)iP.hasOwnProperty(lP)||(iP[lP]=rP[lP]);let cP="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},uP="undefined"!=typeof document?document:{documentElement:{style:{}}};const dP=/Edge\/(\d+)/.exec(cP.userAgent),hP=/MSIE \d/.test(cP.userAgent),fP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cP.userAgent),pP=!!(hP||fP||dP),mP=!pP&&/gecko\/(\d+)/i.test(cP.userAgent),gP=!pP&&/Chrome\/(\d+)/.exec(cP.userAgent),vP="webkitFontSmoothing"in uP.documentElement.style,OP=!pP&&/Apple Computer/.test(cP.vendor),yP=OP&&(/Mobile\/\w+/.test(cP.userAgent)||cP.maxTouchPoints>2);var bP={mac:yP||/Mac/.test(cP.platform),windows:/Win/.test(cP.platform),linux:/Linux|X11/.test(cP.platform),ie:pP,ie_version:hP?uP.documentMode||6:fP?+fP[1]:dP?+dP[1]:0,gecko:mP,gecko_version:mP?+(/Firefox\/(\d+)/.exec(cP.userAgent)||[0,0])[1]:0,chrome:!!gP,chrome_version:gP?+gP[1]:0,ios:yP,android:/Android\b/.test(cP.userAgent),webkit:vP,webkit_version:vP?+(/\bAppleWebKit\/(\d+)/.exec(cP.userAgent)||[0,0])[1]:0,safari:OP,safari_version:OP?+(/\bVersion\/(\d+(\.\d+)?)/.exec(cP.userAgent)||[0,0])[1]:0,tabSize:null!=uP.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function wP(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function xP(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function SP(e,t){if(!t.anchorNode)return!1;try{return xP(e,t.anchorNode)}catch(e){return!1}}function kP(e){return 3==e.nodeType?zP(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function $P(e,t,n,r){return!!n&&(EP(e,t,n,r,-1)||EP(e,t,n,r,1))}function _P(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function PP(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function EP(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:CP(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=_P(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?CP(e):0}}}function CP(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function TP(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function IP(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function QP(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class AP{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?CP(t):0),n,Math.min(e.focusOffset,n?CP(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let NP,MP=null;function DP(e){if(e.setActive)return e.setActive();if(MP)return e.focus(MP);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==MP?{get preventScroll(){return MP={preventScroll:!0},!0}}:void 0),!MP){MP=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],i=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function zP(e,t,n=t){let r=NP||(NP=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function jP(e,t,n,r){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,e.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,e.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function RP(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function ZP(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function LP(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;n=n.childNodes[r-1],r=CP(n)}else{if(!n.parentNode||PP(n))return null;r=_P(n),n=n.parentNode}}}function UP(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||PP(n))return null;r=_P(n)+1,n=n.parentNode}}}bP.safari&&bP.safari_version>=26&&(MP=!1);class XP{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new XP(e.parentNode,_P(e),t)}static after(e,t){return new XP(e.parentNode,_P(e)+1,t)}}const VP=[];class BP{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,r=this.dom,i=null;for(let o of this.children){if(7&o.flags){if(!o.dom&&(n=i?i.nextSibling:r.firstChild)){let e=BP.get(n);(!e||!e.parent&&e.canReuseDOM(o))&&o.reuseDOM(n)}o.sync(e,t),o.flags&=-8}if(n=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&n!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;n&&n!=o.dom;)n=YP(n);else r.insertBefore(o.dom,n);i=o.dom}for(n=i?i.nextSibling:r.firstChild,n&&t&&t.node==r&&(t.written=!0);n;)n=YP(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==CP(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!BP.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,i=-1,o=-1,s=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==r&&(r=a,i=l),l>t&&n.dom.parentNode==this.dom){o=a,s=c;break}c=u,l=u+n.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=VP){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&n.indexOf(e)<0&&e.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new WP(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,i,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function YP(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}BP.prototype.breakAfter=0;class WP{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function FP(e,t,n,r,i,o,s,a,l){let{children:c}=e,u=c.length?c[t]:null,d=o.length?o[o.length-1]:null,h=d?d.breakAfter:s;if(!(t==r&&u&&!s&&!h&&o.length<2&&u.merge(n,i,o.length?d:null,0==n,a,l))){if(r<c.length){let e=c[r];e&&(i<e.length||e.breakAfter&&(null==d?void 0:d.breakAfter))?(t==r&&(e=e.split(i),i=0),!h&&d&&e.merge(0,i,d,!0,0,l)?o[o.length-1]=e:((i||e.children.length&&!e.children[0].length)&&e.merge(0,i,null,!1,0,l),o.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else{if(!c[t].become(o[0]))break;t++,o.shift(),a=o.length?0:l}!o.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function qP(e,t,n,r,i,o){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),d=t-n;for(let e of r)d+=e.length;e.length+=d,FP(e,c,u,a,l,r,0,i,o)}class GP extends BP{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof GP)||this.length-(t-e)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new GP(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new XP(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let i=t,o=t,s=0;0==t&&n<0||t==r&&n>=0?bP.chrome||bP.gecko||(t?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=zP(e,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];bP.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,e=>e.width)||l);return s?TP(l,s<0):l||null}(this.dom,e,t)}}class HP extends BP{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(RP(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,i,o){return(!n||!(!(n instanceof HP&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&o<=0))&&(qP(this,e,t,n?n.children.slice():[],i-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,i=0;for(let o of this.children){let s=n+o.length;s>e&&t.push(n<e?o.split(e-n):o),r<0&&n>=e&&(r=i),n=s,i++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new HP(this.mark,t,o)}domAtPos(e){return eE(this,e)}coordsAt(e,t){return nE(this,e,t)}}class KP extends BP{static create(e,t,n){return new KP(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=KP.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,i,o){return!(n&&(!(n instanceof KP&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&o<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof KP&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return m$.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):m$.empty}domAtPos(e){return(this.length?0==e:this.side>0)?XP.before(this.dom):XP.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let t=o?r.length-1:0;i=r[t],!(e>0?0==t:t==r.length-1||i.top<i.bottom);t+=o?-1:1);return TP(i,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class JP extends BP{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof JP&&e.side==this.side}split(){return new JP(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?XP.before(this.dom):XP.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return m$.empty}get isHidden(){return!0}}function eE(e,t){let n=e.dom,{children:r}=e,i=0;for(let e=0;i<r.length;i++){let o=r[i],s=e+o.length;if(!(s==e&&o.getSide()<=0)){if(t>e&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-e);if(t<=e)break;e=s}}for(let e=i;e>0;e--){let t=r[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=i;e<r.length;e++){let t=r[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new XP(n,0)}function tE(e,t,n){let r,{children:i}=e;n>0&&t instanceof HP&&i.length&&(r=i[i.length-1])instanceof HP&&r.mark.eq(t.mark)?tE(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function nE(e,t,n){let r=null,i=-1,o=null,s=-1;!function e(t,a){for(let l=0,c=0;l<t.children.length&&c<=a;l++){let u=t.children[l],d=c+u.length;d>=a&&(u.children.length?e(u,a-c):(!o||o.isHidden&&(n>0||rE(o,u)))&&(d>a||c==d&&u.getSide()>0)?(o=u,s=a-c):(c<a||c==d&&u.getSide()<0&&!u.isHidden)&&(r=u,i=a-c)),c=d}}(e,t);let a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=kP(t);return n[n.length-1]||null}(e)}function rE(e,t){let n=e.coordsAt(0,1),r=t.coordsAt(0,1);return n&&r&&r.top<n.bottom}function iE(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}GP.prototype.children=KP.prototype.children=JP.prototype.children=VP;const oE=Object.create(null);function sE(e,t,n){if(e==t)return!0;e||(e=oE),t||(t=oE);let r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(-1==i.indexOf(o)||e[o]!==t[o]))return!1;return!0}function aE(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,"style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function lE(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class cE{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var uE=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(uE||(uE={}));class dE extends A_{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new hE(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new pE(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:i,end:o}=mE(e,r);t=(i?r?-3e8:-1:5e8)-1,n=1+(o?r?2e8:1:-6e8)}return new pE(e,t,n,r,e.widget||null,!0)}static line(e){return new fE(e)}static set(e,t=!1){return z_.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}dE.none=z_.empty;class hE extends dE{constructor(e){let{start:t,end:n}=mE(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof hE&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&sE(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}hE.prototype.point=!1;class fE extends dE{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof fE&&this.spec.class==e.spec.class&&sE(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}fE.prototype.mapMode=T$.TrackBefore,fE.prototype.point=!0;class pE extends dE{constructor(e,t,n,r,i,o){super(t,n,i,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?T$.TrackBefore:T$.TrackAfter:T$.TrackDel}get type(){return this.startSide!=this.endSide?uE.WidgetRange:this.startSide<=0?uE.WidgetBefore:uE.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof pE&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function mE(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function gE(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}pE.prototype.point=!0;class vE extends BP{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,i,o){if(n){if(!(n instanceof vE))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),qP(this,e,t,n?n.children.slice():[],i,o),!0}split(e){let t=new vE;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){sE(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){tE(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=iE(t,this.attrs||{})),n&&(this.attrs=iE({class:n},this.attrs||{}))}domAtPos(e){return eE(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(RP(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(aE(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&BP.get(r)instanceof HP;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=BP.get(r))||void 0===n?void 0:n.isEditable)||bP.ios&&this.children.some(e=>e instanceof GP)))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof GP)||/[^ -~]/.test(n.text))return null;let r=kP(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=nE(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(e){return e instanceof vE&&0==this.children.length&&0==e.children.length&&sE(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let i=e.children[n],o=r+i.length;if(o>=t){if(i instanceof vE)return i;if(o>t)break}r=o+i.breakAfter}return null}}class OE extends BP{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,i,o){return!(n&&(!(n instanceof OE&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&o<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?XP.before(this.dom):XP.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new OE(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return VP}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):m$.empty}domBoundsAround(){return null}become(e){return e instanceof OE&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof yE?null:TP(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class yE extends cE{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class bE{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof OE&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new vE),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wE(new JP(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof OE||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e),i=Math.min(r,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(wE(new GP(this.text.slice(this.textOff,this.textOff+i)),t),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=r<=i?0:t.length}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof pE){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(n instanceof pE)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new OE(n.widget||xE.block,s,n));else{let o=KP.create(n.widget||xE.inline,s,s?0:n.startSide),a=this.atCursorPos&&!o.isEditable&&i<=r.length&&(e<t||n.startSide>0),l=!o.isEditable&&(e<t||i>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||o.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),a&&(c.append(wE(new JP(1),r),i),i=r.length+Math.max(0,i-r.length)),c.append(wE(o,r),i),this.atCursorPos=l,this.pendingBuffer=l?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,n,r,i){let o=new bE(e,t,n,i);return o.openEnd=z_.spans(r,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function wE(e,t){for(let n of t)e=new HP(n,[e],e.length);return e}class xE extends cE{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}xE.inline=new xE("span"),xE.block=new xE("div");var SE=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(SE||(SE={}));const kE=SE.LTR,$E=SE.RTL;function _E(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const PE=_E("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),EE=_E("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),CE=Object.create(null),TE=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);CE[t]=n,CE[n]=-t}function IE(e){return e<=247?PE[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?EE[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const QE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class AE{get dir(){return this.level%2?$E:kE}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let i=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=t&&s.to>=t){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<t:s.to>t:e[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}function NE(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!NE(r.inner,i.inner))return!1}return!0}const ME=[];function DE(e,t,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=t,c=0;l<n;){let t=!0,u=!1;if(c==o.length||l<o[c].from){let e=ME[l];e!=a&&(t=!1,u=16==e)}let d=t||1!=a?null:[],h=t?r:r+1,f=l;e:for(;;)if(c<o.length&&f==o[c].from){if(u)break e;let p=o[c];if(!t)for(let e=p.to,t=c+1;;){if(e==n)break e;if(!(t<o.length&&o[t].from==e)){if(ME[e]==a)break e;break}e=o[t++].to}if(c++,d)d.push(p);else{p.from>l&&s.push(new AE(l,p.from,h)),zE(e,p.direction==kE!=!(h%2)?r+1:r,i,p.inner,p.from,p.to,s),l=p.to}f=p.to}else{if(f==n||(t?ME[f]!=a:ME[f]==a))break;f++}d?DE(e,l,f,r+1,i,d,s):l<f&&s.push(new AE(l,f,h)),l=f}else for(let l=n,c=o.length;l>t;){let n=!0,u=!1;if(!c||l>o[c-1].to){let e=ME[l-1];e!=a&&(n=!1,u=16==e)}let d=n||1!=a?null:[],h=n?r:r+1,f=l;e:for(;;)if(c&&f==o[c-1].to){if(u)break e;let p=o[--c];if(!n)for(let e=p.from,n=c;;){if(e==t)break e;if(!n||o[n-1].to!=e){if(ME[e-1]==a)break e;break}e=o[--n].from}if(d)d.push(p);else{p.to<l&&s.push(new AE(p.to,l,h)),zE(e,p.direction==kE!=!(h%2)?r+1:r,i,p.inner,p.from,p.to,s),l=p.from}f=p.from}else{if(f==t||(n?ME[f-1]!=a:ME[f-1]==a))break;f--}d?DE(e,f,l,r+1,i,d,s):f<l&&s.push(new AE(f,l,h)),l=f}}function zE(e,t,n,r,i,o,s){let a=t%2?2:1;!function(e,t,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:t,a=o<r.length?r[o].from:n,l=o?256:i;for(let t=s,n=l,r=l;t<a;t++){let i=IE(e.charCodeAt(t));512==i?i=n:8==i&&4==r&&(i=16),ME[t]=4==i?2:i,7&i&&(r=i),n=i}for(let e=s,t=l,r=l;e<a;e++){let i=ME[e];if(128==i)e<a-1&&t==ME[e+1]&&24&t?i=ME[e]=t:ME[e]=256;else if(64==i){let i=e+1;for(;i<a&&64==ME[i];)i++;let o=e&&8==t||i<n&&8==ME[i]?1==r?1:8:256;for(let t=e;t<i;t++)ME[t]=o;e=i-1}else 8==i&&1==r&&(ME[e]=1);t=i,7&i&&(r=i)}}}(e,i,o,r,a),function(e,t,n,r,i){let o=1==i?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:t,u=s<r.length?r[s].from:n;for(let t,n,r,s=c;s<u;s++)if(n=CE[t=e.charCodeAt(s)])if(n<0){for(let e=a-3;e>=0;e-=3)if(TE[e+1]==-n){let t=TE[e+2],n=2&t?i:4&t?1&t?o:i:0;n&&(ME[s]=ME[TE[e]]=n),a=e;break}}else{if(189==TE.length)break;TE[a++]=s,TE[a++]=t,TE[a++]=l}else if(2==(r=ME[s])||1==r){let e=r==i;l=e?0:1;for(let t=a-3;t>=0;t-=3){let n=TE[t+2];if(2&n)break;if(e)TE[t+2]|=2;else{if(4&n)break;TE[t+2]|=4}}}}}(e,i,o,r,a),function(e,t,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:e,a=i<n.length?n[i].from:t;for(let l=s;l<a;){let s=ME[l];if(256==s){let s=l+1;for(;;)if(s==a){if(i==n.length)break;s=n[i++].to,a=i<n.length?n[i].from:t}else{if(256!=ME[s])break;s++}let c=1==o,u=c==(1==(s<t?ME[s]:r))?c?1:2:r;for(let t=s,r=i,o=r?n[r-1].to:e;t>l;)t==o&&(t=n[--r].from,o=r?n[r-1].to:e),ME[--t]=u;l=s}else o=s,l++}}}(i,o,r,a),DE(e,i,o,t,n,r,s)}function jE(e,t,n){if(!e)return[new AE(0,0,t==$E?1:0)];if(t==kE&&!n.length&&!QE.test(e))return RE(e.length);if(n.length)for(;e.length>ME.length;)ME[ME.length]=256;let r=[],i=t==kE?0:1;return zE(e,i,i,n,0,e.length,r),r}function RE(e){return[new AE(0,e,0)]}let ZE="";function LE(e,t,n,r,i){var o;let s=r.head-e.from,a=AE.find(t,s,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc),l=t[a],c=l.side(i,n);if(s==c){let e=a+=i?1:-1;if(e<0||e>=t.length)return null;l=t[a=e],s=l.side(!i,n),c=l.side(i,n)}let u=$$(e.text,s,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),ZE=e.text.slice(Math.min(s,u),Math.max(s,u));let d=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?Z$.cursor(d.side(!i,n)+e.from,d.forward(i,n)?1:-1,d.level):Z$.cursor(u+e.from,l.forward(i,n)?-1:1,l.level)}function UE(e,t,n){for(let r=t;r<n;r++){let t=IE(e.charCodeAt(r));if(1==t)return kE;if(2==t||4==t)return $E}return kE}const XE=X$.define(),VE=X$.define(),BE=X$.define(),YE=X$.define(),WE=X$.define(),FE=X$.define(),qE=X$.define(),GE=X$.define(),HE=X$.define(),KE=X$.define({combine:e=>e.some(e=>e)}),JE=X$.define({combine:e=>e.some(e=>e)}),eC=X$.define();class tC{constructor(e,t="nearest",n="nearest",r=5,i=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=o}map(e){return e.empty?this:new tC(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new tC(Z$.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const nC=y_.define({map:(e,t)=>e.map(t)}),rC=y_.define();function iC(e,t,n){let r=e.facet(YE);r.length?r[0](t):window.onerror&&window.onerror(String(t),n,void 0,void 0,t)||(n?console.error(n+":",t):console.error(t))}const oC=X$.define({combine:e=>!e.length||e[0]});let sC=0;const aC=X$.define({combine:e=>e.filter((t,n)=>{for(let r=0;r<n;r++)if(e[r].plugin==t.plugin)return!1;return!0})});class lC{constructor(e,t,n,r,i){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.baseExtensions=i(this),this.extension=this.baseExtensions.concat(aC.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(aC.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:i,decorations:o}=t||{};return new lC(sC++,e,n,r,e=>{let t=[];return o&&t.push(hC.of(t=>{let n=t.plugin(e);return n?o(n):dE.none})),i&&t.push(i(e)),t})}static fromClass(e,t){return lC.define((t,n)=>new e(t,n),t)}}class cC{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(iC(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){iC(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){iC(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const uC=X$.define(),dC=X$.define(),hC=X$.define(),fC=X$.define(),pC=X$.define(),mC=X$.define();function gC(e,t){let n=e.state.facet(mC);if(!n.length)return n;let r=n.map(t=>t instanceof Function?t(e):t),i=[];return z_.spans(r,t.from,t.to,{point(){},span(e,n,r,o){let s=e-t.from,a=n-t.from,l=i;for(let e=r.length-1;e>=0;e--,o--){let n,i=r[e].spec.bidiIsolate;if(null==i&&(i=UE(t.text,s,a)),o>0&&l.length&&(n=l[l.length-1]).to==s&&n.direction==i)n.to=a,l=n.inner;else{let e={from:s,to:a,direction:i,inner:[]};l.push(e),l=e.inner}}}}),i}const vC=X$.define();function OC(e){let t=0,n=0,r=0,i=0;for(let o of e.state.facet(vC)){let s=o(e);s&&(null!=s.left&&(t=Math.max(t,s.left)),null!=s.right&&(n=Math.max(n,s.right)),null!=s.top&&(r=Math.max(r,s.top)),null!=s.bottom&&(i=Math.max(i,s.bottom)))}return{left:t,right:n,top:r,bottom:i}}const yC=X$.define();class bC{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new bC(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,i=0,o=0,s=0;;r++){let a=r==e.length?null:e[r],l=o-s,c=a?a.fromB:1e9;for(;i<t.length&&t[i]<c;){let e=t[i],r=t[i+1],o=Math.max(s,e),a=Math.min(c,r);if(o<=a&&new bC(o+l,a+l,o,a).addToSet(n),r>c)break;i+=2}if(!a)return n;new bC(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,s=a.toB}}}class wC{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Q$.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges((e,t,n,i)=>r.push(new bC(e,t,n,i))),this.changedRanges=r}static create(e,t,n){return new wC(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class xC extends BP{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=dE.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new vE],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new bC(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?r=this.domChanged.newSel.head:function(e,t){let n=!1;t&&e.iterChangedRanges((e,r)=>{e<t.to&&r>t.from&&(n=!0)});return n}(e.changes,this.hasComposition)||e.selectionSet||(r=e.state.selection.main.head));let i=r>-1?function(e,t,n){let r=SC(e,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(r.from,r.to)!=a)return null;let l=t.invertedDesc,c=new bC(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let t=i.parentNode;;t=t.parentNode){let n=BP.get(t);if(n instanceof HP)u.push({node:t,deco:n.mark});else{if(n instanceof vE||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:c,text:i,marks:u,line:t};if(t==e.contentDOM)return null;u.push({node:t,deco:new hE({inclusive:!0,attributes:lE(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;n=new bC(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(bP.ie||bP.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=function(e,t,n){let r=new kC;return z_.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=bC.extendWithRanges(n,o),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=bP.chrome||bP.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(e=>e.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof OE&&e.widget instanceof yE&&i.push(e.dom);r.updateGaps(i)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let e=r.length-1;;e--){let t=e>=0?r[e]:null;if(!t)break;let o,s,a,l,{fromA:c,toA:u,fromB:d,toB:h}=t;if(n&&n.range.fromB<h&&n.range.toB>d){let e=bE.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),t=bE.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);s=e.breakAtStart,a=e.openStart,l=t.openEnd;let r=this.compositionView(n);t.breakAtStart?r.breakAfter=1:t.content.length&&r.merge(r.length,r.length,t.content[0],!1,t.openStart,0)&&(r.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&r.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),o=e.content.concat(r).concat(t.content)}else({content:o,breakAtStart:s,openStart:a,openEnd:l}=bE.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=i.findPos(u,1),{i:m,off:g}=i.findPos(c,-1);FP(this,m,g,f,p,o,s,a,l)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(rC)&&(this.editContextFormatting=e.value)}compositionView(e){let t=new GP(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new HP(n,[t],t.length);let n=new vE;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some(e=>7&e.flags)?1:0),this.markedForComposition.add(t);let n=BP.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let i=e.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],t(i>=0?e.marks[i].node:e.text,r)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&!(this.view.state.facet(oC)||this.dom.tabIndex>-1)&&SP(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||i))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(s.anchor)),l=s.empty?a:this.moveToLine(this.domAtPos(s.head));if(bP.gecko&&s.empty&&!this.hasComposition&&(1==(c=a).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(e,a.node.childNodes[a.offset]||null)),a=l=new XP(e,0),o=!0}var c;let u=this.view.observer.selectionRange;!o&&u.focusNode&&($P(a.node,a.offset,u.anchorNode,u.anchorOffset)&&$P(l.node,l.offset,u.focusNode,u.focusOffset)||this.suppressWidgetCursorChange(u,s))||(this.view.observer.ignore(()=>{bP.android&&bP.chrome&&this.dom.contains(u.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=wP(this.view.root);if(e)if(s.empty){if(bP.gecko){let e=function(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}(a.node,a.offset);if(e&&3!=e){let t=(1==e?LP:UP)(a.node,a.offset);t&&(a=new XP(t.node,t.offset))}}e.collapse(a.node,a.offset),null!=s.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=s.bidiLevel)}else if(e.extend){e.collapse(a.node,a.offset);try{e.extend(l.node,l.offset)}catch(e){}}else{let t=document.createRange();s.anchor>s.head&&([a,l]=[l,a]),t.setEnd(l.node,l.offset),t.setStart(a.node,a.offset),e.removeAllRanges(),e.addRange(t)}else;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(a,l)),this.impreciseAnchor=a.precise?null:new XP(u.anchorNode,u.anchorOffset),this.impreciseHead=l.precise?null:new XP(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&$P(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=wP(e.root),{anchorNode:r,anchorOffset:i}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let o=vE.find(this,t.head);if(!o)return;let s=o.posAtStart;if(t.head==s||t.head==s+o.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,i)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let r=e.offset;!t&&r<n.childNodes.length;r++){let e=BP.get(n.childNodes[r]);e instanceof vE&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=BP.get(n.childNodes[r]);e instanceof vE&&(t=e.domAtPos(e.length))}return t?new XP(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=BP.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof vE)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let i=this.length,o=this.children.length-1;o>=0;o--){let s=this.children[o],a=i-s.breakAfter,l=a-s.length;if(a<e)break;if(l<=e&&(l<e||s.covers(-1))&&(a>e||s.covers(1))&&(!n||s instanceof vE&&!(n instanceof vE&&t>=0)))n=s,r=l;else if(n&&l==e&&a==e&&s instanceof OE&&Math.abs(t)<2){if(s.deco.startSide<0)break;o&&(n=null)}i=l}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof vE))return null;for(;r.children.length;){let{i:e,off:t}=r.childPos(n,1);for(;;e++){if(e==r.children.length)return null;if((r=r.children[e]).length)break}n=t}if(!(r instanceof GP))return null;let i=$$(r.text,n);if(i==n)return null;let o=zP(r.dom,n,i).getClientRects();for(let e=0;e<o.length;e++){let t=o[e];if(e==o.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==SE.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],u=e+c.length;if(u>r)break;if(e>=n){let n=c.dom.getBoundingClientRect();if(t.push(n.height),o){let t=c.dom.lastChild,r=t?kP(t):[];if(r.length){let t=r[r.length-1],o=a?t.right-n.left:n.right-t.left;o>s&&(s=o,this.minWidth=i,this.minWidthFrom=e,this.minWidthTo=u)}}}e=u+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?SE.RTL:SE.LTR}measureTextSize(){for(let e of this.children)if(e instanceof vE){let t=e.measureTextSize();if(t)return t}let e,t,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(r);let i=kP(r.firstChild)[0];e=r.getBoundingClientRect().height,t=i?i.width/27:7,n=i?i.height:e,r.remove()}),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new WP(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let i=r==t.viewports.length?null:t.viewports[r],o=i?i.from-1:this.length;if(o>n){let r=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(dE.replace({widget:new yE(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return dE.set(e)}updateDeco(){let e=1,t=this.view.state.facet(hC).map(t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t),n=!1,r=this.view.state.facet(fC).map((e,t)=>{let r="function"==typeof e;return r&&(n=!0),r?e(this.view):e});for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push(z_.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let t of this.view.state.facet(eC))try{if(t(this.view,e.range,e))return!0}catch(e){iC(this.view.state,e,"scroll handler")}let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let i=OC(this.view),o={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:s,offsetHeight:a}=this.view.scrollDOM;!function(e,t,n,r,i,o,s,a){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,d=!1;u&&!d;)if(1==u.nodeType){let e,h=u==l.body,f=1,p=1;if(h)e=IP(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:f,scaleY:p}=QP(u,t)),e={left:t.left,right:t.left+u.clientWidth*f,top:t.top,bottom:t.top+u.clientHeight*p}}let m=0,g=0;if("nearest"==i)t.top<e.top?(g=t.top-(e.top+s),n>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+s)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+s,n<0&&t.top-g<e.top&&(g=t.top-(e.top+s)));else{let r=t.bottom-t.top,o=e.bottom-e.top;g=("center"==i&&r<=o?t.top+r/2-o/2:"start"==i||"center"==i&&n<0?t.top-s:t.bottom-o+s)-e.top}if("nearest"==r?t.left<e.left?(m=t.left-(e.left+o),n>0&&t.right>e.right+m&&(m=t.right-e.right+o)):t.right>e.right&&(m=t.right-e.right+o,n<0&&t.left<e.left+m&&(m=t.left-(e.left+o))):m=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-o:t.right-(e.right-e.left)+o)-e.left,m||g)if(h)c.scrollBy(m,g);else{let e=0,n=0;if(g){let e=u.scrollTop;u.scrollTop+=g/p,n=(u.scrollTop-e)*p}if(m){let t=u.scrollLeft;u.scrollLeft+=m/f,e=(u.scrollLeft-t)*f}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-m)<1&&(r="nearest"),n&&Math.abs(n-g)<1&&(i="nearest")}if(h)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==SE.LTR)}}function SC(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let r=LP(n.focusNode,n.focusOffset),i=UP(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let t=BP.get(i.node);if(!t||t instanceof GP&&t.text!=i.node.nodeValue)o=i;else if(e.docView.lastCompositionAfterCursor){let e=BP.get(r.node);!e||e instanceof GP&&e.text!=r.node.nodeValue||(o=i)}}if(e.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=t-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}let kC=class{constructor(){this.changes=[]}compareRange(e,t){gE(e,t,this.changes)}comparePoint(e,t){gE(e,t,this.changes)}boundChange(e){gE(e,e,this.changes)}};function $C(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function _C(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function PC(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function EC(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function CC(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function TC(e,t,n){let r,i,o,s,a,l,c,u,d=!1;for(let h=e.firstChild;h;h=h.nextSibling){let e=kP(h);for(let f=0;f<e.length;f++){let p=e[f];i&&PC(i,p)&&(p=EC(CC(p,i.bottom),i.top));let m=$C(t,p),g=_C(n,p);if(0==m&&0==g)return 3==h.nodeType?IC(h,t,n):TC(h,t,n);(!r||s>g||s==g&&o>m)&&(r=h,i=p,o=m,s=g,d=!m||(t<p.left?f>0:f<e.length-1)),0==m?n>p.bottom&&(!c||c.bottom<p.bottom)?(a=h,c=p):n<p.top&&(!u||u.top>p.top)&&(l=h,u=p):c&&PC(c,p)?c=CC(c,p.bottom):u&&PC(u,p)&&(u=EC(u,p.top))}}if(c&&c.bottom>=n?(r=a,i=c):u&&u.top<=n&&(r=l,i=u),!r)return{node:e,offset:0};let h=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?IC(r,h,n):d&&"false"!=r.contentEditable?TC(r,h,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function IC(e,t,n){let r=e.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let r=zP(e,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<o){let n=t>=(c.left+c.right)/2,r=n;if(bP.chrome||bP.gecko){zP(e,a).getBoundingClientRect().left==c.right&&(r=!n)}if(u<=0)return{node:e,offset:a+(r?1:0)};i=a+(r?1:0),o=u}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function QC(e,t,n,r=-1){var i,o;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:u,y:d}=t,h=d-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,i=!1;s=e.elementAtHeight(h),s.type!=uE.Text;)for(;h=r>0?s.bottom+t:s.top-t,!(h>=0&&h<=c);){if(i)return n?null:0;i=!0,r=-r}d=l+h;let f=s.from;if(f<e.viewport.from)return 0==e.viewport.from?0:n?null:AC(e,a,s,u,d);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:AC(e,a,s,u,d);let p=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:p,g=m.elementFromPoint(u,d);g&&!e.contentDOM.contains(g)&&(g=null),g||(u=Math.max(a.left+1,Math.min(a.right-1,u)),g=m.elementFromPoint(u,d),g&&!e.contentDOM.contains(g)&&(g=null));let v,O=-1;if(g&&0!=(null===(i=e.docView.nearest(g))||void 0===i?void 0:i.isEditable)){if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(u,d);e&&({offsetNode:v,offset:O}=e)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(u,d);e&&({startContainer:v,startOffset:O}=e)}v&&(!e.contentDOM.contains(v)||bP.safari&&function(e,t,n){return NC(e,t,n)}(v,O,u)||bP.chrome&&function(e,t,n){if(0!=t)return NC(e,t,n);for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}let r=1==e.nodeType?e.getBoundingClientRect():zP(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(v,O,u))&&(v=void 0),v&&(O=Math.min(CP(v),O))}if(!v||!e.docView.dom.contains(v)){let t=vE.find(e.docView,f);if(!t)return h>s.top+s.height/2?s.to:s.from;({node:v,offset:O}=TC(t.dom,u,d))}let y=e.docView.nearest(v);if(!y)return null;if(y.isWidget&&1==(null===(o=y.dom)||void 0===o?void 0:o.nodeType)){let e=y.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?y.posAtStart:y.posAtEnd}return y.localPosFromDOM(v,O)+y.posAtStart}function AC(e,t,n,r,i){let o=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;o+=Math.floor((i-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+G_(s,o,e.state.tabSize)}function NC(e,t,n){let r,i=e;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(;;){let e=i.nextSibling;if(e){if("BR"==e.nodeName)break;return!1}{let e=i.parentNode;if(!e||"DIV"==e.nodeName)break;i=e}}return zP(e,r-1,r).getBoundingClientRect().right>n}function MC(e,t,n){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let e;for(let i of r.type){if(i.from>t)break;if(!(i.to<t)){if(i.from<t&&i.to>t)return i;e&&(i.type!=uE.Text||e.type==i.type&&!(n<0?i.from<t:i.to>t))||(e=i)}}return e||r}return r}function DC(e,t,n,r){let i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),s=e.textDirectionAt(i.from);for(let a=t,l=null;;){let t=LE(i,o,s,a,n),c=ZE;if(!t){if(i.number==(n?e.state.doc.lines:1))return a;c="\n",i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),t=e.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!r)return t;l=r(c)}a=t}}function zC(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,(e,i,o)=>{if(t>e&&t<i){let o=r||n||(t-e<i-t?-1:1);t=o<0?e:i,r=o}});if(!r)return t}}function jC(e,t){let n=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],o=null;if(i.empty){let t=zC(e,i.from,0);t!=i.from&&(o=Z$.cursor(t,-1))}else{let t=zC(e,i.from,-1),n=zC(e,i.to,1);t==i.from&&n==i.to||(o=Z$.range(i.from==i.anchor?t:n,i.from==i.head?t:n))}o&&(n||(n=t.ranges.slice()),n[r]=o)}return n?Z$.create(n,t.mainIndex):t}function RC(e,t,n){let r=zC(e.state.facet(pC).map(t=>t(e)),n.from,t.head>n.from?-1:1);return r==n.from?n:Z$.cursor(r,r<n.from?1:-1)}const ZC="￿";class LC{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(I_.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ZC}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==t)break;let o=BP.get(r),s=BP.get(i);(o&&s?o.breakAfter:(o?o.breakAfter:PP(r))||PP(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&!XC(i,t)&&this.lineBreak(),r=i}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,o=-1,s=1;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(i=r.exec(t))&&(o=i.index,s=i[0].length),this.append(t.slice(n,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=o+s}}readNode(e){if(e.cmIgnore)return;let t=BP.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(UC(e,n.node,n.offset)?t:0))}}function UC(e,t,n){for(;;){if(!t||n<CP(t))return!1;if(t==e)return!0;n=_P(t)+1,t=t.parentNode}}function XC(e,t){let n;for(;e!=t&&e;e=e.nextSibling){let t=BP.get(e);if(!(null==t?void 0:t.isWidget)&&!e.cmIgnore)return!1;t&&(n||(n=[])).push(t)}if(n)for(let e of n){let t=e.overrideDOMText;if(null==t?void 0:t.length)return!1}return!0}class VC{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class BC{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:i,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=i||o?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=e.observer.selectionRange;n&&(t.push(new VC(n,r)),i==n&&o==r||t.push(new VC(i,o)));return t}(e),n=new LC(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?Z$.single(n+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=i&&i.node==t.focusNode&&i.offset==t.focusOffset||!xP(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!xP(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),s=e.viewport;if((bP.ios||bP.chrome)&&e.state.selection.main.empty&&n!=r&&(s.from>0||s.to<e.state.doc.length)){let t=Math.min(n,r),i=Math.max(n,r),o=s.from-t,a=s.to-i;0!=o&&1!=o&&0!=t||0!=a&&-1!=a&&i!=e.state.doc.length||(n=0,r=e.state.doc.length)}this.newSel=Z$.single(r,n)}}}function YC(e,t){let n,{newSel:r}=t,i=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:s}=t.bounds,a=i.from,l=null;(8===o||bP.android&&t.text.length<s-r)&&(a=i.to,l="end");let c=FC(e.state.doc.sliceString(r,s,ZC),t.text,a-r,l);c&&(bP.chrome&&13==o&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==ZC+ZC&&c.toB--,n={from:r+c.from,to:r+c.toA,insert:m$.of(t.text.slice(c.from,c.toB).split(ZC))})}else r&&(!e.hasFocus&&e.state.facet(oC)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:(bP.mac||bP.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=Z$.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:m$.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:bP.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=Z$.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:m$.of([" "])}),n)return WC(e,n,r,o);if(r&&!r.main.eq(i)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin,"select.pointer"==n&&(r=jC(e.state.facet(pC).map(t=>t(e)),r))),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}return!1}function WC(e,t,n,r=-1){if(bP.ios&&e.inputState.flushIOSKey(t))return!0;let i=e.state.selection.main;if(bP.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&" "==e.state.sliceDoc(t.from,i.from))&&1==t.insert.length&&2==t.insert.lines&&jP(e.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&0==t.insert.length||8==r&&t.insert.length<t.to-t.from&&t.to>i.head)&&jP(e.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&0==t.insert.length&&jP(e.contentDOM,"Delete",46)))return!0;let o,s=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a=()=>o||(o=function(e,t,n){let r,i=e.state,o=i.selection.main,s=-1;if(t.from==t.to&&t.from<o.from||t.from>o.to){let n=t.from<o.from?-1:1,r=n<0?o.from:o.to,a=zC(i.facet(pC).map(t=>t(e)),r,n);t.from==a&&(s=a)}if(s>-1)r={changes:t,selection:Z$.cursor(t.from+t.insert.length,-1)};else if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=o.from<t.from?i.sliceDoc(o.from,t.from):"",s=o.to>t.to?i.sliceDoc(t.to,o.to):"";r=i.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let s=i.changes(t),a=n&&n.main.to<=s.newLength?n.main:void 0;if(i.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let l,c=e.state.sliceDoc(t.from,t.to),u=n&&SC(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);l={from:u.from,to:u.to-e}}else l=e.state.doc.lineAt(o.head);let d=o.to-t.to,h=o.to-o.from;r=i.changeByRange(n=>{if(n.from==o.from&&n.to==o.to)return{changes:s,range:a||n.map(s)};let r=n.to-d,u=r-c.length;if(n.to-n.from!=h||e.state.sliceDoc(u,r)!=c||n.to>=l.from&&n.from<=l.to)return{range:n};let f=i.changes({from:u,to:r,insert:t.insert}),p=n.to-o.to;return{changes:f,range:a?Z$.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):n.map(f)}})}else r={changes:s,selection:a&&i.selection.replaceRange(a)}}let a="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1));return i.update(r,{userEvent:a,scrollIntoView:!0})}(e,t,n));return e.state.facet(FE).some(n=>n(e,t.from,t.to,s,a))||e.dispatch(a()),!0}function FC(e,t,n,r){let i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==r){n-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.length<t.length){o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o}else if(a<o){o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}class qC{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,bP.safari&&e.contentDOM.addEventListener("input",()=>null),bP.gecko&&function(e){xT.has(e)||(xT.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=BP.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e)))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=HC(e),n=this.handlers,r=this.view.contentDOM;for(let e in t)if("scroll"!=e){let i=!t[e].handlers.length,o=n[e];o&&i!=!o.handlers.length&&(r.removeEventListener(e,this.handleEvent),o=null),o||r.addEventListener(e,this.handleEvent,{passive:i})}for(let e in n)"scroll"==e||t[e]||r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=e.keyCode&&eT.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),bP.android&&bP.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!bP.ios||e.synthetic||e.altKey||e.metaKey||!((t=KC.find(t=>t.keyCode==e.keyCode))&&!e.ctrlKey||JC.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,jP(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0)))}ignoreDuringComposition(e){return!(!/^key/.test(e.type)||e.synthetic)&&(this.composing>0||!!(bP.safari&&!bP.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function GC(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(e){iC(n.state,e)}}}function HC(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec,r=e&&e.plugin.domEventHandlers,i=e&&e.plugin.domEventObservers;if(r)for(let e in r){let i=r[e];i&&n(e).handlers.push(GC(t.value,i))}if(i)for(let e in i){let r=i[e];r&&n(e).observers.push(GC(t.value,r))}}for(let e in rT)n(e).handlers.push(rT[e]);for(let e in iT)n(e).observers.push(iT[e]);return t}const KC=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],JC="dthko",eT=[16,17,18,20,91,92,224,225];function tT(e){return.7*Math.max(0,e)+8}class nT{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(e){let t,n,r=e.ownerDocument;for(let i=e.parentNode;i&&!(i==r.body||t&&n);)if(1==i.nodeType)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}return{x:t,y:n}}(e.contentDOM),this.atoms=e.state.facet(pC).map(t=>t(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(I_.allowMultipleSelections)&&function(e,t){let n=e.state.facet(XE);return n.length?n[0](t):bP.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=wP(e.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){let n=i[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=gT(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(t=this.startEvent,n=e,Math.max(Math.abs(t.clientX-n.clientX),Math.abs(t.clientY-n.clientY))<10))return;var t,n;this.select(this.lastEvent=e);let r=0,i=0,o=0,s=0,a=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=OC(this.view);e.clientX-c.left<=o+6?r=-tT(o-e.clientX):e.clientX+c.right>=a-6&&(r=tT(e.clientX-a)),e.clientY-c.top<=s+6?i=-tT(s-e.clientY):e.clientY+c.bottom>=l-6&&(i=tT(e.clientY-l)),this.setScrollSpeed(r,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),!1===this.dragging&&this.select(this.lastEvent)}select(e){let{view:t}=this,n=jC(this.atoms,this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}const rT=Object.create(null),iT=Object.create(null),oT=bP.ie&&bP.ie_version<15||bP.ios&&bP.webkit_version<604;function sT(e,t,n){for(let r of e.facet(t))n=r(n,e);return n}function aT(e,t){t=sT(e.state,GE,t);let n,{state:r}=e,i=1,o=r.toText(t),s=o.lines==r.selection.ranges.length;if(null!=OT&&r.selection.ranges.every(e=>e.empty)&&OT==o.toString()){let e=-1;n=r.changeByRange(n=>{let a=r.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let l=r.toText((s?o.line(i++).text:t)+r.lineBreak);return{changes:{from:a.from,insert:l},range:Z$.cursor(n.from+l.length)}})}else n=s?r.changeByRange(e=>{let t=o.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Z$.cursor(e.from+t.length)}}):r.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function lT(e,t,n,r){if(1==r)return Z$.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(0==i.length)return Z$.cursor(t);0==o?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=$$(i.text,o,!1):a=$$(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let e=$$(i.text,s,!1);if(r(i.text.slice(e,s))!=l)break;s=e}for(;a<i.length;){let e=$$(i.text,a);if(r(i.text.slice(a,e))!=l)break;a=e}return Z$.range(s+i.from,a+i.from)}(e.state,t,n);{let n=vE.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),i=n?n.posAtStart:r.from,o=n?n.posAtEnd:r.to;return o<e.state.doc.length&&o==r.to&&o++,Z$.range(i,o)}}iT.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},rT.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),iT.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},iT.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},rT.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(BE))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=dT(e,t),r=gT(t),i=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get(t,o,s){let a,l=dT(e,t),c=lT(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let t=lT(e,n.pos,n.bias,r),i=Math.min(t.from,c.from),o=Math.max(t.to,c.to);c=i<c.from?Z$.range(i,o):Z$.range(o,i)}return o?i.replaceRange(i.main.extend(c.from,c.to)):s&&1==r&&i.ranges.length>1&&(a=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:i}=e.ranges[n];if(r<=t&&i>=t)return Z$.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(i,l.pos))?a:s?i.addRange(c):Z$.create([c])}}}(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new nT(e,t,n,r)),r&&e.observer.ignore(()=>{DP(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()});let i=e.inputState.mouseSelection;if(i)return i.start(t),!1===i.dragging}else e.inputState.setSelectionOrigin("select.pointer");return!1};let cT=(e,t,n)=>t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right;function uT(e,t,n,r){let i=vE.find(e.docView,t);if(!i)return 1;let o=t-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&cT(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&cT(n,r,a)?1:s&&s.bottom>=r?-1:1}function dT(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:uT(e,n,t.clientX,t.clientY)}}const hT=bP.ie&&bP.ie_version<=11;let fT=null,pT=0,mT=0;function gT(e){if(!hT)return e.detail;let t=fT,n=mT;return fT=e,mT=Date.now(),pT=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(pT+1)%3:1}function vT(e,t,n,r){if(!(n=sT(e.state,GE,n)))return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=e.inputState,s=r&&o&&function(e,t){let n=e.state.facet(VE);return n.length?n[0](t):bP.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:o.from,to:o.to}:null,a={from:i,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),e.inputState.draggedContent=null}rT.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let r=e.docView.nearest(t.target);if(r&&r.isWidget){let e=r.posAtStart,t=e+r.length;(e>=n.to||t<=n.from)&&(n=Z$.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",sT(e.state,HE,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1},rT.dragend=e=>(e.inputState.draggedContent=null,!1),rT.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&vT(e,t,r.filter(e=>null!=e).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=o,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return vT(e,t,n,!0),!0}return!1},rT.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=oT?null:t.clipboardData;return n?(aT(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{e.focus(),n.remove(),aT(e,n.value)},50)}(e),!1)};let OT=null;rT.copy=rT.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let i=-1;for(let{from:r}of e.selection.ranges){let o=e.doc.lineAt(r);o.number>i&&(t.push(o.text),n.push({from:o.from,to:Math.min(e.doc.length,o.to+1)})),i=o.number}r=!0}return{text:sT(e,HE,t.join(e.lineBreak)),ranges:n,linewise:r}}(e.state);if(!n&&!i)return!1;OT=i?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=oT?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),e.focus()},50)}(e,n),!1)};const yT=g_.define();function bT(e,t){let n=[];for(let r of e.facet(qE)){let i=r(e,t);i&&n.push(i)}return n.length?e.update({effects:n,annotations:yT.of(!0)}):null}function wT(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=bT(e.state,t);n?e.dispatch(n):e.update([])}},10)}iT.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),wT(e)},iT.blur=e=>{e.observer.clearSelectionRange(),wT(e)},iT.compositionstart=iT.compositionupdate=e=>{e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},iT.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,bP.chrome&&bP.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50))},iT.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},rT.beforeinput=(e,t)=>{var n,r;if("insertReplacementText"==t.inputType&&e.observer.editContext){let r=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),i=t.getTargetRanges();if(r&&i.length){let t=i[0],n=e.posAtDOM(t.startContainer,t.startOffset),o=e.posAtDOM(t.endContainer,t.endOffset);return WC(e,{from:n,to:o,insert:e.state.toText(r)},null),!0}}let i;if(bP.chrome&&bP.android&&(i=KC.find(e=>e.inputType==t.inputType))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout(()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return bP.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),bP.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout(()=>iT.compositionend(e,t),20),!1};const xT=new Set;const ST=["pre-wrap","normal","pre-line","break-spaces"];let kT=!1;function $T(){kT=!1}class _T{constructor(e){this.lineWrapping=e,this.doc=m$.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return ST.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,i,o){let s=ST.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=i,a){this.heightSamples={};for(let e=0;e<o.length;e++){let t=o[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class PT{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ET{constructor(e,t,n,r,i){this.from=e,this.length=t,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?uE.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof pE?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ET(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var CT=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(CT||(CT={}));const TT=.001;class IT{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>TT&&(kT=!0),this.height=e)}replace(e,t,n){return IT.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let i=this,o=n.doc;for(let s=r.length-1;s>=0;s--){let{fromA:a,toA:l,fromB:c,toB:u}=r[s],d=i.lineAt(a,CT.ByPosNoHeight,n.setDoc(t),0,0),h=d.to>=l?d:i.lineAt(l,CT.ByPosNoHeight,n,0,0);for(u+=h.to-l,l=h.to;s>0&&d.from<=r[s-1].toA;)a=r[s-1].fromA,c=r[s-1].fromB,s--,a<d.from&&(d=i.lineAt(a,CT.ByPosNoHeight,n,0,0));c+=d.from-a,a=d.from;let f=jT.build(n.setDoc(o),e,c,u);i=QT(i,i.replace(a,l,f))}return i.updateHeight(n,0)}static empty(){return new NT(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,i=0;for(;;)if(t==n)if(r>2*i){let i=e[t-1];i.break?e.splice(--t,1,i.left,null,i.right):e.splice(--t,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,i-=t.size}}else if(r<i){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(i+=t.size)}let o=0;return null==e[t-1]?(o=1,t--):null==e[t]&&(o=1,n++),new DT(IT.of(e.slice(0,t)),o,IT.of(e.slice(n)))}}function QT(e,t){return e==t?e:(e.constructor!=t.constructor&&(kT=!0),t)}IT.prototype.size=1;class AT extends IT{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new ET(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(e,t,n,r,i,o){e<=i+this.length&&t>=i&&o(this.blockAt(0,n,r,i))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class NT extends AT{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new ET(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof NT||r instanceof MT&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof MT?r=new NT(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):IT.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class MT extends IT{constructor(e){super(e,0)}heightMetrics(e,t){let n,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*o);n=t/o,this.length>o+1&&(s=(this.height-t)/(this.length-o-1))}else n=this.height/o;return{firstLine:r,lastLine:i,perLine:n,perChar:s}}blockAt(e,t,n,r){let{firstLine:i,lastLine:o,perLine:s,perChar:a}=this.heightMetrics(t,r);if(t.lineWrapping){let i=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),o=t.doc.lineAt(i),l=s+o.length*a,c=Math.max(n,e-l/2);return new ET(o.from,o.length,c,l,0)}{let r=Math.max(0,Math.min(o-i,Math.floor((e-n)/s))),{from:a,length:l}=t.doc.line(i+r);return new ET(a,l,n+s*r,s,0)}}lineAt(e,t,n,r,i){if(t==CT.ByHeight)return this.blockAt(e,n,r,i);if(t==CT.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new ET(t,r-t,0,0,0)}let{firstLine:o,perLine:s,perChar:a}=this.heightMetrics(n,i),l=n.doc.lineAt(e),c=s+l.length*a,u=l.number-o,d=r+s*u+a*(l.from-i-u);return new ET(l.from,l.length,Math.max(r,Math.min(d,r+this.height-c)),c,0)}forEachLine(e,t,n,r,i,o){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);for(let c=e,u=r;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-s;u+=a*n+l*(e-i-n)}let r=a+l*t.length;o(new ET(t.from,t.length,u,r,0)),u+=r,c=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof MT?n[n.length-1]=new MT(e.length+r):n.push(null,new MT(r-1))}if(e>0){let t=n[0];t instanceof MT?n[0]=new MT(e+t.length):n.unshift(new MT(e-1),null)}return IT.of(n)}decomposeLeft(e,t){t.push(new MT(e-1),null)}decomposeRight(e,t){t.push(null,new MT(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let i=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],o=Math.max(t,r.from),s=-1;for(r.from>t&&n.push(new MT(r.from-t-1).updateHeight(e,t));o<=i&&r.more;){let t=e.doc.lineAt(o).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==s?s=i:Math.abs(i-s)>=TT&&(s=-2);let a=new NT(t,i);a.outdated=!1,n.push(a),o+=t+1}o<=i&&n.push(null,new MT(i-o).updateHeight(e,o));let a=IT.of(n);return(s<0||Math.abs(a.height-this.height)>=TT||Math.abs(s-this.heightMetrics(e,t).perLine)>=TT)&&(kT=!0),QT(this,a)}return(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class DT extends IT{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}lineAt(e,t,n,r,i){let o=r+this.left.height,s=i+this.left.length+this.break,a=t==CT.ByHeight?e<o:e<s,l=a?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,o,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==CT.ByPosNoHeight?CT.ByPosNoHeight:CT.ByPos;return a?l.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,r,i).join(l)}forEachLine(e,t,n,r,i,o){let s=r+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,i,o),t>=a&&this.right.forEachLine(e,t,n,s,a,o);else{let l=this.lineAt(a,CT.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,o),l.to>=e&&l.from<=t&&o(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,o)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let i=[];e>0&&this.decomposeLeft(e,i);let o=i.length;for(let e of n)i.push(e);if(e>0&&zT(i,o-1),t<this.length){let e=i.length;this.decomposeRight(t,i),zT(i,e)}return IT.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?IT.of(this.break?[e,null,t]:[e,t]):(this.left=QT(this.left,e),this.right=QT(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:i,right:o}=this,s=t+i.length+this.break,a=null;return r&&r.from<=t+i.length&&r.more?a=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(e,s,n,r):o.updateHeight(e,s,n),a?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function zT(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof MT&&(r=e[t+1])instanceof MT&&e.splice(t-1,3,new MT(n.length+1+r.length))}class jT{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof NT?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new NT(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new AT(o,r,n)):(o||i||r>=5)&&this.addLineDeco(r,i,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new NT(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new MT(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof NT)return e;let t=new NT(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof NT||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new NT(0,-1));let n=e;for(let e of this.nodes)e instanceof NT&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let i=new jT(n,e);return z_.spans(t,n,r,i,0),i.finish(n)}}class RT{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&gE(e,t,this.changes,5)}}function ZT(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();o=Math.max(o,r.left),s=Math.min(s,r.right),a=Math.max(a,r.top),l=Math.min(t==e.parentNode?i.innerHeight:l,r.bottom)}t="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function LT(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class UT{constructor(e,t,n,r){this.from=e,this.to=t,this.size=n,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(e,t){return dE.replace({widget:new XT(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class XT extends cE{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class VT{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=FT,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=SE.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(dC).some(e=>"function"!=typeof e&&"cm-lineWrapping"==e.class);this.heightOracle=new _T(t),this.stateDeco=e.facet(hC).filter(e=>"function"!=typeof e),this.heightMap=IT.empty().applyChanges(this.stateDeco,m$.empty,this.heightOracle.setDoc(e.doc),[new bC(0,0,0,e.doc.length)]);for(let e=0;e<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());e++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=dE.set(this.lineGaps.map(e=>e.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some(({from:e,to:t})=>r>=e&&r<=t)){let{from:t,to:n}=this.lineBlockAt(r);e.push(new BT(t,n))}}return this.viewports=e.sort((e,t)=>e.from-t.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?FT:new qT(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(GT(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(hC).filter(e=>"function"!=typeof e);let r=e.changedRanges,i=bC.extendWithRanges(r,function(e,t,n){let r=new RT;return z_.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:Q$.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);$T(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=o||kT)&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let a=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(l||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(JE)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?SE.RTL:SE.LTR;let o=this.heightOracle.mustRefreshForWrapping(i),s=t.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let l=0,c=0;if(s.width&&s.height){let{scaleX:e,scaleY:n}=QP(t,s);(e>.005&&Math.abs(this.scaleX-e)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=e,this.scaleY=n,l|=16,o=a=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,l|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=ZP(e.scrollDOM);let f=(this.printing?LT:ZT)(t,this.paddingTop),p=f.top-this.pixelViewport.top,m=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(a=!0)),!this.inView&&!this.scrollTarget&&!function(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}(e.dom))return 0;let v=s.width;if(this.contentDOMWidth==v&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,l|=16),a){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(o=!0),o||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:s,textHeight:a}=e.docView.measureTextSize();o=n>0&&r.refresh(i,n,s,a,Math.max(5,v/s),t),o&&(e.docView.minWidth=0,l|=16)}p>0&&m>0?c=Math.max(p,m):p<0&&m<0&&(c=Math.min(p,m)),$T();for(let n of this.viewports){let i=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(o?IT.empty().applyChanges(this.stateDeco,m$.empty,this.heightOracle,[new bC(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new PT(n.from,i))}kT&&(l|=2)}let O=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),l|=this.updateForViewport()),(2&l||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,a=new BT(r.lineAt(o-1e3*n,CT.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),CT.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=r.lineAt(e,CT.ByPos,i,0,0);n="center"==t.y?(s.top+s.bottom)/2-o/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-o,a=new BT(r.lineAt(n-500,CT.ByHeight,i,0,0).from,r.lineAt(n+o+500,CT.ByHeight,i,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new BT(this.heightMap.lineAt(n,CT.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,CT.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,CT.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,CT.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==e||r<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=s+Math.max(10,Math.min(n,250)))&&r>o-2e3&&i<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new UT(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,o=r<<1;if(this.defaultTextDirection!=SE.LTR&&!n)return[];let s=[],a=(r,o,l,c)=>{if(o-r<i)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>r&&e<o)return a(r,e-10,l,c),void a(e+10,o,l,c);let h=function(e,t){for(let n of e)if(t(n))return n;return}(e,e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-r)<i&&Math.abs(e.to-o)<i&&!d.some(t=>e.from<t&&e.to>t));if(!h){if(o<l.to&&t&&n&&t.visibleRanges.some(e=>e.from<=o&&e.to>=o)){let e=t.moveToLineBoundary(Z$.cursor(o),!1,!0).head;e>r&&(o=e)}let e=this.gapSize(l,r,o,c);h=new UT(r,o,e,n||e<2e6?e:2e6)}s.push(h)},l=t=>{if(t.length<o||t.type!=uE.Text)return;let i=function(e,t,n){let r=[],i=e,o=0;z_.spans(n,e,t,{span(){},point(e,t){e>i&&(r.push({from:i,to:e}),o+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),o+=t-i);return{total:o,ranges:r}}(t.from,t.to,this.stateDeco);if(i.total<o)return;let s,l,c=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let e,n,o=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=WT(i,c),s=((this.visibleBottom-this.visibleTop)/2+o)/t.height;e=r-s,n=r+s}else e=(this.visibleTop-t.top-o)/t.height,n=(this.visibleBottom-t.top+o)/t.height;s=YT(i,e),l=YT(i,n)}else{let n=i.total*this.heightOracle.charWidth,o=r*this.heightOracle.charWidth,a=0;if(n>2e6)for(let n of e)n.from>=t.from&&n.from<t.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+a<this.pixelViewport.left&&(a=n.size-n.displaySize);let u,d,h=this.pixelViewport.left+a,f=this.pixelViewport.right+a;if(null!=c){let e=WT(i,c),t=((f-h)/2+o)/n;u=e-t,d=e+t}else u=(h-o)/n,d=(f+o)/n;s=YT(i,u),l=YT(i,d)}s>t.from&&a(t.from,s,t,i),l<t.to&&a(l,t.to,t,i)};for(let e of this.viewportLines)Array.isArray(e.type)?e.type.forEach(l):l(e);return s}gapSize(e,t,n,r){let i=WT(r,n)-WT(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(e){UT.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=dE.set(e.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];z_.spans(t,this.viewport.from,this.viewport.to,{span(e,t){n.push({from:e,to:t})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let t=0;t<n.length&&!(8&r);t++){let i=this.visibleRanges[t],o=n[t];i.from==o.from&&i.to==o.to||(r|=4,e&&e.mapPos(i.from,-1)==o.from&&e.mapPos(i.to,1)==o.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||GT(this.heightMap.lineAt(e,CT.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||GT(this.heightMap.lineAt(this.scaler.fromDOM(e),CT.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return GT(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class BT{constructor(e,t){this.from=e,this.to=t}}function YT({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:i}=t[e],o=i-n;if(r<=o)return n+r;r-=o}}function WT(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}const FT={toDOM:e=>e,fromDOM:e=>e,scale:1,eq(e){return e==this}};class qT{constructor(e,t,n){let r=0,i=0,o=0;this.viewports=n.map(({from:n,to:i})=>{let o=t.lineAt(n,CT.ByPos,e,0,0).top,s=t.lineAt(i,CT.ByPos,e,0,0).bottom;return r+=s-o,{from:n,to:i,top:o,bottom:s,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=o+(e.top-i)*this.scale,o=e.domBottom=e.domTop+(e.bottom-e.top),i=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}eq(e){return e instanceof qT&&(this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to))}}function GT(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new ET(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map(e=>GT(e,t)):e._content)}const HT=X$.define({combine:e=>e.join(" ")}),KT=X$.define({combine:e=>e.indexOf(!0)>-1}),JT=eP.newName(),eI=eP.newName(),tI=eP.newName(),nI={"&light":"."+eI,"&dark":"."+tI};function rI(e,t,n){return new eP(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]}):e+" "+t})}const iI=rI("."+JT,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},nI),oI={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},sI=bP.ie&&bP.ie_version<=11;class aI{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new AP,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let e of t)this.queue.push(e);(bP.ie&&bP.ie_version<=11||bP.ios&&e.composing)&&t.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||!bP.android||!1===e.constructor.EDIT_CONTEXT||bP.chrome&&bP.chrome_version<126||(this.editContext=new uI(e),e.state.facet(oC)&&(e.contentDOM.editContext=this.editContext.editContext)),sI&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(oC)?n.root.activeElement!=this.dom:!SP(this.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(bP.ie&&bP.ie_version<=11||bP.android&&bP.chrome)&&!n.state.selection.main.empty&&r.focusNode&&$P(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=wP(e.root);if(!t)return!1;let n=bP.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return cI(e,n)}let n=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",r,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),n?cI(e,n):null}(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let r=SP(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,CP(n));;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=CP(n))}else{if(n==e)return!0;r=_P(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,oI),sI&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),sI&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;if(e){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&jP(this.dom,e.key,e.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&SP(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new BC(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=YC(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=lI(t,e.previousSibling||e.target.previousSibling,-1),r=lI(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(oC)!=e.state.facet(oC)&&(e.view.contentDOM.editContext=e.state.facet(oC)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function lI(e,t,n){for(;t;){let r=BP.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function cI(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,s=e.docView.domAtPos(e.state.selection.main.anchor);return $P(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}class uI{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let r=e.state.selection.main,{anchor:i,head:o}=r,s=this.toEditorPos(n.updateRangeStart),a=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:s,drifted:!1});let l=a-s>n.text.length;s==this.from&&i<this.from?s=i:a==this.to&&i>this.to&&(a=i);let c=FC(e.state.sliceDoc(s,a),n.text,(l?r.from:r.to)-s,l?"end":null);if(!c){let t=Z$.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));return void(t.main.eq(r)||e.dispatch({selection:t,userEvent:"select"}))}let u={from:c.from+s,to:c.toA+s,insert:m$.of(n.text.slice(c.from,c.toB).split("\n"))};if((bP.mac||bP.android)&&u.from==o-1&&/^\. ?$/.test(n.text)&&"off"==e.contentDOM.getAttribute("autocorrect")&&(u={from:s,to:a,insert:m$.of([n.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let t=this.to-this.from+(u.to-u.from+u.insert.length);WC(e,u,Z$.single(this.toEditorPos(n.selectionStart,t),this.toEditorPos(n.selectionEnd,t)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),u.from<u.to&&!u.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(t.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let r=[],i=null;for(let t=this.toEditorPos(n.rangeStart),o=this.toEditorPos(n.rangeEnd);t<o;t++){let n=e.coordsForChar(t);i=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||i||new DOMRect,r.push(i)}t.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=t=>{let n=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,r=e.underlineThickness;if(!/none/i.test(t)&&!/none/i.test(r)){let i=this.toEditorPos(e.rangeStart),o=this.toEditorPos(e.rangeEnd);if(i<o){let e=`text-decoration: underline ${/^[a-z]/.test(t)?t+" ":"Dashed"==t?"dashed ":"Squiggle"==t?"wavy ":""}${/thin/i.test(r)?1:2}px`;n.push(dE.mark({attributes:{style:e}}).range(i,o))}}}e.dispatch({effects:rC.of(dE.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}};for(let e in this.handlers)t.addEventListener(e,this.handlers[e]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=wP(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,r=this.pendingContextChange;return e.changes.iterChanges((i,o,s,a,l)=>{if(n)return;let c=l.length-(o-i);if(r&&o>=r.to){if(r.from==i&&r.to==o&&r.insert.eq(l))return r=this.pendingContextChange=null,t+=c,void(this.to+=c);r=null,this.revertPending(e.state)}if(i+=t,(o+=t)<=this.from)this.from+=c,this.to+=c;else if(i<this.to){if(i<this.from||o>this.to||this.to-this.from+l.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(i),this.toContextPos(o),l.toString()),this.to+=c}t+=c}),r&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(e=>!e.isUserEvent("input.type")&&e.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==r||this.editContext.updateSelection(n,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class dI{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(e=>e.forEach(e=>n(e,this)))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new VT(e.state||I_.create(e)),e.scrollTo&&e.scrollTo.is(nC)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(aC).map(e=>new cC(e));for(let e of this.plugins)e.update(this);this.observer=new aI(this),this.inputState=new qC(this),this.inputState.ensureHandlers(this.plugins),this.docView=new xC(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=1==e.length&&e[0]instanceof b_?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,i=this.state;for(let t of e){if(t.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=t.state}if(this.destroyed)return void(this.viewState.state=i);let o=this.hasFocus,s=0,a=null;e.some(e=>e.annotation(yT))?(this.inputState.notifiedFocused=o,s=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=bT(i,o),a||(s=1));let l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(c=null)):this.observer.clear(),i.facet(I_.phrases)!=this.state.facet(I_.phrases))return this.setState(i);t=wC.create(this,i,e),t.flags|=s;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new tC(e.empty?e:Z$.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(nC)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=pI.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(yC)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(e=>e.isUserEvent("select.pointer")))}finally{this.updateState=0}if(t.startState.facet(HT)!=t.state.facet(HT)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!t.empty)for(let e of this.state.facet(WE))try{e(t)}catch(e){iC(this.state,e,"update listener")}(a||c)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),c&&!YC(this,c)&&l.force&&jP(this.contentDOM,l.key,l.keyCode)})}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new VT(e),this.plugins=e.facet(aC).map(e=>new cC(e)),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new xC(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(aC),n=e.state.facet(aC);if(t!=n){let r=[];for(let i of n){let n=t.indexOf(i);if(n<0)r.push(new cC(i));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(e){iC(this.state,e,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(o<0)if(ZP(n))i=-1,o=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);i=e.from,o=e.top}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&s||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map(e=>{try{return e.read(this)}catch(e){return iC(this.state,e),fI}}),c=wC.create(this,this.state,[]),u=!1;c.flags|=s,t?t.flags|=s:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c),u&&this.docViewUpdate());for(let e=0;e<a.length;e++)if(l[e]!=fI)try{let t=a[e];t.write&&t.write(l[e],this)}catch(e){iC(this.state,e)}if(u&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}{let e=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-o;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,o=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(WE))e(t)}get themeClasses(){return JT+" "+(this.state.facet(KT)?tI:eI)+" "+this.state.facet(HT)}updateAttrs(){let e=mI(this,uC,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(oC)?"true":"false",class:"cm-content",style:`${bP.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),mI(this,dC,t);let n=this.observer.ignore(()=>{let n=aE(this.contentDOM,this.contentAttrs,t),r=aE(this.dom,this.editorAttrs,e);return n||r});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(dI.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(yC);let e=this.state.facet(dI.cspNonce);eP.mount(this.root,this.styleModules.concat(iI).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(t=>t.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return RC(this,e,DC(this,e,t,n))}moveByGroup(e,t){return RC(this,e,DC(this,e,t,t=>function(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return e=>{let t=r(e);return i==P_.Space&&(i=t),i==t}}(this,e.head,t)))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),i=n[t?n.length-1:0];return Z$.cursor(i.side(t,r)+e.from,i.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let i=MC(e,t.head,t.assoc||-1),o=r&&i.type==uE.Text&&(e.lineWrapping||i.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(i.from),s=e.posAtCoords({x:n==(r==SE.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=s)return Z$.cursor(s,n?-1:1)}return Z$.cursor(n?i.to:i.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return RC(this,e,function(e,t,n,r){let i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return Z$.cursor(i,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=o<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(i);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-t.from))),s=(o<0?t.top:t.bottom)+u}let d=l.left+a,h=null!=r?r:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=s+(h+t)*o,r=QC(e,{x:d,y:n},!1,o);if(n<l.top||n>l.bottom||(o<0?r<i:r>i)){let t=e.docView.coordsForChar(r),i=!t||n<t.top?-1:1;return Z$.cursor(r,i,void 0,a)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),QC(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),i=this.bidiSpans(r);return TP(n,i[AE.find(i,e-r.from,-1,t)].dir==SE.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(KE)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>hI)return RE(e.length);let t,n=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==n&&(r.fresh||NE(r.isolates,t=gC(this,e))))return r.order;t||(t=gC(this,e));let r=jE(e.text,n,t);return this.bidiCache.push(new pI(e.from,e.to,n,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||bP.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{DP(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return nC.of(new tC("number"==typeof e?Z$.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return nC.of(new tC(Z$.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return lC.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return lC.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=eP.newName(),r=[HT.of(n),yC.of(rI(`.${n}`,e))];return t&&t.dark&&r.push(KT.of(!0)),r}static baseTheme(e){return n_.lowest(yC.of(rI("."+JT,e,nI)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&BP.get(n)||BP.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}dI.styleModule=yC,dI.inputHandler=FE,dI.clipboardInputFilter=GE,dI.clipboardOutputFilter=HE,dI.scrollHandler=eC,dI.focusChangeEffect=qE,dI.perLineTextDirection=KE,dI.exceptionSink=YE,dI.updateListener=WE,dI.editable=oC,dI.mouseSelectionStyle=BE,dI.dragMovesSelection=VE,dI.clickAddsSelectionRange=XE,dI.decorations=hC,dI.outerDecorations=fC,dI.atomicRanges=pC,dI.bidiIsolatedRanges=mC,dI.scrollMargins=vC,dI.darkTheme=KT,dI.cspNonce=X$.define({combine:e=>e.length?e[0]:""}),dI.contentAttributes=dC,dI.editorAttributes=uC,dI.lineWrapping=dI.contentAttributes.of({class:"cm-lineWrapping"}),dI.announce=y_.define();const hI=4096,fI={};class pI{constructor(e,t,n,r,i,o){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=i,this.order=o}static update(e,t){if(t.empty&&!e.some(e=>e.fresh))return e;let n=[],r=e.length?e[e.length-1].dir:SE.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let o=e[i];o.dir!=r||t.touchesRange(o.from,o.to)||n.push(new pI(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function mI(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let t=r[i],o="function"==typeof t?t(e):t;o&&iE(o,n)}return n}const gI=bP.mac?"mac":bP.windows?"win":bP.linux?"linux":"key";function vI(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const OI=n_.default(dI.domEventHandlers({keydown:(e,t)=>$I(wI(t.state),e,t,"editor")})),yI=X$.define({enables:OI}),bI=new WeakMap;function wI(e){let t=e.facet(yI),n=bI.get(t);return n||bI.set(t,n=function(e,t=gI){let n=Object.create(null),r=Object.create(null),i=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=(e,r,o,s,a)=>{var l,c;let u=n[e]||(n[e]=Object.create(null)),d=r.split(/ (?!$)/).map(e=>function(e,t){const n=e.split(/-(?!$)/);let r,i,o,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:i=!0}}return r&&(a="Alt-"+a),i&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(e,t));for(let t=1;t<d.length;t++){let n=d.slice(0,t).join(" ");i(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=xI={view:t,prefix:n,scope:e};return setTimeout(()=>{xI==r&&(xI=null)},SI),!0}]})}let h=d.join(" ");i(h,!1);let f=u[h]||(u[h]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});o&&f.run.push(o),s&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:i}=r;for(let t in e)e[t].run.push(e=>i(e,kI))}let i=r[t]||r.key;if(i)for(let t of e)o(t,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&o(t,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(t.reduce((e,t)=>e.concat(t),[]))),n}let xI=null;const SI=4e3;let kI=null;function $I(e,t,n,r){kI=t;let i=function(e){var t=!(oP&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||sP&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?iP:rP)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=E$(_$(i,0))==i.length&&" "!=i,s="",a=!1,l=!1,c=!1;xI&&xI.view==n&&xI.scope==r&&(s=xI.prefix+" ",eT.indexOf(t.keyCode)<0&&(l=!0,xI=null));let u,d,h=new Set,f=e=>{if(e){for(let t of e.run)if(!h.has(t)&&(h.add(t),t(n)))return e.stopPropagation&&(c=!0),!0;e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},p=e[r];return p&&(f(p[s+vI(i,t,!o)])?a=!0:!o||!(t.altKey||t.metaKey||t.ctrlKey)||bP.windows&&t.ctrlKey&&t.altKey||bP.mac&&t.altKey&&!t.ctrlKey&&!t.metaKey||!(u=rP[t.keyCode])||u==i?o&&t.shiftKey&&f(p[s+vI(i,t,!0)])&&(a=!0):(f(p[s+vI(u,t,!0)])||t.shiftKey&&(d=iP[t.keyCode])!=i&&d!=u&&f(p[s+vI(d,t,!1)]))&&(a=!0),!a&&f(p._any)&&(a=!0)),l&&(a=!0),a&&c&&t.stopPropagation(),kI=null,a}class _I{constructor(e,t,n,r,i){this.className=e,this.left=t,this.top=n,this.width=r,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=PI(e);return[new _I(t,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),o=e.textDirection==SE.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=PI(e),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=a.right-(u?parseInt(u.paddingRight):0),f=MC(e,r,1),p=MC(e,i,-1),m=f.type==uE.Text?f:null,g=p.type==uE.Text?p:null;m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=EI(e,r,1,m));g&&(e.lineWrapping||p.widgetLineBreaks)&&(g=EI(e,i,-1,g));if(m&&g&&m.from==g.from&&m.to==g.to)return O(y(n.from,n.to,m));{let t=m?y(n.from,null,m):b(f,!1),r=g?y(null,n.to,g):b(p,!0),i=[];return(m||f).to<(g||p).from-(m&&g?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?i.push(v(d,t.bottom,h,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==uE.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),O(t).concat(i).concat(O(r))}function v(e,n,r,i){return new _I(t,e-l.left,n-l.top,r-e,i-n)}function O({top:e,bottom:t,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(v(n[i],e,n[i+1],t));return r}function y(t,n,r){let i=1e9,s=-1e9,a=[];function l(t,n,l,c,u){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);f&&p&&(i=Math.min(f.top,p.top,i),s=Math.max(f.bottom,p.bottom,s),u==SE.LTR?a.push(o&&n?d:f.left,o&&c?h:p.right):a.push(!o&&c?d:p.left,!o&&n?h:f.right))}let c=null!=t?t:r.from,u=null!=n?n:r.to;for(let r of e.visibleRanges)if(r.to>c&&r.from<u)for(let i=Math.max(r.from,c),o=Math.min(r.to,u);;){let r=e.state.doc.lineAt(i);for(let s of e.bidiSpans(r)){let e=s.from+r.from,a=s.to+r.from;if(e>=o)break;a>i&&l(Math.max(e,i),null==t&&e<=c,Math.min(a,o),null==n&&a>=u,s.dir)}if(i=r.to+1,i>=o)break}return 0==a.length&&l(c,null==t,u,null==n,e.textDirection),{top:i,bottom:s,horizontal:a}}function b(e,t){let n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function PI(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==SE.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function EI(e,t,n,r){let i=e.coordsAtPos(t,2*n);if(!i)return r;let o=e.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=e.posAtCoords({x:o.left+1,y:s}),l=e.posAtCoords({x:o.right-1,y:s});return null==a||null==l?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}class CI{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(TI)!=e.state.facet(TI)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(TI);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((e,t)=>{return n=e,r=this.drawn[t],!(n.constructor==r.constructor&&n.eq(r));var n,r})){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e,bP.ios&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const TI=X$.define();function II(e){return[lC.define(t=>new CI(t,e)),TI.of(e)]}const QI=X$.define({combine:e=>Q_(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function AI(e){return e.startState.facet(QI)!=e.state.facet(QI)}const NI=II({above:!0,markers(e){let{state:t}=e,n=t.facet(QI),r=[];for(let i of t.selection.ranges){let o=i==t.selection.main;if(i.empty||n.drawRangeCursor){let t=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=i.empty?i:Z$.cursor(i.head,i.head>i.anchor?-1:1);for(let i of _I.forRange(e,t,n))r.push(i)}}return r},update(e,t){e.transactions.some(e=>e.selection)&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=AI(e);return n&&MI(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){MI(t.state,e)},class:"cm-cursorLayer"});function MI(e,t){t.style.animationDuration=e.facet(QI).cursorBlinkRate+"ms"}const DI=II({above:!1,markers:e=>e.state.selection.ranges.map(t=>t.empty?[]:_I.forRange(e,"cm-selectionBackground",t)).reduce((e,t)=>e.concat(t)),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||AI(e),class:"cm-selectionLayer"}),zI=n_.highest(dI.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),jI=y_.define({map:(e,t)=>null==e?null:t.mapPos(e)}),RI=G$.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((e,t)=>t.is(jI)?t.value:e,e))}),ZI=lC.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(RI);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(RI)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(RI),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(RI)!=e&&this.view.dispatch({effects:jI.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function LI(e,t,n,r,i){t.lastIndex=0;for(let o,s=e.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=t.exec(s.value);)i(a+o.index,o)}class UI{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:i,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,i)=>r(i,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,i)=>{let o=n(e,t,r);o&&i(r,r+e[0].length,o)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,i)=>i(r,r+e[0].length,n)}this.boundary=i,this.maxLength=o}createDeco(e){let t=new j_,n=t.add.bind(t);for(let{from:t,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}(e,this.maxLength))LI(e.state.doc,this.regexp,t,r,(t,r)=>this.addMatch(r,e,t,n));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((t,i,o,s)=>{s>=e.view.viewport.from&&o<=e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(s,r))}),e.viewportMoved||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let i of e.visibleRanges){let o=Math.max(i.from,n),s=Math.min(i.to,r);if(s>=o){let n=e.state.doc.lineAt(o),r=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(i.from,n.from),l=Math.min(i.to,r.to);if(this.boundary){for(;o>n.from;o--)if(this.boundary.test(n.text[o-1-n.from])){a=o;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){l=s;break}}let c,u=[],d=(e,t,n)=>u.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,d);else LI(e.state.doc,this.regexp,a,l,(t,n)=>this.addMatch(n,e,t,d));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:u})}}return t}}const XI=null!=/x/.unicode?"gu":"g",VI=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",XI),BI={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let YI=null;const WI=X$.define({combine(e){let t=Q_(e,{render:null,specialChars:VI,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==YI&&"undefined"!=typeof document&&document.body){let t=document.body.style;YI=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return YI||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,XI)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,XI)),t}});let FI=null;class qI extends cE{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(BI[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class GI extends cE{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const HI=dE.line({class:"cm-activeLine"}),KI=lC.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(HI.range(i.from)),t=i.from)}return dE.set(n)}},{decorations:e=>e.decorations});class JI extends cE{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?kP(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),r=TP(t[0],"rtl"!=n.direction),i=parseInt(n.lineHeight);return r.bottom-r.top>1.5*i?{left:r.left,right:r.right,top:r.top,bottom:r.top+i}:r}ignoreEvent(){return!1}}const eQ=2e3;function tQ(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>eQ?-1:i==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):q_(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function nQ(e,t){let n=tQ(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get(t,i,o){let s=tQ(e,t);if(!s)return r;let a=function(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>eQ||n.off>eQ||t.col<0||n.col<0){let s=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let t=r;t<=i;t++){let n=e.doc.line(t);n.length<=a&&o.push(Z$.range(n.from+s,n.to+a))}}else{let s=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let t=r;t<=i;t++){let n=e.doc.line(t),r=G_(n.text,s,e.tabSize,!0);if(r<0)o.push(Z$.cursor(n.to));else{let t=G_(n.text,a,e.tabSize);o.push(Z$.range(n.from+r,n.from+t))}}}return o}(e.state,n,s);return a.length?o?Z$.create(a.concat(r.ranges)):Z$.create(a):r}}:null}const rQ={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},iQ={style:"cursor: crosshair"};const oQ="-10000px";class sQ{constructor(e,t,n,r){this.facet=t,this.createTooltipView=n,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(e=>e);let i=null;this.tooltipViews=this.tooltips.map(e=>i=n(e,i))}update(e,t){var n;let r=e.state.facet(this.facet),i=r.filter(e=>e);if(r===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let o=[],s=t?[]:null;for(let n=0;n<i.length;n++){let r=i[n],a=-1;if(r){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==r.create&&(a=e)}if(a<0)o[n]=this.createTooltipView(r,n?o[n-1]:null),s&&(s[n]=!!r.above);else{let r=o[n]=this.tooltipViews[a];s&&(s[n]=t[a]),r.update&&r.update(e)}}}for(let e of this.tooltipViews)o.indexOf(e)<0&&(this.removeTooltipView(e),null===(n=e.destroy)||void 0===n||n.call(e));return t&&(s.forEach((e,n)=>t[n]=e),t.length=s.length),this.input=r,this.tooltips=i,this.tooltipViews=o,!0}}function aQ(e){let t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const lQ=X$.define({combine:e=>{var t,n,r;return{position:bP.ios?"absolute":(null===(t=e.find(e=>e.position))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find(e=>e.parent))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find(e=>e.tooltipSpace))||void 0===r?void 0:r.tooltipSpace)||aQ}}}),cQ=new WeakMap,uQ=lC.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(lQ);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new sQ(e,pQ,(e,t)=>this.createTooltip(e,t),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(lQ);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",n.dom.appendChild(e)}return n.dom.style.position=this.position,n.dom.style.top=oQ,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(e=t.destroy)||void 0===e||e.call(t);this.parent&&this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=1,t=1,n=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(bP.gecko)n=e.offsetParent!=this.container.ownerDocument.body;else if(e.style.top==oQ&&"0px"==e.style.left){let t=e.getBoundingClientRect();n=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(n||"absolute"==this.position)if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(e=n.width/this.parent.offsetWidth,t=n.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=OC(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(lQ).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:n}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=e,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=e.pos[a],h=e.size[a];if(!d||!1!==l.clip&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){u.style.top=oQ;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=h.right-h.left,g=null!==(t=cQ.get(c))&&void 0!==t?t:h.bottom-h.top,v=c.offset||fQ,O=this.view.textDirection==SE.LTR,y=h.width>r.right-r.left?O?r.left:r.right-h.width:O?Math.max(r.left,Math.min(d.left-(f?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,d.left-m+(f?14:0)-v.x),r.right-m),b=this.above[a];!l.strictSide&&(b?d.top-g-p-v.y<r.top:d.bottom+g+p+v.y>r.bottom)&&b==r.bottom-d.bottom>d.top-r.top&&(b=this.above[a]=!b);let w=(b?d.top-r.top:r.bottom-d.bottom)-p;if(w<g&&!1!==c.resize){if(w<this.view.defaultLineHeight){u.style.top=oQ;continue}cQ.set(c,g),u.style.height=(g=w)/o+"px"}else u.style.height&&(u.style.height="");let x=b?d.top-g-p-v.y:d.bottom+p+v.y,S=y+m;if(!0!==c.overlap)for(let e of s)e.left<S&&e.right>y&&e.top<x+g&&e.bottom>x&&(x=b?e.top-g-2-p:e.bottom+p+2);if("absolute"==this.position?(u.style.top=(x-e.parent.top)/o+"px",dQ(u,(y-e.parent.left)/i)):(u.style.top=x/o+"px",dQ(u,y/i)),f){let e=d.left+(O?v.x:-v.x)-(y+14-7);f.style.left=e/i+"px"}!0!==c.overlap&&s.push({left:y,top:x,right:S,bottom:x+g}),u.classList.toggle("cm-tooltip-above",b),u.classList.toggle("cm-tooltip-below",!b),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=oQ}},{eventObservers:{scroll(){this.maybeMeasure()}}});function dQ(e,t){let n=parseInt(e.style.left,10);(isNaN(n)||Math.abs(t-n)>1)&&(e.style.left=t+"px")}const hQ=dI.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),fQ={x:0,y:0},pQ=X$.define({enables:[uQ,hQ]}),mQ=X$.define({combine:e=>e.reduce((e,t)=>e.concat(t),[])});class gQ{static create(e){return new gQ(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new sQ(e,mQ,(e,t)=>this.createHostedView(e,t),e=>e.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(void 0!==r)if(void 0===t)t=r;else if(t!==r)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const vQ=pQ.compute([mQ],e=>{let t=e.facet(mQ);return 0===t.length?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var t;return null!==(t=e.end)&&void 0!==t?t:e.pos})),create:gQ.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class OQ{constructor(e,t,n,r,i){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let r,i=1;if(n instanceof KP)r=n.posAtStart;else{if(r=e.posAtCoords(t),null==r)return;let n=e.coordsAtPos(r);if(!n||t.y<n.top||t.y>n.bottom||t.x<n.left-e.defaultCharacterWidth||t.x>n.right+e.defaultCharacterWidth)return;let o=e.bidiSpans(e.state.doc.lineAt(r)).find(e=>e.from<=r&&e.to>=r),s=o&&o.dir==SE.RTL?-1:1;i=t.x<n.left?-s:s}let o=this.source(e,r,i);if(null==o?void 0:o.then){let t=this.pending={pos:r};o.then(n=>{this.pending==t&&(this.pending=null,!n||Array.isArray(n)&&!n.length||e.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))},t=>iC(e.state,t,"hover tooltip"))}else!o||Array.isArray(o)&&!o.length||e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(uQ),t=e?e.manager.tooltips.findIndex(e=>e.create==gQ.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r.length&&i&&!function(e,t){let n,{left:r,right:i,top:o,bottom:s}=e.getBoundingClientRect();if(n=e.querySelector(".cm-tooltip-arrow")){let e=n.getBoundingClientRect();o=Math.min(e.top,o),s=Math.max(e.bottom,s)}return t.clientX>=r-yQ&&t.clientX<=i+yQ&&t.clientY>=o-yQ&&t.clientY<=s+yQ}(i.dom,e)||this.pending){let{pos:i}=r[0]||this.pending,o=null!==(n=null===(t=r[0])||void 0===t?void 0:t.end)&&void 0!==n?n:i;(i==o?this.view.posAtCoords(this.lastMove)==i:function(e,t,n,r,i){let o=e.scrollDOM.getBoundingClientRect(),s=e.documentTop+e.documentPadding.top+e.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,s)<i)return!1;let a=e.posAtCoords({x:r,y:i},!1);return a>=t&&a<=n}(this.view,i,o,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:t}=this;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const yQ=4;function bQ(e,t={}){let n=y_.define(),r=G$.define({create:()=>[],update(e,r){if(e.length&&(t.hideOnChange&&(r.docChanged||r.selection)?e=[]:t.hideOn&&(e=e.filter(e=>!t.hideOn(r,e))),r.docChanged)){let t=[];for(let n of e){let e=r.changes.mapPos(n.pos,-1,T$.TrackDel);if(null!=e){let i=Object.assign(Object.create(null),n);i.pos=e,null!=i.end&&(i.end=r.changes.mapPos(i.end)),t.push(i)}}e=t}for(let t of r.effects)t.is(n)&&(e=t.value),t.is(xQ)&&(e=[]);return e},provide:e=>mQ.from(e)});return{active:r,extension:[r,lC.define(i=>new OQ(i,e,r,n,t.hoverTime||300)),vQ]}}function wQ(e,t){let n=e.plugin(uQ);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const xQ=y_.define();const SQ=X$.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function kQ(e,t){let n=e.plugin($Q),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const $Q=lC.fromClass(class{constructor(e){this.input=e.state.facet(EQ),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(t=>t(e));let t=e.state.facet(SQ);this.top=new _Q(e,!0,t.topContainer),this.bottom=new _Q(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(SQ);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new _Q(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new _Q(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(EQ);if(n!=this.input){let t=n.filter(e=>e),r=[],i=[],o=[],s=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),r.push(t),(t.top?i:o).push(t)}this.specs=t,this.panels=r,this.top.sync(i),this.bottom.sync(o);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>dI.scrollMargins.of(t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class _Q{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=PQ(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=PQ(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function PQ(e){let t=e.nextSibling;return e.remove(),t}const EQ=X$.define({enables:$Q});class CQ extends A_{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}CQ.prototype.elementClass="",CQ.prototype.toDOM=void 0,CQ.prototype.mapMode=T$.TrackBefore,CQ.prototype.startSide=CQ.prototype.endSide=-1,CQ.prototype.point=!0;const TQ=X$.define(),IQ=X$.define(),QQ={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>z_.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},AQ=X$.define();function NQ(e){return[DQ(),AQ.of({...QQ,...e})]}const MQ=X$.define({combine:e=>e.some(e=>e)});function DQ(e){let t=[zQ];return e&&!1===e.fixed&&t.push(MQ.of(!0)),t}const zQ=lC.fromClass(class{constructor(e){this.view=e,this.domAfter=null,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(AQ).map(t=>new LQ(e,t)),this.fixed=!e.state.facet(MQ);for(let e of this.gutters)"after"==e.config.side?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}if(e.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(MQ)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=z_.iter(this.view.state.facet(TQ),this.view.viewport.from),r=[],i=this.gutters.map(e=>new ZQ(e,this.view.viewport,-this.view.documentPadding.top));for(let e of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(e.type)){let t=!0;for(let o of e.type)if(o.type==uE.Text&&t){RQ(n,r,o.from);for(let e of i)e.line(this.view,o,r);t=!1}else if(o.widget)for(let e of i)e.widget(this.view,o)}else if(e.type==uE.Text){RQ(n,r,e.from);for(let t of i)t.line(this.view,e,r)}else if(e.widget)for(let t of i)t.widget(this.view,e);for(let e of i)e.finish();e&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(e){let t=e.startState.facet(AQ),n=e.state.facet(AQ),r=e.docChanged||e.heightChanged||e.viewportChanged||!z_.eq(e.startState.facet(TQ),e.state.facet(TQ),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=t.indexOf(r);n<0?i.push(new LQ(this.view,r)):(this.gutters[n].update(e),i.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),i.indexOf(e)<0&&e.destroy();for(let e of i)"after"==e.config.side?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:e=>dI.scrollMargins.of(t=>{let n=t.plugin(e);if(!n||0==n.gutters.length||!n.fixed)return null;let r=n.dom.offsetWidth*t.scaleX,i=n.domAfter?n.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==SE.LTR?{left:r,right:i}:{right:r,left:i}})});function jQ(e){return Array.isArray(e)?e:[e]}function RQ(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class ZQ{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=z_.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,i=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==r.elements.length){let t=new UQ(e,o,i,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,o,i,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];RQ(this.cursor,r,t.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);let o=this.gutter;(0!=r.length||o.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),r=n?[n]:null;for(let n of e.state.facet(IQ)){let i=n(e,t.widget,t);i&&(r||(r=[])).push(i)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class LQ{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,r=>{let i,o=r.target;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let e=o.getBoundingClientRect();i=(e.top+e.bottom)/2}else i=r.clientY;let s=e.lineBlockAtHeight(i-e.documentTop);t.domEventHandlers[n](e,s,r)&&r.preventDefault()});this.markers=jQ(t.markers(e)),t.initialSpacer&&(this.spacer=new UQ(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=jQ(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!z_.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class UQ{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,o=0;;){let s=o,a=i<t.length?t[i++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let e=o;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;o<s;){let e=this.markers[o++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const XQ=X$.define(),VQ=X$.define(),BQ=X$.define({combine:e=>Q_(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],i=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||i(e,t,n):i}return n}})});class YQ extends CQ{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function WQ(e,t){return e.state.facet(BQ).formatNumber(t,e.state)}const FQ=AQ.compute([BQ],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(XQ),lineMarker:(e,t,n)=>n.some(e=>e.toDOM)?null:new YQ(WQ(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,n)=>{for(let r of e.state.facet(VQ)){let i=r(e,t,n);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(BQ)!=e.state.facet(BQ),initialSpacer:e=>new YQ(WQ(e,qQ(e.state.doc.lines))),updateSpacer(e,t){let n=WQ(t.view,qQ(t.view.state.doc.lines));return n==e.number?e:new YQ(n)},domEventHandlers:e.facet(BQ).domEventHandlers,side:"before"}));function qQ(e){let t=9;for(;t<e;)t=10*t+9;return t}const GQ=new class extends CQ{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},HQ=TQ.compute(["selection"],e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(GQ.range(i)))}return z_.of(t)});const KQ=1024;let JQ=0;class eA{constructor(e,t){this.from=e,this.to=t}}class tA{constructor(e={}){this.id=JQ++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=iA.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}tA.closedBy=new tA({deserialize:e=>e.split(" ")}),tA.openedBy=new tA({deserialize:e=>e.split(" ")}),tA.group=new tA({deserialize:e=>e.split(" ")}),tA.isolate=new tA({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),tA.contextHash=new tA({perNode:!0}),tA.lookAhead=new tA({perNode:!0}),tA.mounted=new tA({perNode:!0});class nA{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[tA.mounted.id]}}const rA=Object.create(null);class iA{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):rA,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new iA(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(tA.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(tA.group),r=-1;r<(n?n.length:0);r++){let i=t[r<0?e.name:n[r]];if(i)return i}}}}iA.none=new iA("",Object.create(null),0,8);class oA{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new iA(n.name,r,n.id,n.flags):n)}return new oA(t)}}const sA=new WeakMap,aA=new WeakMap;var lA;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(lA||(lA={}));class cA{constructor(e,t,n,r,i){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=nA.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new xA(this.topNode,e)}cursorAt(e,t=0,n=0){let r=sA.get(this)||this.topNode,i=new xA(r);return i.moveTo(e,t),sA.set(this,i._tree),i}get topNode(){return new mA(this,0,0,null)}resolve(e,t=0){let n=fA(sA.get(this)||this.topNode,e,t,!1);return sA.set(this,n),n}resolveInner(e,t=0){let n=fA(aA.get(this)||this.topNode,e,t,!0);return aA.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let r=e.resolveInner(t,n),i=null;for(let e=r instanceof mA?r:r.context.parent;e;e=e.parent)if(e.index<0){let o=e.parent;(i||(i=[r])).push(o.resolve(t,n)),e=o}else{let o=nA.get(e.tree);if(o&&o.overlay&&o.overlay[0].from<=t&&o.overlay[o.overlay.length-1].to>=t){let s=new mA(o.tree,o.overlay[0].from+e.from,-1,e);(i||(i=[r])).push(fA(s,t,n,!1))}}return i?bA(i):r}(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:i=this.length}=e,o=e.mode||0,s=(o&lA.IncludeAnonymous)>0;for(let e=this.cursor(o|lA.IncludeAnonymous);;){let o=!1;if(e.from<=i&&e.to>=r&&(!s&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;o=!0}for(;o&&n&&(s||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;o=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:_A(iA.none,this.children,this.positions,0,this.children.length,0,this.length,(e,t,n)=>new cA(this.type,e,t,n,this.propValues),e.makeTree||((e,t,n)=>new cA(iA.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=KQ,reused:o=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(n)?new uA(n,n.length):n,l=r.types,c=0,u=0;function d(e,t,n,O,y,b){let{id:w,start:x,end:S,size:k}=a,$=u,_=c;for(;k<0;){if(a.next(),-1==k){let t=o[w];return n.push(t),void O.push(x-e)}if(-3==k)return void(c=w);if(-4==k)return void(u=w);throw new RangeError(`Unrecognized record size: ${k}`)}let P,E,C=l[w],T=x-e;if(S-x<=i&&(E=g(a.pos-t,y))){let t=new Uint16Array(E.size-E.skip),n=a.pos-E.size,i=t.length;for(;a.pos>n;)i=v(E.start,t,i);P=new dA(t,S-E.start,r),T=E.start-e}else{let e=a.pos-k;a.next();let t=[],n=[],r=w>=s?w:-1,o=0,l=S;for(;a.pos>e;)r>=0&&a.id==r&&a.size>=0?(a.end<=l-i&&(p(t,n,x,o,a.end,l,r,$,_),o=t.length,l=a.end),a.next()):b>2500?h(x,e,t,n):d(x,e,t,n,r,b+1);if(r>=0&&o>0&&o<t.length&&p(t,n,x,o,x,l,r,$,_),t.reverse(),n.reverse(),r>-1&&o>0){let e=f(C,_);P=_A(C,t,n,0,t.length,0,S-x,e,e)}else P=m(C,t,n,S-x,$-S,_)}n.push(P),O.push(T)}function h(e,t,n,o){let s=[],l=0,c=-1;for(;a.pos>t;){let{id:e,start:t,end:n,size:r}=a;if(r>4)a.next();else{if(c>-1&&t<c)break;c<0&&(c=n-i),s.push(e,t,n),l++,a.next()}}if(l){let t=new Uint16Array(4*l),i=s[s.length-2];for(let e=s.length-3,n=0;e>=0;e-=3)t[n++]=s[e],t[n++]=s[e+1]-i,t[n++]=s[e+2]-i,t[n++]=n;n.push(new dA(t,s[2]-i,r)),o.push(i-e)}}function f(e,t){return(n,r,i)=>{let o,s,a=0,l=n.length-1;if(l>=0&&(o=n[l])instanceof cA){if(!l&&o.type==e&&o.length==i)return o;(s=o.prop(tA.lookAhead))&&(a=r[l]+o.length+s)}return m(e,n,r,i,a,t)}}function p(e,t,n,i,o,s,a,l,c){let u=[],d=[];for(;e.length>i;)u.push(e.pop()),d.push(t.pop()+n-o);e.push(m(r.types[a],u,d,s-o,l-s,c)),t.push(o-n)}function m(e,t,n,r,i,o,s){if(o){let e=[tA.contextHash,o];s=s?[e].concat(s):[e]}if(i>25){let e=[tA.lookAhead,i];s=s?[e].concat(s):[e]}return new cA(e,t,n,r,s)}function g(e,t){let n=a.fork(),r=0,o=0,l=0,c=n.end-i,u={size:0,start:0,skip:0};e:for(let i=n.pos-e;n.pos>i;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=o,u.skip=l,l+=4,r+=4,n.next();continue}let a=n.pos-e;if(e<0||a<i||n.start<c)break;let d=n.id>=s?4:0,h=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=s&&(d+=4);n.next()}o=h,r+=e,l+=d}return(t<0||r==e)&&(u.size=r,u.start=o,u.skip=l),u.size>4?u:void 0}function v(e,t,n){let{id:r,start:i,end:o,size:l}=a;if(a.next(),l>=0&&r<s){let s=n;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)n=v(e,t,n)}t[--n]=s,t[--n]=o-e,t[--n]=i-e,t[--n]=r}else-3==l?c=r:-4==l&&(u=r);return n}let O=[],y=[];for(;a.pos>0;)d(e.start||0,e.bufferStart||0,O,y,-1,0);let b=null!==(t=e.length)&&void 0!==t?t:O.length?y[0]+O[0].length:0;return new cA(l[e.topID],O.reverse(),y.reverse(),b)}(e)}}cA.empty=new cA(iA.none,[],[],0);class uA{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new uA(this.buffer,this.index)}}class dA{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return iA.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}findChild(e,t,n,r,i){let{buffer:o}=this,s=-1;for(let a=e;a!=t&&!(hA(i,r,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}slice(e,t,n){let r=this.buffer,i=new Uint16Array(t-e),o=0;for(let s=e,a=0;s<t;){i[a++]=r[s++],i[a++]=r[s++]-n;let t=i[a++]=r[s++]-n;i[a++]=r[s++]-e,o=Math.max(o,t)}return new dA(i,o,this.set)}}function hA(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function fA(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof mA&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=r?0:lA.IgnoreOverlays;if(r)for(let r=e,s=r.parent;s;r=s,s=r.parent)r instanceof mA&&r.index<0&&(null===(i=s.enter(t,n,o))||void 0===i?void 0:i.from)!=r.from&&(e=s);for(;;){let r=e.enter(t,n,o);if(!r)return e;e=r}}class pA{cursor(e=0){return new xA(this,e)}getChild(e,t=null,n=null){let r=gA(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return gA(this,e,t,n)}resolve(e,t=0){return fA(this,e,t,!1)}resolveInner(e,t=0){return fA(this,e,t,!0)}matchContext(e){return vA(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class mA extends pA{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+o.from;if(hA(r,n,c,c+l.length))if(l instanceof dA){if(i&lA.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,t,n-c,r);if(s>-1)return new yA(new OA(o,l,e,c),null,s)}else if(i&lA.IncludeAnonymous||!l.type.isAnonymous||SA(l)){let s;if(!(i&lA.IgnoreMounts)&&(s=nA.get(l))&&!s.overlay)return new mA(s.tree,c,e,o);let a=new mA(l,c,e,o);return i&lA.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,n,r)}}if(i&lA.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&lA.IgnoreOverlays)&&(r=nA.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:i}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new mA(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function gA(e,t,n,r){let i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=n)for(let e=!1;!e;)if(e=i.type.is(n),!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function vA(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class OA{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class yA extends pA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new yA(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&lA.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new yA(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new yA(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new yA(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let o=n.buffer[this.index+1];e.push(n.slice(r,i,o)),t.push(0)}return new cA(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function bA(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let i=e[r];(i.from>n.from||i.to<n.to)&&(n=i,t=r)}let r=n instanceof mA&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new wA(i,n)}class wA{constructor(e,t){this.heads=e,this.node=t}get next(){return bA(this.heads)}}class xA{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof mA)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof mA?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&lA.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&lA.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&lA.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,i=e<0?-1:n._tree.children.length;r!=i;r+=e){let e=n._tree.children[r];if(this.mode&lA.IncludeAnonymous||e instanceof dA||!e.type.isAnonymous||SA(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,i=this.stack.length;i>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(let e=n;e<this.stack.length;e++)t=new yA(this.buffer,t,this.stack[e]);return this.bufferNode=new yA(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return vA(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return vA(this._tree,e,r);let o=n[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function SA(e){return e.children.some(e=>e instanceof dA||!e.type.isAnonymous||SA(e))}const kA=new WeakMap;function $A(e,t){if(!e.isAnonymous||t instanceof dA||t.type!=e)return 1;let n=kA.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof cA)){n=1;break}n+=$A(e,r)}kA.set(t,n)}return n}function _A(e,t,n,r,i,o,s,a,l){let c=0;for(let n=r;n<i;n++)c+=$A(e,t[n]);let u=Math.ceil(1.5*c/8),d=[],h=[];return function t(n,r,i,s,a){for(let c=i;c<s;){let i=c,f=r[c],p=$A(e,n[c]);for(c++;c<s;c++){let t=$A(e,n[c]);if(p+t>=u)break;p+=t}if(c==i+1){if(p>u){let e=n[i];t(e.children,e.positions,0,e.children.length,r[i]+a);continue}d.push(n[i])}else{let t=r[c-1]+n[c-1].length-f;d.push(_A(e,n,r,i,c,f,t,null,l))}h.push(f+a-o)}}(t,n,r,i,0),(a||l)(d,h,s)}class PA{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof yA?this.setBuffer(e.context.buffer,e.index,t):e instanceof mA&&this.map.set(e.tree,t)}get(e){return e instanceof yA?this.getBuffer(e.context.buffer,e.index):e instanceof mA?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class EA{constructor(e,t,n,r,i=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(i?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new EA(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],i=1,o=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;o&&o.from<u;){let t=o;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new EA(e,n,t.tree,t.offset+l,s>0,!!c)}if(t&&r.push(t),o.to>u)break;o=i<e.length?e[i++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return r}}class CA{startParse(e,t,n){return"string"==typeof e&&(e=new TA(e)),n=n?n.length?n.map(e=>new eA(e.from,e.to)):[new eA(0,0)]:[new eA(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class TA{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new tA({perNode:!0});let IA=0;class QA{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=IA++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n="string"==typeof e?e:"?";if(e instanceof QA&&(t=e),null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let r=new QA(n,[],null,[]);if(r.set.push(r),t)for(let e of t.set)r.set.push(e);return r}static defineModifier(e){let t=new NA(e);return e=>e.modified.indexOf(t)>-1?e:NA.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}}let AA=0;class NA{constructor(e){this.name=e,this.instances=[],this.id=AA++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(n=>{return n.base==e&&(r=t,i=n.modified,r.length==i.length&&r.every((e,t)=>e==i[t]));var r,i});if(n)return n;let r=[],i=new QA(e.name,r,e,t);for(let e of t)e.instances.push(i);let o=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((e,t)=>t.length-e.length)}(t);for(let t of e.set)if(!t.modified.length)for(let e of o)r.push(NA.get(t,e));return i}}function MA(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],i=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){i=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new zA(r,i,s>0?n.slice(0,s):null);t[a]=l.sort(t[a])}}return DA.add(t)}const DA=new tA;class zA{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function jA(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:i=null}=t||{};return{style:e=>{let t=i;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function RA(e,t,n,r=0,i=e.length){let o=new ZA(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}zA.empty=new zA([],2,null);class ZA{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,i){let{type:o,from:s,to:a}=e;if(s>=n||a<=t)return;o.isTop&&(i=this.highlighters.filter(e=>!e.scope||e.scope(o)));let l=r,c=function(e){let t=e.type.prop(DA);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||zA.empty,u=function(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+" "+e:e)}return n}(i,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(t,s),l),c.opaque)return;let d=e.tree&&e.tree.prop(tA.mounted);if(d&&d.overlay){let o=e.node.enter(d.overlay[0].from+s,1),c=this.highlighters.filter(e=>!e.scope||e.scope(d.tree.type)),u=e.firstChild();for(let h=0,f=s;;h++){let p=h<d.overlay.length?d.overlay[h]:null,m=p?p.from+s:a,g=Math.max(t,f),v=Math.min(n,m);if(g<v&&u)for(;e.from<v&&(this.highlightRange(e,g,v,r,i),this.startSpan(Math.min(v,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;f=p.to+s,f>t&&(this.highlightRange(o.cursor(),Math.max(t,p.from+s),Math.min(n,f),"",c),this.startSpan(Math.min(n,f),l))}u&&e.parent()}else if(e.firstChild()){d&&(r="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}const LA=QA.define,UA=LA(),XA=LA(),VA=LA(XA),BA=LA(XA),YA=LA(),WA=LA(YA),FA=LA(YA),qA=LA(),GA=LA(qA),HA=LA(),KA=LA(),JA=LA(),eN=LA(JA),tN=LA(),nN={comment:UA,lineComment:LA(UA),blockComment:LA(UA),docComment:LA(UA),name:XA,variableName:LA(XA),typeName:VA,tagName:LA(VA),propertyName:BA,attributeName:LA(BA),className:LA(XA),labelName:LA(XA),namespace:LA(XA),macroName:LA(XA),literal:YA,string:WA,docString:LA(WA),character:LA(WA),attributeValue:LA(WA),number:FA,integer:LA(FA),float:LA(FA),bool:LA(YA),regexp:LA(YA),escape:LA(YA),color:LA(YA),url:LA(YA),keyword:HA,self:LA(HA),null:LA(HA),atom:LA(HA),unit:LA(HA),modifier:LA(HA),operatorKeyword:LA(HA),controlKeyword:LA(HA),definitionKeyword:LA(HA),moduleKeyword:LA(HA),operator:KA,derefOperator:LA(KA),arithmeticOperator:LA(KA),logicOperator:LA(KA),bitwiseOperator:LA(KA),compareOperator:LA(KA),updateOperator:LA(KA),definitionOperator:LA(KA),typeOperator:LA(KA),controlOperator:LA(KA),punctuation:JA,separator:LA(JA),bracket:eN,angleBracket:LA(eN),squareBracket:LA(eN),paren:LA(eN),brace:LA(eN),content:qA,heading:GA,heading1:LA(GA),heading2:LA(GA),heading3:LA(GA),heading4:LA(GA),heading5:LA(GA),heading6:LA(GA),contentSeparator:LA(qA),list:LA(qA),quote:LA(qA),emphasis:LA(qA),strong:LA(qA),link:LA(qA),monospace:LA(qA),strikethrough:LA(qA),inserted:LA(),deleted:LA(),changed:LA(),invalid:LA(),meta:tN,documentMeta:LA(tN),annotation:LA(tN),processingInstruction:LA(tN),definition:QA.defineModifier("definition"),constant:QA.defineModifier("constant"),function:QA.defineModifier("function"),standard:QA.defineModifier("standard"),local:QA.defineModifier("local"),special:QA.defineModifier("special")};for(let e in nN){let t=nN[e];t instanceof QA&&(t.name=e)}jA([{tag:nN.link,class:"tok-link"},{tag:nN.heading,class:"tok-heading"},{tag:nN.emphasis,class:"tok-emphasis"},{tag:nN.strong,class:"tok-strong"},{tag:nN.keyword,class:"tok-keyword"},{tag:nN.atom,class:"tok-atom"},{tag:nN.bool,class:"tok-bool"},{tag:nN.url,class:"tok-url"},{tag:nN.labelName,class:"tok-labelName"},{tag:nN.inserted,class:"tok-inserted"},{tag:nN.deleted,class:"tok-deleted"},{tag:nN.literal,class:"tok-literal"},{tag:nN.string,class:"tok-string"},{tag:nN.number,class:"tok-number"},{tag:[nN.regexp,nN.escape,nN.special(nN.string)],class:"tok-string2"},{tag:nN.variableName,class:"tok-variableName"},{tag:nN.local(nN.variableName),class:"tok-variableName tok-local"},{tag:nN.definition(nN.variableName),class:"tok-variableName tok-definition"},{tag:nN.special(nN.variableName),class:"tok-variableName2"},{tag:nN.definition(nN.propertyName),class:"tok-propertyName tok-definition"},{tag:nN.typeName,class:"tok-typeName"},{tag:nN.namespace,class:"tok-namespace"},{tag:nN.className,class:"tok-className"},{tag:nN.macroName,class:"tok-macroName"},{tag:nN.propertyName,class:"tok-propertyName"},{tag:nN.operator,class:"tok-operator"},{tag:nN.comment,class:"tok-comment"},{tag:nN.meta,class:"tok-meta"},{tag:nN.invalid,class:"tok-invalid"},{tag:nN.punctuation,class:"tok-punctuation"}]);var rN;const iN=new tA;function oN(e){return X$.define({combine:e?t=>t.concat(e):void 0})}const sN=new tA;class aN{constructor(e,t,n=[],r=""){this.data=e,this.name=r,I_.prototype.hasOwnProperty("tree")||Object.defineProperty(I_.prototype,"tree",{get(){return uN(this)}}),this.parser=t,this.extension=[yN.of(this),I_.languageData.of((e,t,n)=>{let r=lN(e,t,n),i=r.type.prop(iN);if(!i)return[];let o=e.facet(i),s=r.type.prop(sN);if(s){let i=r.resolve(t-r.from,n);for(let t of s)if(t.test(i,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(o)}}return o})].concat(n)}isActiveAt(e,t,n=-1){return lN(e,t,n).type.prop(iN)==this.data}findRegions(e){let t=e.facet(yN);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(iN)==this.data)return void n.push({from:t,to:t+e.length});let i=e.prop(tA.mounted);if(i){if(i.tree.prop(iN)==this.data){if(i.overlay)for(let e of i.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(i.overlay){let e=n.length;if(r(i.tree,i.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let i=e.children[n];i instanceof cA&&r(i,e.positions[n]+t)}};return r(uN(e),0),n}get allowsNesting(){return!0}}function lN(e,t,n){let r=e.facet(yN),i=uN(e).topNode;if(!r||r.allowsNesting)for(let e=i;e;e=e.enter(t,n,lA.ExcludeBuffers))e.type.isTop&&(i=e);return i}aN.setState=y_.define();class cN extends aN{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=oN(e.languageData);return new cN(t,e.parser.configure({props:[iN.add(e=>e.isTop?t:void 0)]}),e.name)}configure(e,t){return new cN(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function uN(e){let t=e.field(aN.state,!1);return t?t.tree:cA.empty}class dN{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let hN=null;class fN{constructor(e,t,n=[],r,i,o,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new fN(e,t,[],cA.empty,0,n,[],null)}startParse(){return this.parser.startParse(new dN(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=cA.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(EA.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(EA.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=hN;hN=this;try{return e()}finally{hN=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=pN(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:i,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges((e,n,r,i)=>t.push({fromA:e,toA:n,fromB:r,toB:i})),n=EA.applyChanges(n,t),r=cA.empty,i=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&s.push({from:n,to:r})}}}return new fN(this.parser,t,n,r,i,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=pN(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends CA{createParse(t,n,r){let i=r[0].from,o=r[r.length-1].to;return{parsedPos:i,advance(){let t=hN;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new cA(iA.none,[],[],o-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return hN}}function pN(e,t,n){return EA.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class mN{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new mN(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=fN.create(e.facet(yN).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new mN(n)}}aN.state=G$.define({create:mN.init,update(e,t){for(let e of t.effects)if(e.is(aN.setState))return e.value;return t.startState.facet(yN)!=t.state.facet(yN)?mN.init(t.state):e.apply(t)}});let gN=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(gN=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const vN="undefined"!=typeof navigator&&(null===(rN=navigator.scheduling)||void 0===rN?void 0:rN.isInputPending)?()=>navigator.scheduling.isInputPending():null,ON=lC.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(aN.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(aN.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=gN(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(aN.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!vN?Math.max(25,e.timeRemaining()-5):1e9),s=i.context.treeLen<r&&n.doc.length>r+1e3,a=i.context.work(()=>vN&&vN()||Date.now()>o,r+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:aN.setState.of(new mN(i.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(e=>iC(this.view.state,e)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),yN=X$.define({combine:e=>e.length?e[0]:null,enables:e=>[aN.state,ON,dI.contentAttributes.compute([e],t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}})]});class bN{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const wN=X$.define(),xN=X$.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function SN(e){let t=e.facet(xN);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function kN(e,t){let n="",r=e.tabSize,i=e.facet(xN)[0];if("\t"==i){for(;t>=r;)n+="\t",t-=r;i=" "}for(let e=0;e<t;e++)n+=i;return n}function $N(e,t){e instanceof I_&&(e=new _N(e));for(let n of e.state.facet(wN)){let r=n(e,t);if(void 0!==r)return r}let n=uN(e.state);return n.length>=t?function(e,t,n){let r=t.resolveStack(n),i=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let e=[];for(let t=i;t&&!(t.from<r.node.from||t.to>r.node.to||t.from==r.node.from&&t.type==r.node.type);t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return EN(r,e,n)}(e,n,t):null}class _N{constructor(e,t={}){this.state=e,this.options=t,this.unit=SN(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.countColumn(n,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(i+=o-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return q_(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const PN=new tA;function EN(e,t,n){for(let r=e;r;r=r.next){let e=CN(r.node);if(e)return e(IN.create(t,n,r))}return 0}function CN(e){let t=e.type.prop(PN);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(tA.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>NN(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?TN:null}function TN(){return 0}class IN extends _N{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new IN(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(QN(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return EN(this.context.next,this.base,this.pos)}}function QN(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function AN({closing:e,align:t=!0,units:n=1}){return r=>NN(r,t,n,e)}function NN(e,t,n,r,i){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let e=n.to;;){let i=t.childAfter(e);if(!i||i==r)return null;if(!i.type.isSkipped){if(i.from>=s)return null;let e=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+e}}e=i.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}function MN({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const DN=X$.define(),zN=new tA;function jN(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function RN(e,t,n){for(let r of e.facet(DN)){let i=r(e,t,n);if(i)return i}return function(e,t,n){let r=uN(e);if(r.length<n)return null;let i=null;for(let o=r.resolveStack(n,1);o;o=o.next){let s=o.node;if(s.to<=n||s.from>n)continue;if(i&&s.from<t)break;let a=s.type.prop(zN);if(a&&(s.to<r.length-50||r.length==e.doc.length||!jN(s))){let r=a(s,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(i=r)}}return i}(e,t,n)}function ZN(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const LN=y_.define({map:ZN}),UN=y_.define({map:ZN});function XN(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some(e=>e.from<=n&&e.to>=n)||t.push(e.lineBlockAt(n));return t}const VN=G$.define({create:()=>dE.none,update(e,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((t,n)=>e=BN(e,t,n)),e=e.map(t.changes);for(let n of t.effects)if(n.is(LN)&&!WN(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(KN),i=r?dE.replace({widget:new nM(r(t.state,n.value))}):tM;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(UN)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));return t.selection&&(e=BN(e,t.selection.main.head)),e},provide:e=>dI.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(e,t)=>{n.push(e,t)}),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(tM.range(r,i))}return dE.set(t,!0)}});function BN(e,t,n=t){let r=!1;return e.between(t,n,(e,i)=>{e<n&&i>t&&(r=!0)}),r?e.update({filterFrom:t,filterTo:n,filter:(e,r)=>e>=n||r<=t}):e}function YN(e,t,n){var r;let i=null;return null===(r=e.field(VN,!1))||void 0===r||r.between(t,n,(e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})}),i}function WN(e,t,n){let r=!1;return e.between(t,t,(e,i)=>{e==t&&i==n&&(r=!0)}),r}function FN(e,t){return e.field(VN,!1)?t:t.concat(y_.appendConfig.of(JN()))}function qN(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return dI.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${i}.`)}const GN=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of XN(e)){let n=RN(e.state,t.from,t.to);if(n)return e.dispatch({effects:FN(e.state,[LN.of(n),qN(e,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(VN,!1))return!1;let t=[];for(let n of XN(e)){let r=YN(e.state,n.from,n.to);r&&t.push(UN.of(r),qN(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),o=RN(t,i.from,i.to);o&&n.push(LN.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:FN(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(VN,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(e,t)=>{n.push(UN.of({from:e,to:t}))}),e.dispatch({effects:n}),!0}}],HN={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},KN=X$.define({combine:e=>Q_(e,HN)});function JN(e){let t=[VN,oM];return e&&t.push(KN.of(e)),t}function eM(e,t){let{state:n}=e,r=n.facet(KN),i=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=YN(e.state,n.from,n.to);r&&e.dispatch({effects:UN.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const tM=dE.replace({widget:new class extends cE{toDOM(e){return eM(e,null)}}});class nM extends cE{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return eM(e,this.value)}}const rM={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class iM extends CQ{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const oM=dI.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class sM{constructor(e,t){let n;function r(e){let t=eP.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const i="string"==typeof t.all?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof aN?e=>e.prop(iN)==o.data:o?e=>e==o:void 0,this.style=jA(e.map(e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))})),{all:i}).style,this.module=n?new eP(n):null,this.themeType=t.themeType}static define(e,t){return new sM(e,t||{})}}const aM=X$.define(),lM=X$.define({combine:e=>e.length?[e[0]]:null});function cM(e){let t=e.facet(aM);return t.length?t:e.facet(lM)}function uM(e,t){let n,r=[hM];return e instanceof sM&&(e.module&&r.push(dI.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?r.push(lM.of(e)):n?r.push(aM.computeN([dI.darkTheme],t=>t.facet(dI.darkTheme)==("dark"==n)?[e]:[])):r.push(aM.of(e)),r}class dM{constructor(e){this.markCache=Object.create(null),this.tree=uN(e.state),this.decorations=this.buildDeco(e,cM(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=uN(e.state),n=cM(e.state),r=n!=cM(e.startState),{viewport:i}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!r&&t.type==this.tree.type&&o>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=i.to)}buildDeco(e,t){if(!t||!this.tree.length)return dE.none;let n=new j_;for(let{from:r,to:i}of e.visibleRanges)RA(this.tree,t,(e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=dE.mark({class:r})))},r,i);return n.finish()}}const hM=n_.high(lC.fromClass(dM,{decorations:e=>e.decorations})),fM=sM.define([{tag:nN.meta,color:"#404740"},{tag:nN.link,textDecoration:"underline"},{tag:nN.heading,textDecoration:"underline",fontWeight:"bold"},{tag:nN.emphasis,fontStyle:"italic"},{tag:nN.strong,fontWeight:"bold"},{tag:nN.strikethrough,textDecoration:"line-through"},{tag:nN.keyword,color:"#708"},{tag:[nN.atom,nN.bool,nN.url,nN.contentSeparator,nN.labelName],color:"#219"},{tag:[nN.literal,nN.inserted],color:"#164"},{tag:[nN.string,nN.deleted],color:"#a11"},{tag:[nN.regexp,nN.escape,nN.special(nN.string)],color:"#e40"},{tag:nN.definition(nN.variableName),color:"#00f"},{tag:nN.local(nN.variableName),color:"#30a"},{tag:[nN.typeName,nN.namespace],color:"#085"},{tag:nN.className,color:"#167"},{tag:[nN.special(nN.variableName),nN.macroName],color:"#256"},{tag:nN.definition(nN.propertyName),color:"#00c"},{tag:nN.comment,color:"#940"},{tag:nN.invalid,color:"#f00"}]),pM=dI.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),mM="()[]{}",gM=X$.define({combine:e=>Q_(e,{afterCursor:!0,brackets:mM,maxScanDistance:1e4,renderMatch:yM})}),vM=dE.mark({class:"cm-matchingBracket"}),OM=dE.mark({class:"cm-nonmatchingBracket"});function yM(e){let t=[],n=e.matched?vM:OM;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const bM=G$.define({create:()=>dE.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(gM);for(let e of t.state.selection.ranges){if(!e.empty)continue;let i=$M(t.state,e.head,-1,r)||e.head>0&&$M(t.state,e.head-1,1,r)||r.afterCursor&&($M(t.state,e.head,1,r)||e.head<t.state.doc.length&&$M(t.state,e.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,t.state)))}return dE.set(n,!0)},provide:e=>dI.decorations.from(e)}),wM=[bM,pM];const xM=new tA;function SM(e,t,n){let r=e.prop(t<0?tA.openedBy:tA.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function kM(e){let t=e.type.prop(xM);return t?t(e.node):e}function $M(e,t,n,r={}){let i=r.maxScanDistance||1e4,o=r.brackets||mM,s=uN(e),a=s.resolveInner(t,n);for(let r=a;r;r=r.parent){let i=SM(r.type,n,o);if(i&&r.from<r.to){let s=kM(r);if(s&&(n>0?t>=s.from&&t<s.to:t>s.from&&t<=s.to))return _M(e,t,n,r,s,i,o)}}return function(e,t,n,r,i,o,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!u.next().done&&e<=o;){let o=u.value;n<0&&(e+=o.length);let a=t+e*n;for(let e=n>0?0:o.length-1,t=n>0?o.length:-1;e!=t;e+=n){let t=s.indexOf(o[e]);if(!(t<0||r.resolveInner(a+e,1).type!=i))if(t%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};d--}}n>0&&(e+=o.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,i,o)}function _M(e,t,n,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},c=0,u=null==a?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&o.indexOf(u.type.name)>-1&&u.from<u.to){let e=kM(u);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(SM(u.type,n,s))c++;else if(SM(u.type,-n,s)){if(0==c){let e=kM(u);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const PM=Object.create(null),EM=[iA.none],CM=[],TM=Object.create(null),IM=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])IM[e]=AM(PM,t);function QM(e,t){CM.indexOf(e)>-1||(CM.push(e),console.warn(t))}function AM(e,t){let n=[];for(let r of t.split(" ")){let t=[];for(let n of r.split(".")){let r=e[n]||nN[n];r?"function"==typeof r?t.length?t=t.map(r):QM(n,`Modifier ${n} used at start of tag`):t.length?QM(n,`Tag ${n} used as modifier`):t=Array.isArray(r)?r:[r]:QM(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+n.map(e=>e.id),o=TM[i];if(o)return o.id;let s=TM[i]=iA.define({id:EM.length,name:r,props:[MA({[r]:n})]});return EM.push(s),s.id}SE.RTL,SE.LTR;function NM(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return!!i&&(r(n.update(i)),!0)}}const MM=NM(LM,0),DM=NM(ZM,0),zM=NM((e,t)=>ZM(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:e.doc.lineAt(n.to-1));let o=t.length-1;o>=0&&t[o].to>r.from?t[o].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}(t)),0);function jM(e,t){let n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}const RM=50;function ZM(e,t,n=t.selection.ranges){let r=n.map(e=>jM(t,e.from).block);if(!r.every(e=>e))return null;let i=n.map((e,n)=>function(e,{open:t,close:n},r,i){let o,s,a=e.sliceDoc(r-RM,r),l=e.sliceDoc(i,i+RM),c=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,d=a.length-c;if(a.slice(d-t.length,d)==t&&l.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};i-r<=2*RM?o=s=e.sliceDoc(r,i):(o=e.sliceDoc(r,r+RM),s=e.sliceDoc(i-RM,i));let h=/^\s*/.exec(o)[0].length,f=/\s*$/.exec(s)[0].length,p=s.length-f-n.length;return o.slice(h,h+t.length)==t&&s.slice(p,p+n.length)==n?{open:{pos:r+h+t.length,margin:/\s/.test(o.charAt(h+t.length))?1:0},close:{pos:i-f-n.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(t,r[n],e.from,e.to));if(2!=e&&!i.every(e=>e))return{changes:t.changes(n.map((e,t)=>i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]))};if(1!=e&&i.some(e=>e)){let e=[];for(let t,n=0;n<i.length;n++)if(t=i[n]){let i=r[n],{open:o,close:s}=t;e.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:e}}return null}function LM(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:e,to:o}of n){let n=r.length,s=1e9,a=jM(t,e).line;if(a){for(let n=e;n<=o;){let l=t.doc.lineAt(n);if(l.from>i&&(e==o||o>l.from)){i=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,n=l.text.slice(e,e+a.length)==a?e:-1;e<l.text.length&&e<s&&(s=e),r.push({line:l,comment:n,token:a,indent:e,empty:t,single:!1})}n=l.to+1}if(s<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=s);r.length==n+1&&(r[n].single=!0)}}if(2!=e&&r.some(e=>e.comment<0&&(!e.empty||e.single))){let e=[];for(let{line:t,token:n,indent:i,empty:o,single:s}of r)!s&&o||e.push({from:t.from+i,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some(e=>e.comment>=0)){let e=[];for(let{line:t,comment:n,token:i}of r)if(n>=0){let r=t.from+n,o=r+i.length;" "==t.text[o-t.from]&&o++,e.push({from:r,to:o})}return{changes:e}}return null}const UM=g_.define(),XM=g_.define(),VM=X$.define(),BM=X$.define({combine:e=>Q_(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),YM=G$.define({create:()=>lD.empty,update(e,t){let n=t.state.facet(BM),r=t.annotation(UM);if(r){let i=KM.fromTransaction(t,r.selection),o=r.side,s=0==o?e.undone:e.done;return s=i?JM(s,s.length,n.minDepth,i):rD(s,t.startState.selection),new lD(0==o?r.rest:s,0==o?s:r.rest)}let i=t.annotation(XM);if("full"!=i&&"before"!=i||(e=e.isolate()),!1===t.annotation(b_.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=KM.fromTransaction(t),s=t.annotation(b_.time),a=t.annotation(b_.userEvent);return o?e=e.addChanges(o,s,a,n,t):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),"full"!=i&&"after"!=i||(e=e.isolate()),e},toJSON:e=>({done:e.done.map(e=>e.toJSON()),undone:e.undone.map(e=>e.toJSON())}),fromJSON:e=>new lD(e.done.map(KM.fromJSON),e.undone.map(KM.fromJSON))});function WM(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(YM,!1);if(!i)return!1;let o=i.pop(e,n,t);return!!o&&(r(o),!0)}}const FM=WM(0,!1),qM=WM(1,!1),GM=WM(0,!0),HM=WM(1,!0);class KM{constructor(e,t,n,r,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(e){return new KM(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(e=>e.toJSON())}}static fromJSON(e){return new KM(e.changes&&Q$.fromJSON(e.changes),[],e.mapped&&I$.fromJSON(e.mapped),e.startSelection&&Z$.fromJSON(e.startSelection),e.selectionsAfter.map(Z$.fromJSON))}static fromTransaction(e,t){let n=tD;for(let t of e.startState.facet(VM)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new KM(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,tD)}static selection(e){return new KM(void 0,tD,void 0,void 0,e)}}function JM(e,t,n,r){let i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function eD(e,t){return e.length?t.length?e.concat(t):e:t}const tD=[],nD=200;function rD(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-nD));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),JM(e,e.length-1,1e9,n.setSelAfter(r)))}return[KM.selection([t])]}function iD(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function oD(e,t){if(!e.length)return e;let n=e.length,r=tD;for(;n;){let i=sD(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,n);return t[n-1]=i,t}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[KM.selection(r)]:tD}function sD(e,t,n){let r=eD(e.selectionsAfter.length?e.selectionsAfter.map(e=>e.map(t)):tD,n);if(!e.changes)return KM.selection(r);let i=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new KM(i,y_.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}const aD=/^(input\.type|delete)($|\.)/;class lD{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new lD(this.done,this.undone):this}addChanges(e,t,n,r,i){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||aD.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(e,t){let n=[],r=!1;return e.iterChangedRanges((e,t)=>n.push(e,t)),t.iterChangedRanges((e,t,i,o)=>{for(let e=0;e<n.length;){let t=n[e++],s=n[e++];o>=t&&i<=s&&(r=!0)}}),r}(s.changes,e.changes))||"input.type.compose"==n)?JM(o,o.length-1,r.minDepth,new KM(e.changes.compose(s.changes),eD(y_.mapEffects(e.effects,s.changes),s.effects),s.mapped,s.startSelection,tD)):JM(o,o.length,r.minDepth,e),new lD(o,tD,t,n)}addSelection(e,t,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:tD;return i.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(o=i[i.length-1],s=e,o.ranges.length==s.ranges.length&&0===o.ranges.filter((e,t)=>e.empty!=s.ranges[t].empty).length)?this:new lD(rD(this.done,e),this.undone,t,n);var o,s}addMapping(e){return new lD(oD(this.done,e),oD(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],o=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:UM.of({side:e,rest:iD(r),selection:o}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?tD:r.slice(0,r.length-1);return i.mapped&&(n=oD(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:UM.of({side:e,rest:n,selection:o}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}lD.empty=new lD(tD,tD);const cD=[{key:"Mod-z",run:FM,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:qM,preventDefault:!0},{linux:"Ctrl-Shift-z",run:qM,preventDefault:!0},{key:"Mod-u",run:GM,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:HM,preventDefault:!0}];function uD(e,t){return Z$.create(e.ranges.map(t),e.mainIndex)}function dD(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function hD({state:e,dispatch:t},n){let r=uD(e.selection,n);return!r.eq(e.selection,!0)&&(t(dD(e,r)),!0)}function fD(e,t){return Z$.cursor(t?e.to:e.from)}function pD(e,t){return hD(e,n=>n.empty?e.moveByChar(n,t):fD(n,t))}function mD(e){return e.textDirectionAt(e.state.selection.main.head)==SE.LTR}const gD=e=>pD(e,!mD(e)),vD=e=>pD(e,mD(e));function OD(e,t){return hD(e,n=>n.empty?e.moveByGroup(n,t):fD(n,t))}"undefined"!=typeof Intl&&Intl.Segmenter;function yD(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function bD(e,t,n){let r,i,o=uN(e).resolveInner(t.head),s=n?tA.closedBy:tA.openedBy;for(let r=t.head;;){let t=n?o.childAfter(r):o.childBefore(r);if(!t)break;yD(e,t,s)?o=t:r=n?t.to:t.from}return i=o.type.prop(s)&&(r=n?$M(e,o.from,1):$M(e,o.to,-1))&&r.matched?n?r.end.to:r.end.from:n?o.to:o.from,Z$.cursor(i,n?-1:1)}function wD(e,t){return hD(e,n=>{if(!n.empty)return fD(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)})}const xD=e=>wD(e,!1),SD=e=>wD(e,!0);function kD(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,i=0;if(n){for(let t of e.state.facet(dI.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}t=e.scrollDOM.clientHeight-r-i}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function $D(e,t){let n,r=kD(e),{state:i}=e,o=uD(i.selection,n=>n.empty?e.moveVertically(n,t,r.height):fD(n,t));if(o.eq(i.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(i.selection.main.head),s=e.scrollDOM.getBoundingClientRect(),a=s.top+r.marginTop,l=s.bottom-r.marginBottom;t&&t.top>a&&t.bottom<l&&(n=dI.scrollIntoView(o.main.head,{y:"start",yMargin:t.top-a}))}return e.dispatch(dD(i,o),{effects:n}),!0}const _D=e=>$D(e,!1),PD=e=>$D(e,!0);function ED(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(i=Z$.cursor(r.from+n))}return i}function CD(e,t,n){let r=!1,i=uD(e.selection,t=>{let i=$M(e,t.head,-1)||$M(e,t.head,1)||t.head>0&&$M(e,t.head-1,1)||t.head<e.doc.length&&$M(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;let o=i.start.from==t.head?i.end.to:i.end.from;return n?Z$.range(t.anchor,o):Z$.cursor(o)});return!!r&&(t(dD(e,i)),!0)}function TD(e,t){let n=uD(e.state.selection,e=>{let n=t(e);return Z$.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return!n.eq(e.state.selection)&&(e.dispatch(dD(e.state,n)),!0)}function ID(e,t){return TD(e,n=>e.moveByChar(n,t))}const QD=e=>ID(e,!mD(e)),AD=e=>ID(e,mD(e));function ND(e,t){return TD(e,n=>e.moveByGroup(n,t))}function MD(e,t){return TD(e,n=>e.moveVertically(n,t))}const DD=e=>MD(e,!1),zD=e=>MD(e,!0);function jD(e,t){return TD(e,n=>e.moveVertically(n,t,kD(e).height))}const RD=e=>jD(e,!1),ZD=e=>jD(e,!0),LD=({state:e,dispatch:t})=>(t(dD(e,{anchor:0})),!0),UD=({state:e,dispatch:t})=>(t(dD(e,{anchor:e.doc.length})),!0),XD=({state:e,dispatch:t})=>(t(dD(e,{anchor:e.selection.main.anchor,head:0})),!0),VD=({state:e,dispatch:t})=>(t(dD(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function BD(e,t){let{state:n}=e,r=n.selection,i=n.selection.ranges.slice();for(let r of n.selection.ranges){let o=n.doc.lineAt(r.head);if(t?o.to<e.state.doc.length:o.from>0)for(let n=r;;){let r=e.moveVertically(n,t);if(r.head<o.from||r.head>o.to){i.some(e=>e.head==r.head)||i.push(r);break}if(r.head==n.head)break;n=r}}return i.length!=r.ranges.length&&(e.dispatch(dD(n,Z$.create(i,i.length-1))),!0)}function YD(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,i=r.changeByRange(r=>{let{from:i,to:o}=r;if(i==o){let s=t(r);s<i?(n="delete.backward",s=WD(e,s,!1)):s>i&&(n="delete.forward",s=WD(e,s,!0)),i=Math.min(i,s),o=Math.max(o,s)}else i=WD(e,i,!1),o=WD(e,o,!0);return i==o?{range:r}:{changes:{from:i,to:o},range:Z$.cursor(i,i<r.head?-1:1)}});return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?dI.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function WD(e,t,n){if(e instanceof dI)for(let r of e.state.facet(dI.atomicRanges).map(t=>t(e)))r.between(t,t,(e,r)=>{e<t&&r>t&&(t=n?r:e)});return t}const FD=(e,t,n)=>YD(e,r=>{let i,o,s=r.from,{state:a}=e,l=a.doc.lineAt(s);if(n&&!t&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(i=l.text.slice(0,s-l.from))){if("\t"==i[i.length-1])return s-1;let e=q_(i,a.tabSize)%SN(a)||SN(a);for(let t=0;t<e&&" "==i[i.length-1-t];t++)s--;o=s}else o=$$(l.text,s-l.from,t,t)+l.from,o==s&&l.number!=(t?a.doc.lines:1)?o+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(l.text.slice(o-l.from,s-l.from))&&(o=$$(l.text,o-l.from,!1,!1)+l.from);return o}),qD=e=>FD(e,!1,!0),GD=e=>FD(e,!0,!1),HD=(e,t)=>YD(e,n=>{let r=n.head,{state:i}=e,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let e=null;;){if(r==(t?o.to:o.from)){r==n.head&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let a=$$(o.text,r-o.from,t)+o.from,l=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&r==n.head||(e=c),r=a}return r}),KD=e=>HD(e,!1);function JD(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=e.doc.lineAt(r.to-1)),n>=i.number){let e=t[t.length-1];e.to=o.to,e.ranges.push(r)}else t.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return t}function ez(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let t of JD(e)){if(n?t.to==e.doc.length:0==t.from)continue;let o=e.doc.lineAt(n?t.to+1:t.from-1),s=o.length+1;if(n){r.push({from:t.to,to:o.to},{from:t.from,insert:o.text+e.lineBreak});for(let n of t.ranges)i.push(Z$.range(Math.min(e.doc.length,n.anchor+s),Math.min(e.doc.length,n.head+s)))}else{r.push({from:o.from,to:t.from},{from:t.to,insert:e.lineBreak+o.text});for(let e of t.ranges)i.push(Z$.range(e.anchor-s,e.head-s))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:Z$.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0)}function tz(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of JD(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const nz=iz(!1),rz=iz(!0);function iz(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{let{from:r,to:i}=n,o=t.doc.lineAt(r),s=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=uN(e).resolveInner(t),i=r.childBefore(t),o=r.childAfter(t);return i&&o&&i.to<=t&&o.from>=t&&(n=i.type.prop(tA.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from&&!/\S/.test(e.sliceDoc(i.to,o.from))?{from:i.to,to:o.from}:null}(t,r);e&&(r=i=(i<=o.to?o:t.doc.lineAt(i)).to);let a=new _N(t,{simulateBreak:r,simulateDoubleBreak:!!s}),l=$N(a,r);for(null==l&&(l=q_(/^\s*/.exec(t.doc.lineAt(r).text)[0],t.tabSize));i<o.to&&/\s/.test(o.text[i-o.from]);)i++;s?({from:r,to:i}=s):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let c=["",kN(t,l)];return s&&c.push(kN(t,a.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:m$.of(c)},range:Z$.cursor(r+1+c[1].length)}});return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function oz(e,t){let n=-1;return e.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let s=e.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(t(s,i,r),n=s.number),o=s.to+1}let o=e.changes(i);return{changes:i,range:Z$.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const sz=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(oz(e,(t,n)=>{n.push({from:t.from,insert:e.facet(xN)})}),{userEvent:"input.indent"})),!0),az=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(oz(e,(t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let i=q_(r,e.tabSize),o=0,s=kN(e,Math.max(0,i-SN(e)));for(;o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+r.length,insert:s.slice(o)})}),{userEvent:"delete.dedent"})),!0),lz=[{key:"Ctrl-b",run:gD,shift:QD,preventDefault:!0},{key:"Ctrl-f",run:vD,shift:AD},{key:"Ctrl-p",run:xD,shift:DD},{key:"Ctrl-n",run:SD,shift:zD},{key:"Ctrl-a",run:e=>hD(e,t=>Z$.cursor(e.lineBlockAt(t.head).from,1)),shift:e=>TD(e,t=>Z$.cursor(e.lineBlockAt(t.head).from))},{key:"Ctrl-e",run:e=>hD(e,t=>Z$.cursor(e.lineBlockAt(t.head).to,-1)),shift:e=>TD(e,t=>Z$.cursor(e.lineBlockAt(t.head).to))},{key:"Ctrl-d",run:GD},{key:"Ctrl-h",run:qD},{key:"Ctrl-k",run:e=>YD(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)})},{key:"Ctrl-Alt-h",run:KD},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:m$.of(["",""])},range:Z$.cursor(e.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),i=n==r.from?n-1:$$(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:$$(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:e.doc.slice(n,o).append(e.doc.slice(i,n))},range:Z$.cursor(o)}});return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:PD}],cz=[{key:"ArrowLeft",run:gD,shift:QD,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>OD(e,!mD(e)),shift:e=>ND(e,!mD(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>hD(e,t=>ED(e,t,!mD(e))),shift:e=>TD(e,t=>ED(e,t,!mD(e))),preventDefault:!0},{key:"ArrowRight",run:vD,shift:AD,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>OD(e,mD(e)),shift:e=>ND(e,mD(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>hD(e,t=>ED(e,t,mD(e))),shift:e=>TD(e,t=>ED(e,t,mD(e))),preventDefault:!0},{key:"ArrowUp",run:xD,shift:DD,preventDefault:!0},{mac:"Cmd-ArrowUp",run:LD,shift:XD},{mac:"Ctrl-ArrowUp",run:_D,shift:RD},{key:"ArrowDown",run:SD,shift:zD,preventDefault:!0},{mac:"Cmd-ArrowDown",run:UD,shift:VD},{mac:"Ctrl-ArrowDown",run:PD,shift:ZD},{key:"PageUp",run:_D,shift:RD},{key:"PageDown",run:PD,shift:ZD},{key:"Home",run:e=>hD(e,t=>ED(e,t,!1)),shift:e=>TD(e,t=>ED(e,t,!1)),preventDefault:!0},{key:"Mod-Home",run:LD,shift:XD},{key:"End",run:e=>hD(e,t=>ED(e,t,!0)),shift:e=>TD(e,t=>ED(e,t,!0)),preventDefault:!0},{key:"Mod-End",run:UD,shift:VD},{key:"Enter",run:nz,shift:nz},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:qD,shift:qD,preventDefault:!0},{key:"Delete",run:GD,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:KD,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>HD(e,!0),preventDefault:!0},{mac:"Mod-Backspace",run:e=>YD(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}),preventDefault:!0},{mac:"Mod-Delete",run:e=>YD(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),preventDefault:!0}].concat(lz.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),uz=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>hD(e,t=>bD(e.state,t,!mD(e))),shift:e=>TD(e,t=>bD(e.state,t,!mD(e)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>hD(e,t=>bD(e.state,t,mD(e))),shift:e=>TD(e,t=>bD(e.state,t,mD(e)))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>ez(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>tz(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>ez(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>tz(e,t,!0)},{key:"Mod-Alt-ArrowUp",run:e=>BD(e,!1)},{key:"Mod-Alt-ArrowDown",run:e=>BD(e,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Z$.create([n.main]):n.main.empty||(r=Z$.create([Z$.cursor(n.main.head)])),!!r&&(t(dD(e,r)),!0)}},{key:"Mod-Enter",run:rz},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=JD(e).map(({from:t,to:n})=>Z$.range(t,Math.min(n+1,e.doc.length)));return t(e.update({selection:Z$.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=uD(e.selection,t=>{let n=uN(e),r=n.resolveStack(t.from,1);if(t.empty){let e=n.resolveStack(t.from,-1);e.node.from>=r.node.from&&e.node.to<=r.node.to&&(r=e)}for(let e=r;e;e=e.next){let{node:n}=e;if((n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&e.next)return Z$.range(n.to,n.from)}return t});return!n.eq(e.selection)&&(t(dD(e,n)),!0)},preventDefault:!0},{key:"Mod-[",run:az},{key:"Mod-]",run:sz},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new _N(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),i=oz(e,(t,i,o)=>{let s=$N(r,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=kN(e,s);(a!=l||o.from<t.from+a.length)&&(n[t.from]=s,i.push({from:t.from,to:t.from+a.length,insert:l}))});return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(JD(t).map(({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n}))),r=uD(t.selection,t=>{let n;if(e.lineWrapping){let r=e.lineBlockAt(t.head),i=e.coordsAtPos(t.head,t.assoc||1);i&&(n=r.bottom+e.documentTop-i.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,n)}).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>CD(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=jM(e.state,n.from);return r.line?MM(e):!!r.block&&zM(e)}},{key:"Alt-A",run:DM},{key:"Ctrl-m",mac:"Shift-Alt-m",run:e=>(e.setTabFocusMode(),!0)}].concat(cz),dz={key:"Tab",run:sz,shift:az};function hz(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)fz(e,arguments[t]);return e}function fz(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)fz(e,t[n])}}const pz="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class mz{constructor(e,t,n=0,r=e.length,i,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=i?e=>i(pz(e)):pz,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return _$(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=P$(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=E$(e);let r=this.normalize(t);if(r.length)for(let e=0,i=n;;e++){let o=r.charCodeAt(e),s=this.match(o,i,this.bufferPos+this.bufferStart);if(e==r.length-1){if(s)return this.value=s,this;break}i==n&&e<t.length&&t.charCodeAt(e)==o&&i++}}}match(e,t,n){let r=null;for(let t=0;t<this.matches.length;t+=2){let i=this.matches[t],o=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?r={from:this.matches[t+1],to:n}:(this.matches[t]++,o=!0)),o||(this.matches.splice(t,2),t-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(mz.prototype[Symbol.iterator]=function(){return this});const gz={from:-1,to:-1,match:/.*/.exec("")},vz="gm"+(null==/x/.unicode?"":"u");class Oz{constructor(e,t,n,r=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=gz,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new wz(e,t,n,r,i);this.re=new RegExp(t,vz+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=xz(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=xz(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const yz=new WeakMap;class bz{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=yz.get(e);if(!r||r.from>=n||r.to<=t){let r=new bz(t,e.sliceString(t,n));return yz.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:i,from:o}=r;return o>t&&(i=e.sliceString(t,o)+i,o=t),r.to<n&&(i+=e.sliceString(r.to,n)),yz.set(e,new bz(o,i)),new bz(t,i.slice(t-o,n-o))}}class wz{constructor(e,t,n,r,i){this.text=e,this.to=i,this.done=!1,this.value=gz,this.matchPos=xz(e,r),this.re=new RegExp(t,vz+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=bz.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=xz(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=bz.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function xz(e,t){if(t>=e.length)return t;let n,r=e.lineAt(t);for(;t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function Sz(e){let t=hz("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,i=r.doc.lineAt(r.selection.main.head),[,o,s,a,l]=n,c=a?+a.slice(1):0,u=s?+s:i.number;if(s&&l){let e=u/100;o&&(e=e*("-"==o?-1:1)+i.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else s&&o&&(u=u*("-"==o?-1:1)+i.number);let d=r.doc.line(Math.max(1,Math.min(r.doc.lines,u))),h=Z$.cursor(d.from+Math.max(0,Math.min(c,d.length)));e.dispatch({effects:[kz.of(!1),dI.scrollIntoView(h.from,{y:"center"})],selection:h}),e.focus()}return{dom:hz("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:kz.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},hz("label",e.state.phrase("Go to line"),": ",t)," ",hz("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),hz("button",{name:"close",onclick:()=>{e.dispatch({effects:kz.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["×"]))}}"undefined"!=typeof Symbol&&(Oz.prototype[Symbol.iterator]=wz.prototype[Symbol.iterator]=function(){return this});const kz=y_.define(),$z=G$.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(kz)&&(e=n.value);return e},provide:e=>EQ.from(e,e=>e?Sz:null)}),_z=dI.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Pz={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Ez=X$.define({combine:e=>Q_(e,Pz,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});const Cz=dE.mark({class:"cm-selectionMatch"}),Tz=dE.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Iz(e,t,n,r){return!(0!=n&&e(t.sliceDoc(n-1,n))==P_.Word||r!=t.doc.length&&e(t.sliceDoc(r,r+1))==P_.Word)}const Qz=lC.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(Ez),{state:n}=e,r=n.selection;if(r.ranges.length>1)return dE.none;let i,o=r.main,s=null;if(o.empty){if(!t.highlightWordAroundCursor)return dE.none;let e=n.wordAt(o.head);if(!e)return dE.none;s=n.charCategorizer(o.head),i=n.sliceDoc(e.from,e.to)}else{let e=o.to-o.from;if(e<t.minSelectionLength||e>200)return dE.none;if(t.wholeWords){if(i=n.sliceDoc(o.from,o.to),s=n.charCategorizer(o.head),!Iz(s,n,o.from,o.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==P_.Word&&e(t.sliceDoc(r-1,r))==P_.Word}(s,n,o.from,o.to))return dE.none}else if(i=n.sliceDoc(o.from,o.to),!i)return dE.none}let a=[];for(let r of e.visibleRanges){let e=new mz(n.doc,i,r.from,r.to);for(;!e.next().done;){let{from:r,to:i}=e.value;if((!s||Iz(s,n,r,i))&&(o.empty&&r<=o.from&&i>=o.to?a.push(Tz.range(r,i)):(r>=o.to||i<=o.from)&&a.push(Cz.range(r,i)),a.length>t.maxMatches))return dE.none}}return dE.set(a)}},{decorations:e=>e.decorations}),Az=dI.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const Nz=X$.define({combine:e=>Q_(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new cj(e),scrollToMatch:e=>dI.scrollIntoView(e)})});class Mz{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,vz),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Uz(this):new jz(this)}getCursor(e,t=0,n){let r=e.doc?e:I_.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?Rz(this,r,t,n):zz(this,r,t,n)}}class Dz{constructor(e){this.spec=e}}function zz(e,t,n,r){return new mz(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),!(t(Zz(i,n-o))==P_.Word&&t(Lz(i,n-o))==P_.Word||t(Lz(i,r-o))==P_.Word&&t(Zz(i,r-o))==P_.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class jz extends Dz{constructor(e){super(e)}nextMatch(e,t,n){let r=zz(this.spec,e,n,e.doc.length).nextOverlapping();if(r.done){let n=Math.min(e.doc.length,t+this.spec.unquoted.length);r=zz(this.spec,e,0,n).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==n?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),i=zz(this.spec,e,n,r),o=null;for(;!i.nextOverlapping().done;)o=i.value;if(o)return o;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),!r||r.from==t&&r.to==n?null:r}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=zz(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=zz(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function Rz(e,t,n,r){return new Oz(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(i(Zz(n.input,n.index))!=P_.Word||i(Lz(n.input,n.index))!=P_.Word)&&(i(Lz(n.input,n.index+n[0].length))!=P_.Word||i(Zz(n.input,n.index+n[0].length))!=P_.Word)):void 0},n,r);var i}function Zz(e,t){return e.slice($$(e,t,!1),t)}function Lz(e,t){return e.slice(t,$$(e,t))}class Uz extends Dz{nextMatch(e,t,n){let r=Rz(this.spec,e,n,e.doc.length).next();return r.done&&(r=Rz(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let i=Math.max(t,n-1e4*r),o=Rz(this.spec,e,i,n),s=null;for(;!o.next().done;)s=o.value;if(s&&(i==t||s.from>i+10))return s;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if("&"==n)return e.match[0];if("$"==n)return"$";for(let t=n.length;t>0;t--){let r=+n.slice(0,t);if(r>0&&r<e.match.length)return e.match[r]+n.slice(t)}return t})}matchAll(e,t){let n=Rz(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=Rz(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const Xz=y_.define(),Vz=y_.define(),Bz=G$.define({create:e=>new Yz(rj(e).create(),null),update(e,t){for(let n of t.effects)n.is(Xz)?e=new Yz(n.value.create(),e.panel):n.is(Vz)&&(e=new Yz(e.query,n.value?nj:null));return e},provide:e=>EQ.from(e,e=>e.panel)});class Yz{constructor(e,t){this.query=e,this.panel=t}}const Wz=dE.mark({class:"cm-searchMatch"}),Fz=dE.mark({class:"cm-searchMatch cm-searchMatch-selected"}),qz=lC.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(Bz))}update(e){let t=e.state.field(Bz);(t!=e.startState.field(Bz)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return dE.none;let{view:n}=this,r=new j_;for(let t=0,i=n.visibleRanges,o=i.length;t<o;t++){let{from:s,to:a}=i[t];for(;t<o-1&&a>i[t+1].from-500;)a=i[++t].to;e.highlight(n.state,s,a,(e,t)=>{let i=n.state.selection.ranges.some(n=>n.from==e&&n.to==t);r.add(e,t,i?Fz:Wz)})}return r.finish()}},{decorations:e=>e.decorations});function Gz(e){return t=>{let n=t.state.field(Bz,!1);return n&&n.query.spec.valid?e(t,n):sj(t)}}const Hz=Gz((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let i=Z$.single(r.from,r.to),o=e.state.facet(Nz);return e.dispatch({selection:i,effects:[fj(e,r),o.scrollToMatch(i.main,e)],userEvent:"select.search"}),oj(e),!0}),Kz=Gz((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,i=t.prevMatch(n,r,r);if(!i)return!1;let o=Z$.single(i.from,i.to),s=e.state.facet(Nz);return e.dispatch({selection:o,effects:[fj(e,i),s.scrollToMatch(o.main,e)],userEvent:"select.search"}),oj(e),!0}),Jz=Gz((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:Z$.create(n.map(e=>Z$.range(e.from,e.to))),userEvent:"select.search.matches"}),!0)}),ej=Gz((e,{query:t})=>{let{state:n}=e,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=t.nextMatch(n,r,r);if(!o)return!1;let s,a,l=o,c=[],u=[];l.from==r&&l.to==i&&(a=n.toText(t.getReplacement(l)),c.push({from:l.from,to:l.to,insert:a}),l=t.nextMatch(n,l.from,l.to),u.push(dI.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let d=e.state.changes(c);return l&&(s=Z$.single(l.from,l.to).map(d),u.push(fj(e,l)),u.push(n.facet(Nz).scrollToMatch(s.main,e))),e.dispatch({changes:d,selection:s,effects:u,userEvent:"input.replace"}),!0}),tj=Gz((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}});if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:dI.announce.of(r),userEvent:"input.replace.all"}),!0});function nj(e){return e.state.facet(Nz).createPanel(e)}function rj(e,t){var n,r,i,o,s;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(Nz);return new Mz({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(i=null==t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(o=null==t?void 0:t.regexp)&&void 0!==o?o:c.regexp,wholeWord:null!==(s=null==t?void 0:t.wholeWord)&&void 0!==s?s:c.wholeWord})}function ij(e){let t=kQ(e,nj);return t&&t.dom.querySelector("[main-field]")}function oj(e){let t=ij(e);t&&t==e.root.activeElement&&t.select()}const sj=e=>{let t=e.state.field(Bz,!1);if(t&&t.panel){let n=ij(e);if(n&&n!=e.root.activeElement){let r=rj(e.state,t.query.spec);r.valid&&e.dispatch({effects:Xz.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[Vz.of(!0),t?Xz.of(rj(e.state,t.query.spec)):y_.appendConfig.of(mj)]});return!0},aj=e=>{let t=e.state.field(Bz,!1);if(!t||!t.panel)return!1;let n=kQ(e,nj);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:Vz.of(!1)}),!0},lj=[{key:"Mod-f",run:sj,scope:"editor search-panel"},{key:"F3",run:Hz,shift:Kz,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Hz,shift:Kz,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:aj,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let t=new mz(e.doc,e.sliceDoc(r,i));!t.next().done;){if(o.length>1e3)return!1;t.value.from==r&&(s=o.length),o.push(Z$.range(t.value.from,t.value.to))}return t(e.update({selection:Z$.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=kQ(e,Sz);if(!t){let n=[kz.of(!0)];null==e.state.field($z,!1)&&n.push(y_.appendConfig.of([$z,_z])),e.dispatch({effects:n}),t=kQ(e,Sz)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(e=>e.from===e.to))return(({state:e,dispatch:t})=>{let{selection:n}=e,r=Z$.create(n.ranges.map(t=>e.wordAt(t.head)||Z$.cursor(t.head)),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(t=>e.sliceDoc(t.from,t.to)!=r))return!1;let i=function(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new mz(e.doc,t,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some(e=>e.from==i.value.from))continue;if(o){let t=e.wordAt(i.value.from);if(!t||t.from!=i.value.from||t.to!=i.value.to)continue}return i.value}if(n)return null;i=new mz(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(e,r);return!!i&&(t(e.update({selection:e.selection.addRange(Z$.range(i.from,i.to),!1),effects:dI.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class cj{constructor(e){this.view=e;let t=this.query=e.state.field(Bz).query.spec;function n(e,t,n){return hz("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=hz("input",{value:t.search,placeholder:uj(e,"Find"),"aria-label":uj(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=hz("input",{value:t.replace,placeholder:uj(e,"Replace"),"aria-label":uj(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=hz("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=hz("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=hz("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=hz("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",()=>Hz(e),[uj(e,"next")]),n("prev",()=>Kz(e),[uj(e,"previous")]),n("select",()=>Jz(e),[uj(e,"all")]),hz("label",null,[this.caseField,uj(e,"match case")]),hz("label",null,[this.reField,uj(e,"regexp")]),hz("label",null,[this.wordField,uj(e,"by word")]),...e.state.readOnly?[]:[hz("br"),this.replaceField,n("replace",()=>ej(e),[uj(e,"replace")]),n("replaceAll",()=>tj(e),[uj(e,"replace all")])],hz("button",{name:"close",onclick:()=>aj(e),"aria-label":uj(e,"close"),type:"button"},["×"])])}commit(){let e=new Mz({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Xz.of(e)}))}keydown(e){var t,n,r;t=this.view,n=e,r="search-panel",$I(wI(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Kz:Hz)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),ej(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(Xz)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Nz).top}}function uj(e,t){return e.state.phrase(t)}const dj=30,hj=/[\s\.,:;?!]/;function fj(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,o=Math.max(r.from,t-dj),s=Math.min(i,n+dj),a=e.state.sliceDoc(o,s);if(o!=r.from)for(let e=0;e<dj;e++)if(!hj.test(a[e+1])&&hj.test(a[e])){a=a.slice(e);break}if(s!=i)for(let e=a.length-1;e>a.length-dj;e--)if(!hj.test(a[e-1])&&hj.test(a[e])){a=a.slice(0,e);break}return dI.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${r.number}.`)}const pj=dI.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),mj=[Bz,n_.low(qz),pj];class gj{constructor(e,t,n,r){this.state=e,this.pos=t,this.explicit=n,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=uN(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(xj(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(e,t,n){"abort"==e&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function vj(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function Oj(e){let t=e.map(e=>"string"==typeof e?{label:e}:e),[n,r]=t.every(e=>/^\w+$/.test(e.label))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let r=vj(t)+vj(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let i=e.matchBefore(r);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}function yj(e,t){return n=>{for(let t=uN(n.state).resolveInner(n.pos,-1);t;t=t.parent){if(e.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return t(n)}}class bj{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}}function wj(e){return e.selection.main.from}function xj(e,t){var n;let{source:r}=e,i=t&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const Sj=g_.define();function kj(e,t,n,r){let{main:i}=e.selection,o=n-i.from,s=r-i.from;return{...e.changeByRange(a=>{if(a!=i&&n!=r&&e.sliceDoc(a.from+o,a.from+s)!=e.sliceDoc(n,r))return{range:a};let l=e.toText(t);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:l},range:Z$.cursor(a.from+o+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const $j=new WeakMap;function _j(e){if(!Array.isArray(e))return e;let t=$j.get(e);return t||$j.set(e,t=Oj(e)),t}const Pj=y_.define(),Ej=y_.define();class Cj{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=_$(e,t),r=E$(n);this.chars.push(n);let i=e.slice(t,t+r),o=i.toUpperCase();this.folded.push(_$(o==i?i.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:i,byWord:o}=this;if(1==t.length){let r=_$(e,0),i=E$(r),o=i==e.length?0:-100;if(r==t[0]);else{if(r!=n[0])return null;o+=-200}return this.ret(o,[0,i])}let s=e.indexOf(this.pattern);if(0==s)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,l=0;if(s<0){for(let i=0,o=Math.min(e.length,200);i<o&&l<a;){let o=_$(e,i);o!=t[l]&&o!=n[l]||(r[l++]=i),i+=E$(o)}if(l<a)return null}let c=0,u=0,d=!1,h=0,f=-1,p=-1,m=/[a-z]/.test(e),g=!0;for(let r=0,l=Math.min(e.length,200),v=0;r<l&&u<a;){let l=_$(e,r);s<0&&(c<a&&l==t[c]&&(i[c++]=r),h<a&&(l==t[h]||l==n[h]?(0==h&&(f=r),p=r+1,h++):h=0));let O,y=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(O=P$(l))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!r||1==y&&m||0==v&&0!=y)&&(t[u]==l||n[u]==l&&(d=!0)?o[u++]=r:o.length&&(g=!1)),v=y,r+=E$(l)}return u==a&&0==o[0]&&g?this.result((d?-200:0)-100,o,e):h==a&&0==f?this.ret(-200-e.length+(p==e.length?0:-100),[0,p]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):h==a?this.ret(-900-e.length,[f,p]):u==a?this.result((d?-200:0)-100-700+(g?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,n){let r=[],i=0;for(let e of t){let t=e+(this.astral?E$(_$(n,e)):1);i&&r[i-1]==e?r[i-1]=t:(r[i++]=e,r[i++]=t)}return this.ret(e-n.length,r)}}class Tj{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Ij=X$.define({combine:e=>Q_(e,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Aj,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>Qj(e(n),t(n)),optionClass:(e,t)=>n=>Qj(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})});function Qj(e,t){return e?t?e+" "+t:e:t}function Aj(e,t,n,r,i,o){let s,a,l=e.textDirection==SE.RTL,c=l,u=!1,d="top",h=t.left-i.left,f=i.right-t.right,p=r.right-r.left,m=r.bottom-r.top;if(c&&h<Math.min(p,f)?c=!1:!c&&f<Math.min(p,h)&&(c=!0),p<=(c?h:f))s=Math.max(i.top,Math.min(n.top,i.bottom-m))-t.top,a=Math.min(400,c?h:f);else{u=!0,a=Math.min(400,(l?t.right:i.right-t.left)-30);let e=i.bottom-t.bottom;e>=m||e>t.top?s=n.bottom-t.top:(d="bottom",s=t.bottom-n.top)}return{style:`${d}: ${s/((t.bottom-t.top)/o.offsetHeight)}px; max-width: ${a/((t.right-t.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function Nj(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class Mj{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:i,selected:o}=r.open,s=e.state.facet(Ij);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map(e=>"cm-completionIcon-"+e)),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n,r){let i=document.createElement("span");i.className="cm-completionLabel";let o=e.displayLabel||e.label,s=0;for(let e=0;e<r.length;){let t=r[e++],n=r[e++];t>s&&i.appendChild(document.createTextNode(o.slice(s,t)));let a=i.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(o.slice(t,n))),a.className="cm-completionMatchedText",s=n}return s<o.length&&i.appendChild(document.createTextNode(o.slice(s))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((e,t)=>e.position-t.position).map(e=>e.render)}(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=Nj(i.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",n=>{let{options:r}=e.state.field(t).open;for(let t,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(t=/-(\d+)$/.exec(i.id))&&+t[1]<r.length)return this.applyCompletion(e,r[+t[1]]),void n.preventDefault()}),this.dom.addEventListener("focusout",t=>{let n=e.state.field(this.stateField,!1);n&&n.tooltip&&e.state.facet(Ij).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ej.of(null)})}),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){let{options:i,selected:o,disabled:s}=n.open;r.open&&r.open.options==i||(this.range=Nj(i.length,o,e.state.facet(Ij).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),s!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Nj(t.options.length,t.selected,this.view.state.facet(Ij).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let i="string"==typeof r?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then(t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,n)}).catch(e=>iC(this.view.state,e,"completion info")):this.addInfoPane(i,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:r}=e;n.appendChild(t),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return t&&function(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){let e=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:e.clientWidth,bottom:e.clientHeight}}return r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(Ij).positionInfo(this.view,t,r,n,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",e=>{e.target==r&&e.preventDefault()});let i=null;for(let o=n.from;o<n.to;o++){let{completion:s,match:a}=e[o],{section:l}=s;if(l){let e="string"==typeof l?l:l.name;if(e!=i&&(o>n.from||0==n.from))if(i=e,"string"!=typeof l&&l.header)r.appendChild(l.header(l));else{r.appendChild(document.createElement("completion-section")).textContent=e}}const c=r.appendChild(document.createElement("li"));c.id=t+"-"+o,c.setAttribute("role","option");let u=this.optionClass(s);u&&(c.className=u);for(let e of this.optionContent){let t=e(s,this.view.state,this.view,a);t&&c.appendChild(t)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Dj(e,t){return n=>new Mj(n,e,t)}function zj(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class jj{constructor(e,t,n,r,i,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new jj(this.options,Uj(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,i,o){if(r&&!o&&e.some(e=>e.isPending))return r.setDisabled();let s=function(e,t){let n=[],r=null,i=null,o=e=>{n.push(e);let{section:t}=e.completion;if(t){r||(r=[]);let e="string"==typeof t?t:t.name;r.some(t=>t.name==e)||r.push("string"==typeof t?{name:e}:t)}},s=t.facet(Ij);for(let r of e)if(r.hasResult()){let e=r.result.getMatch;if(!1===r.result.filter)for(let t of r.result.options)o(new bj(t,r.source,e?e(t):[],1e9-n.length));else{let n,a=t.sliceDoc(r.from,r.to),l=s.filterStrict?new Tj(a):new Cj(a);for(let t of r.result.options)if(n=l.match(t.label)){let s=t.displayLabel?e?e(t,n.matched):[]:n.matched,a=n.score+(t.boost||0);if(o(new bj(t,r.source,s,a)),"object"==typeof t.section&&"dynamic"===t.section.rank){let{name:e}=t.section;i||(i=Object.create(null)),i[e]=Math.max(a,i[e]||-1e9)}}}}if(r){let e=Object.create(null),t=0,o=(e,t)=>("dynamic"===e.rank&&"dynamic"===t.rank?i[t.name]-i[e.name]:0)||("number"==typeof e.rank?e.rank:1e9)-("number"==typeof t.rank?t.rank:1e9)||(e.name<t.name?-1:1);for(let n of r.sort(o))t-=1e5,e[n.name]=t;for(let t of n){let{section:n}=t.completion;n&&(t.score+=e["string"==typeof n?n:n.name])}}let a=[],l=null,c=s.compareCompletions;for(let e of n.sort((e,t)=>t.score-e.score||c(e.completion,t.completion))){let t=e.completion;!l||l.label!=t.label||l.detail!=t.detail||null!=l.type&&null!=t.type&&l.type!=t.type||l.apply!=t.apply||l.boost!=t.boost?a.push(e):zj(e.completion)>zj(l)&&(a[a.length-1]=e),l=e.completion}return a}(e,t);if(!s.length)return r&&e.some(e=>e.isPending)?r.setDisabled():null;let a=t.facet(Ij).selectOnOpen?0:-1;if(r&&r.selected!=a&&-1!=r.selected){let e=r.options[r.selected].completion;for(let t=0;t<s.length;t++)if(s[t].completion==e){a=t;break}}return new jj(s,Uj(n,a),{pos:e.reduce((e,t)=>t.hasResult()?Math.min(e,t.from):e,1e8),create:Hj,above:i.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new jj(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new jj(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Rj{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Rj(Xj,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Ij),r=(n.override||t.languageDataAt("autocomplete",wj(t)).map(_j)).map(t=>(this.active.find(e=>e.source==t)||new Bj(t,this.active.some(e=>0!=e.state)?1:0)).update(e,n));r.length==this.active.length&&r.every((e,t)=>e==this.active[t])&&(r=this.active);let i=this.open,o=e.effects.some(e=>e.is(Wj));i&&e.docChanged&&(i=i.map(e.changes)),e.selection||r.some(t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to))||!function(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;r<t.length&&!t[r].hasResult();)r++;let i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}(r,this.active)||o?i=jj.build(r,t,this.id,i,n,o):i&&i.disabled&&!r.some(e=>e.isPending)&&(i=null),!i&&r.every(e=>!e.isPending)&&r.some(e=>e.hasResult())&&(r=r.map(e=>e.hasResult()?new Bj(e.source,0):e));for(let t of e.effects)t.is(Fj)&&(i=i&&i.setSelected(t.value,this.id));return r==this.active&&i==this.open?this:new Rj(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Zj:Lj}}const Zj={"aria-autocomplete":"list"},Lj={};function Uj(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const Xj=[];function Vj(e,t){if(e.isUserEvent("input.complete")){let n=e.annotation(Sj);if(n&&t.activateOnCompletion(n))return 12}let n=e.isUserEvent("input.type");return n&&t.activateOnTyping?5:n?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}class Bj{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return 1==this.state}update(e,t){let n=Vj(e,t),r=this;(8&n||16&n&&this.touches(e))&&(r=new Bj(r.source,0)),4&n&&0==r.state&&(r=new Bj(this.source,1)),r=r.updateFor(e,n);for(let t of e.effects)if(t.is(Pj))r=new Bj(r.source,1,t.value);else if(t.is(Ej))r=new Bj(r.source,0);else if(t.is(Wj))for(let e of t.value)e.source==r.source&&(r=e);return r}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(wj(e.state))}}class Yj extends Bj{constructor(e,t,n,r,i,o){super(e,3,t),this.limit=n,this.result=r,this.from=i,this.to=o}hasResult(){return!0}updateFor(e,t){var n;if(!(3&t))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let i=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=wj(e.state);if(s>o||!r||2&t&&(wj(e.startState)==this.from||s<this.limit))return new Bj(this.source,4&t?1:0);let a=e.changes.mapPos(this.limit);return function(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):xj(e,!0).test(i)}(r.validFor,e.state,i,o)?new Yj(this.source,this.explicit,a,r,i,o):r.update&&(r=r.update(r,i,o,new gj(e.state,s,!1)))?new Yj(this.source,this.explicit,a,r,r.from,null!==(n=r.to)&&void 0!==n?n:wj(e.state)):new Bj(this.source,1,this.explicit)}map(e){if(e.empty)return this;return(this.result.map?this.result.map(this.result,e):this.result)?new Yj(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Bj(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}const Wj=y_.define({map:(e,t)=>e.map(e=>e.map(t))}),Fj=y_.define(),qj=G$.define({create:()=>Rj.start(),update:(e,t)=>e.update(t),provide:e=>[pQ.from(e,e=>e.tooltip),dI.contentAttributes.from(e,e=>e.attrs)]});function Gj(e,t){const n=t.completion.apply||t.completion.label;let r=e.state.field(qj).active.find(e=>e.source==t.source);return r instanceof Yj&&("string"==typeof n?e.dispatch({...kj(e.state,n,r.from,r.to),annotations:Sj.of(t.completion)}):n(e,t.completion,r.from,r.to),!0)}const Hj=Dj(qj,Gj);function Kj(e,t="option"){return n=>{let r=n.state.field(qj,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Ij).interactionDelay)return!1;let i,o=1;"page"==t&&(i=wQ(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),n.dispatch({effects:Fj.of(a)}),!0}}const Jj=e=>!!e.state.field(qj,!1)&&(e.dispatch({effects:Pj.of(!0)}),!0);class eR{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const tR=lC.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(qj).active)t.isPending&&this.startQuery(t)}update(e){let t=e.state.field(qj),n=e.state.facet(Ij);if(!e.selectionSet&&!e.docChanged&&e.startState.field(qj)==t)return;let r=e.transactions.some(e=>{let t=Vj(e,n);return 8&t||(e.selection||e.docChanged)&&!(3&t)});for(let t=0;t<this.running.length;t++){let n=this.running[t];if(r||n.context.abortOnDocChange&&e.docChanged||n.updates.length+e.transactions.length>50&&Date.now()-n.time>1e3){for(let e of n.context.abortListeners)try{e()}catch(e){iC(this.view.state,e)}n.context.abortListeners=null,this.running.splice(t--,1)}else n.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(e=>e.effects.some(e=>e.is(Pj)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(e=>e.isPending&&!this.running.some(t=>t.active.source==e.source))?setTimeout(()=>this.startUpdate(),i):-1,0!=this.composing)for(let t of e.transactions)t.isUserEvent("input.type")?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(qj);for(let e of t.active)e.isPending&&!this.running.some(t=>t.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ij).updateSyncTime))}startQuery(e){let{state:t}=this.view,n=wj(t),r=new gj(t,n,e.explicit,this.view),i=new eR(e,r);this.running.push(i),Promise.resolve(e.source(r)).then(e=>{i.context.aborted||(i.done=e||null,this.scheduleAccept())},e=>{this.view.dispatch({effects:Ej.of(null)}),iC(this.view.state,e)})}scheduleAccept(){this.running.every(e=>void 0!==e.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ij).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(Ij),r=this.view.state.field(qj);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(void 0===o.done)continue;if(this.running.splice(i--,1),o.done){let r=wj(o.updates.length?o.updates[0].startState:this.view.state),i=Math.min(r,o.done.from+(o.active.explicit?0:1)),s=new Yj(o.active.source,o.active.explicit,i,o.done,o.done.from,null!==(e=o.done.to)&&void 0!==e?e:r);for(let e of o.updates)s=s.update(e,n);if(s.hasResult()){t.push(s);continue}}let s=r.active.find(e=>e.source==o.active.source);if(s&&s.isPending)if(null==o.done){let e=new Bj(o.active.source,0);for(let t of o.updates)e=e.update(t,n);e.isPending||t.push(e)}else this.startQuery(s)}(t.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:Wj.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(qj,!1);if(t&&t.tooltip&&this.view.state.facet(Ij).closeOnBlur){let n=t.open&&wQ(this.view,t.open.tooltip);n&&n.dom.contains(e.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:Ej.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:Pj.of(!1)}),20),this.composing=0}}}),nR="object"==typeof navigator&&/Win/.test(navigator.platform),rR=n_.highest(dI.domEventHandlers({keydown(e,t){let n=t.state.field(qj,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&(!nR||!e.altKey)||e.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(e=>e.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(e.key)>-1&&Gj(t,r),!1}})),iR=dI.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class oR{constructor(e,t,n,r){this.field=e,this.line=t,this.from=n,this.to=r}}class sR{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,T$.TrackDel),n=e.mapPos(this.to,1,T$.TrackDel);return null==t||null==n?null:new sR(this.field,t,n)}}class aR{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],r=[t],i=e.doc.lineAt(t),o=/^\s*/.exec(i.text)[0];for(let i of this.lines){if(n.length){let n=o,s=/^\t*/.exec(i)[0].length;for(let t=0;t<s;t++)n+=e.facet(xN);r.push(t+n.length-s),i=n+i.slice(s)}n.push(i),t+=i.length+1}let s=this.fieldPositions.map(e=>new sR(e.field,r[e.line]+e.from,r[e.line]+e.to));return{text:n,ranges:s}}static parse(e){let t,n=[],r=[],i=[];for(let o of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1,l=s.replace(/\\[{}]/g,e=>e[1]);for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:l&&n[t].name==l)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:l}),a=t;for(let e of i)e.field>=a&&e.field++}for(let e of i)if(e.line==r.length&&e.from>t.index){let n=t[2]?3+(t[1]||"").length:2;e.from-=n,e.to-=n}i.push(new oR(a,r.length,t.index,t.index+l.length)),o=o.slice(0,t.index)+s+o.slice(t.index+t[0].length)}o=o.replace(/\\([{}])/g,(e,t,n)=>{for(let e of i)e.line==r.length&&e.from>n&&(e.from--,e.to--);return t}),r.push(o)}return new aR(r,i)}}let lR=dE.widget({widget:new class extends cE{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),cR=dE.mark({class:"cm-snippetField"});class uR{constructor(e,t){this.ranges=e,this.active=t,this.deco=dE.set(e.map(e=>(e.from==e.to?lR:cR).range(e.from,e.to)),!0)}map(e){let t=[];for(let n of this.ranges){let r=n.map(e);if(!r)return null;t.push(r)}return new uR(t,this.active)}selectionInsideField(e){return e.ranges.every(e=>this.ranges.some(t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))}}const dR=y_.define({map:(e,t)=>e&&e.map(t)}),hR=y_.define(),fR=G$.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(dR))return n.value;if(n.is(hR)&&e)return new uR(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>dI.decorations.from(e,e=>e?e.deco:dE.none)});function pR(e,t){return Z$.create(e.filter(e=>e.field==t).map(e=>Z$.range(e.from,e.to)))}function mR(e){let t=aR.parse(e);return(e,n,r,i)=>{let{text:o,ranges:s}=t.instantiate(e.state,r),{main:a}=e.state.selection,l={changes:{from:r,to:i==a.from?a.to:i,insert:m$.of(o)},scrollIntoView:!0,annotations:n?[Sj.of(n),b_.userEvent.of("input.complete")]:void 0};if(s.length&&(l.selection=pR(s,0)),s.some(e=>e.field>0)){let t=new uR(s,0),n=l.effects=[dR.of(t)];void 0===e.state.field(fR,!1)&&n.push(y_.appendConfig.of([fR,yR,wR,iR]))}e.dispatch(e.state.update(l))}}function gR(e){return({state:t,dispatch:n})=>{let r=t.field(fR,!1);if(!r||e<0&&0==r.active)return!1;let i=r.active+e,o=e>0&&!r.ranges.some(t=>t.field==i+e);return n(t.update({selection:pR(r.ranges,i),effects:dR.of(o?null:new uR(r.ranges,i)),scrollIntoView:!0})),!0}}const vR=[{key:"Tab",run:gR(1),shift:gR(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(fR,!1)&&(t(e.update({effects:dR.of(null)})),!0)}],OR=X$.define({combine:e=>e.length?e[0]:vR}),yR=n_.highest(yI.compute([OR],e=>e.facet(OR)));function bR(e,t){return{...t,apply:mR(e)}}const wR=dI.domEventHandlers({mousedown(e,t){let n,r=t.state.field(fR,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let i=r.ranges.find(e=>e.from<=n&&e.to>=n);return!(!i||i.field==r.active)&&(t.dispatch({selection:pR(r.ranges,i.field),effects:dR.of(r.ranges.some(e=>e.field>i.field)?new uR(r.ranges,i.field):null),scrollIntoView:!0}),!0)}});const xR={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},SR=y_.define({map(e,t){let n=t.mapPos(e,-1,T$.TrackAfter);return null==n?void 0:n}}),kR=new class extends A_{};kR.startSide=1,kR.endSide=-1;const $R=G$.define({create:()=>z_.empty,update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}for(let n of t.effects)n.is(SR)&&(e=e.update({add:[kR.range(n.value,n.value+1)]}));return e}});const _R="()[]{}<>«»»«［］｛｝";function PR(e){for(let t=0;t<16;t+=2)if(_R.charCodeAt(t)==e)return _R.charAt(t+1);return P$(e<128?e:e+1)}function ER(e,t){return e.languageDataAt("closeBrackets",t)[0]||xR}const CR="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),TR=dI.inputHandler.of((e,t,n,r)=>{if((CR?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||2==r.length&&1==E$(_$(r,0))||t!=i.from||n!=i.to)return!1;let o=function(e,t){let n=ER(e,e.selection.main.head),r=n.brackets||xR.brackets;for(let i of r){let o=PR(_$(i,0));if(t==i)return o==i?DR(e,i,r.indexOf(i+i+i)>-1,n):NR(e,i,o,n.before||xR.before);if(t==o&&QR(e,e.selection.main.from))return MR(e,i,o)}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)}),IR=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=ER(e,e.selection.main.head).brackets||xR.brackets,r=null,i=e.changeByRange(t=>{if(t.empty){let r=function(e,t){let n=e.sliceString(t-2,t);return E$(_$(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let i of n)if(i==r&&AR(e.doc,t.head)==PR(_$(i,0)))return{changes:{from:t.head-i.length,to:t.head+i.length},range:Z$.cursor(t.head-i.length)}}return{range:r=t}});return r||t(e.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function QR(e,t){let n=!1;return e.field($R).between(0,e.doc.length,e=>{e==t&&(n=!0)}),n}function AR(e,t){let n=e.sliceString(t,t+2);return n.slice(0,E$(_$(n,0)))}function NR(e,t,n,r){let i=null,o=e.changeByRange(o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:SR.of(o.to+t.length),range:Z$.range(o.anchor+t.length,o.head+t.length)};let s=AR(e.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+n,from:o.head},effects:SR.of(o.head+t.length),range:Z$.cursor(o.head+t.length)}:{range:i=o}});return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function MR(e,t,n){let r=null,i=e.changeByRange(t=>t.empty&&AR(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:Z$.cursor(t.head+n.length)}:r={range:t});return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function DR(e,t,n,r){let i=r.stringPrefixes||xR.stringPrefixes,o=null,s=e.changeByRange(r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:SR.of(r.to+t.length),range:Z$.range(r.anchor+t.length,r.head+t.length)};let s,a=r.head,l=AR(e.doc,a);if(l==t){if(zR(e,a))return{changes:{insert:t+t,from:a},effects:SR.of(a+t.length),range:Z$.cursor(a+t.length)};if(QR(e,a)){let r=n&&e.sliceDoc(a,a+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:a,to:a+r.length,insert:r},range:Z$.cursor(a+r.length)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&(s=jR(e,a-2*t.length,i))>-1&&zR(e,s))return{changes:{insert:t+t+t+t,from:a},effects:SR.of(a+t.length),range:Z$.cursor(a+t.length)};if(e.charCategorizer(a)(l)!=P_.Word&&jR(e,a,i)>-1&&!function(e,t,n,r){let i=uN(e).resolveInner(t,-1),o=r.reduce((e,t)=>Math.max(e,t.length),0);for(let s=0;s<5;s++){let s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),a=s.indexOf(n);if(!a||a>-1&&r.indexOf(s.slice(0,a))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>n.length+a;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let l=i.to==t&&i.parent;if(!l)break;i=l}return!1}(e,a,t,i))return{changes:{insert:t+t,from:a},effects:SR.of(a+t.length),range:Z$.cursor(a+t.length)}}return{range:o=r}});return o?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function zR(e,t){let n=uN(e).resolveInner(t+1);return n.parent&&n.from==t}function jR(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=P_.Word)return t;for(let i of n){let n=t-i.length;if(e.sliceDoc(n,t)==i&&r(e.sliceDoc(n-1,n))!=P_.Word)return n}return-1}const RR=[{key:"Ctrl-Space",run:Jj},{mac:"Alt-`",run:Jj},{mac:"Alt-i",run:Jj},{key:"Escape",run:e=>{let t=e.state.field(qj,!1);return!(!t||!t.active.some(e=>0!=e.state))&&(e.dispatch({effects:Ej.of(null)}),!0)}},{key:"ArrowDown",run:Kj(!0)},{key:"ArrowUp",run:Kj(!1)},{key:"PageDown",run:Kj(!0,"page")},{key:"PageUp",run:Kj(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(qj,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(Ij).interactionDelay)&&Gj(e,t.open.options[t.open.selected])}}],ZR=n_.highest(yI.computeN([Ij],e=>e.facet(Ij).defaultKeymap?[RR]:[]));class LR{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class UR{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=n.facet(tZ).markerFilter;r&&(e=r(e,n));let i=e.slice().sort((e,t)=>e.from-t.from||e.to-t.to),o=new j_,s=[],a=0;for(let e=0;;){let t,r,l=e==i.length?null:i[e];if(!l&&!s.length)break;for(s.length?(t=a,r=s.reduce((e,t)=>Math.min(e,t.to),l&&l.from>t?l.from:1e8)):(t=l.from,r=l.to,s.push(l),e++);e<i.length;){let n=i[e];if(n.from!=t||!(n.to>n.from||n.to==t)){r=Math.min(n.from,r);break}s.push(n),e++,r=Math.min(n.to,r)}let c=hZ(s);if(s.some(e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from))o.add(t,t,dE.widget({widget:new oZ(c),diagnostics:s.slice()}));else{let e=s.reduce((e,t)=>t.markClass?e+" "+t.markClass:e,"");o.add(t,r,dE.mark({class:"cm-lintRange cm-lintRange-"+c+e,diagnostics:s.slice(),inclusiveEnd:s.some(e=>e.to>r)}))}a=r;for(let e=0;e<s.length;e++)s[e].to<=a&&s.splice(e--,1)}let l=o.finish();return new UR(l,t,XR(l))}}function XR(e,t=null,n=0){let r=null;return e.between(n,1e9,(e,n,{spec:i})=>{if(!(t&&i.diagnostics.indexOf(t)<0))if(r){if(i.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new LR(r.from,n,r.diagnostic)}else r=new LR(e,n,t||i.diagnostics[0])}),r}function VR(e,t){let n=t.pos,r=t.end||n,i=e.state.facet(tZ).hideOn(e,n,r);if(null!=i)return i;let o=e.startState.doc.lineAt(t.pos);return!(!e.effects.some(e=>e.is(YR))&&!e.changes.touchesRange(o.from,Math.max(o.to,r)))}function BR(e,t){return e.field(qR,!1)?t:t.concat(y_.appendConfig.of(fZ))}const YR=y_.define(),WR=y_.define(),FR=y_.define(),qR=G$.define({create:()=>new UR(dE.none,null,null),update(e,t){if(t.docChanged&&e.diagnostics.size){let n=e.diagnostics.map(t.changes),r=null,i=e.panel;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);r=XR(n,e.selected.diagnostic,i)||XR(n,null,i)}!n.size&&i&&t.state.facet(tZ).autoPanel&&(i=null),e=new UR(n,i,r)}for(let n of t.effects)if(n.is(YR)){let r=t.state.facet(tZ).autoPanel?n.value.length?aZ.open:null:e.panel;e=UR.init(n.value,r,t.state)}else n.is(WR)?e=new UR(e.diagnostics,n.value?aZ.open:null,e.selected):n.is(FR)&&(e=new UR(e.diagnostics,e.panel,n.value));return e},provide:e=>[EQ.from(e,e=>e.panel),dI.decorations.from(e,e=>e.diagnostics)]});const GR=dE.mark({class:"cm-lintRange cm-lintRange-active"});function HR(e,t,n){let r,{diagnostics:i}=e.state.field(qR),o=-1,s=-1;i.between(t-(n<0?1:0),t+(n>0?1:0),(e,i,{spec:a})=>{if(t>=e&&t<=i&&(e==i||(t>e||n>0)&&(t<i||n<0)))return r=a.diagnostics,o=e,s=i,!1});let a=e.state.facet(tZ).tooltipFilter;return r&&a&&(r=a(r,e.state)),r?{pos:o,end:s,above:e.state.doc.lineAt(o).to<s,create:()=>({dom:KR(e,r)})}:null}function KR(e,t){return hz("ul",{class:"cm-tooltip-lint"},t.map(t=>iZ(e,t,!1)))}const JR=e=>{let t=e.state.field(qR,!1);return!(!t||!t.panel)&&(e.dispatch({effects:WR.of(!1)}),!0)},eZ=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(qR,!1);t&&t.panel||e.dispatch({effects:BR(e.state,[WR.of(!0)])});let n=kQ(e,aZ.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(qR,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}];const tZ=X$.define({combine:e=>({sources:e.map(e=>e.source).filter(e=>null!=e),...Q_(e.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:nZ,tooltipFilter:nZ,needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t,hideOn:(e,t)=>e?t?(n,r,i)=>e(n,r,i)||t(n,r,i):e:t,autoPanel:(e,t)=>e||t})})});function nZ(e,t){return e?t?(n,r)=>t(e(n,r),r):e:t}function rZ(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let r=n[e];if(/[a-zA-Z]/.test(r)&&!t.some(e=>e.toLowerCase()==r.toLowerCase())){t.push(r);continue e}}t.push("")}return t}function iZ(e,t,n){var r;let i=n?rZ(t.actions):[];return hz("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},hz("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),null===(r=t.actions)||void 0===r?void 0:r.map((n,r)=>{let o=!1,s=r=>{if(r.preventDefault(),o)return;o=!0;let i=XR(e.state.field(qR).diagnostics,t);i&&n.apply(e,i.from,i.to)},{name:a}=n,l=i[r]?a.indexOf(i[r]):-1,c=l<0?a:[a.slice(0,l),hz("u",a.slice(l,l+1)),a.slice(l+1)];return hz("button",{type:"button",class:"cm-diagnosticAction"+(n.markClass?" "+n.markClass:""),onclick:s,onmousedown:s,"aria-label":` Action: ${a}${l<0?"":` (access key "${i[r]})"`}.`},c)}),t.source&&hz("div",{class:"cm-diagnosticSource"},t.source))}class oZ extends cE{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return hz("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class sZ{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=iZ(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class aZ{constructor(e){this.view=e,this.items=[];this.list=hz("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)JR(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=rZ(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==t.keyCode){let t=XR(this.view.state.field(qR).diagnostics,n);t&&n.actions[i].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=hz("div",{class:"cm-panel-lint"},this.list,hz("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>JR(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(qR).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(qR),n=0,r=!1,i=null,o=new Set;for(e.between(0,this.view.state.doc.length,(e,s,{spec:a})=>{for(let e of a.diagnostics){if(o.has(e))continue;o.add(e);let s,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==e){a=t;break}a<0?(s=new sZ(this.view,e),this.items.splice(n,0,s),r=!0):(s=this.items[a],a>n&&(this.items.splice(n,a-n),r=!0)),t&&s.diagnostic==t.diagnostic?s.dom.hasAttribute("aria-selected")||(s.dom.setAttribute("aria-selected","true"),i=s):s.dom.hasAttribute("aria-selected")&&s.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new sZ(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{let n=t.height/this.list.offsetHeight;e.top<t.top?this.list.scrollTop-=(t.top-e.top)/n:e.bottom>t.bottom&&(this.list.scrollTop+=(e.bottom-t.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=XR(this.view.state.field(qR).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:FR.of(t)})}static open(e){return new aZ(e)}}function lZ(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function cZ(e){return lZ(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const uZ=dI.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:cZ("#d11")},".cm-lintRange-warning":{backgroundImage:cZ("orange")},".cm-lintRange-info":{backgroundImage:cZ("#999")},".cm-lintRange-hint":{backgroundImage:cZ("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function dZ(e){return"error"==e?4:"warning"==e?3:"info"==e?2:1}function hZ(e){let t="hint",n=1;for(let r of e){let e=dZ(r.severity);e>n&&(n=e,t=r.severity)}return t}const fZ=[qR,dI.decorations.compute([qR],e=>{let{selected:t,panel:n}=e.field(qR);return t&&n&&t.from!=t.to?dE.set([GR.range(t.from,t.to)]):dE.none}),bQ(HR,{hideOn:VR}),uZ];var pZ=function(e){void 0===e&&(e={});var{crosshairCursor:t=!1}=e,n=[];!1!==e.closeBracketsKeymap&&(n=n.concat(IR)),!1!==e.defaultKeymap&&(n=n.concat(uz)),!1!==e.searchKeymap&&(n=n.concat(lj)),!1!==e.historyKeymap&&(n=n.concat(cD)),!1!==e.foldKeymap&&(n=n.concat(GN)),!1!==e.completionKeymap&&(n=n.concat(RR)),!1!==e.lintKeymap&&(n=n.concat(eZ));var r=[];return!1!==e.lineNumbers&&r.push(function(e={}){return[BQ.of(e),DQ(),FQ]}()),!1!==e.highlightActiveLineGutter&&r.push(HQ),!1!==e.highlightSpecialChars&&r.push(function(e={}){return[WI.of(e),FI||(FI=lC.fromClass(class{constructor(e){this.view=e,this.decorations=dE.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(WI)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new UI({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,o=_$(t[0],0);if(9==o){let e=i.lineAt(r),t=n.state.tabSize,o=q_(e.text,t,r-e.from);return dE.replace({widget:new GI((t-o%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=dE.replace({widget:new qI(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(WI);e.startState.facet(WI)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}()),!1!==e.history&&r.push(function(e={}){return[YM,BM.of(e),dI.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?FM:"historyRedo"==e.inputType?qM:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&r.push(function(e={}){let t={...rM,...e},n=new iM(t,!0),r=new iM(t,!1),i=lC.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(yN)!=e.state.facet(yN)||e.startState.field(VN,!1)!=e.state.field(VN,!1)||uN(e.startState)!=uN(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new j_;for(let i of e.viewportLineBlocks){let o=YN(e.state,i.from,i.to)?r:RN(e.state,i.from,i.to)?n:null;o&&t.add(i.from,i.from,o)}return t.finish()}}),{domEventHandlers:o}=t;return[i,NQ({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||z_.empty},initialSpacer:()=>new iM(t,!1),domEventHandlers:{...o,click:(e,t,n)=>{if(o.click&&o.click(e,t,n))return!0;let r=YN(e.state,t.from,t.to);if(r)return e.dispatch({effects:UN.of(r)}),!0;let i=RN(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:LN.of(i)}),!0)}}}),JN()]}()),!1!==e.drawSelection&&r.push(function(e={}){return[QI.of(e),NI,DI,zI,JE.of(!0)]}()),!1!==e.dropCursor&&r.push([RI,ZI]),!1!==e.allowMultipleSelections&&r.push(I_.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&r.push(I_.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return e;let o=n.sliceString(i.from,r);if(!t.some(e=>e.test(o)))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let n=$N(s,t.from);if(null==n)continue;let r=/^\s*/.exec(t.text)[0],i=kN(s,n);r!=i&&l.push({from:t.from,to:t.from+r.length,insert:i})}return l.length?[e,{changes:l,sequential:!0}]:e})),!1!==e.syntaxHighlighting&&r.push(uM(fM,{fallback:!0})),!1!==e.bracketMatching&&r.push(function(e={}){return[gM.of(e),wM]}()),!1!==e.closeBrackets&&r.push([TR,$R]),!1!==e.autocompletion&&r.push(function(e={}){return[rR,qj,Ij.of(e),tR,ZR,iR]}()),!1!==e.rectangularSelection&&r.push(function(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return dI.mouseSelectionStyle.of((e,n)=>t(n)?nQ(e,n):null)}()),!1!==t&&r.push(function(e={}){let[t,n]=rQ[e.key||"Alt"],r=lC.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,dI.contentAttributes.of(e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?iQ:null})]}()),!1!==e.highlightActiveLine&&r.push(KI),!1!==e.highlightSelectionMatches&&r.push(function(e){let t=[Az,Qz];return e&&t.push(Ez.of(e)),t}()),e.tabSize&&"number"==typeof e.tabSize&&r.push(xN.of(" ".repeat(e.tabSize))),r.concat([yI.of(n.flat())]).filter(Boolean)};const mZ="#e5c07b",gZ="#e06c75",vZ="#56b6c2",OZ="#ffffff",yZ="#abb2bf",bZ="#7d8799",wZ="#61afef",xZ="#98c379",SZ="#d19a66",kZ="#c678dd",$Z="#21252b",_Z="#2c313a",PZ="#282c34",EZ="#353a42",CZ="#3E4451",TZ="#528bff",IZ=[dI.theme({"&":{color:yZ,backgroundColor:PZ},".cm-content":{caretColor:TZ},".cm-cursor, .cm-dropCursor":{borderLeftColor:TZ},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:CZ},".cm-panels":{backgroundColor:$Z,color:yZ},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:PZ,color:bZ,border:"none"},".cm-activeLineGutter":{backgroundColor:_Z},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:EZ},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:EZ,borderBottomColor:EZ},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:_Z,color:yZ}}},{dark:!0}),uM(sM.define([{tag:nN.keyword,color:kZ},{tag:[nN.name,nN.deleted,nN.character,nN.propertyName,nN.macroName],color:gZ},{tag:[nN.function(nN.variableName),nN.labelName],color:wZ},{tag:[nN.color,nN.constant(nN.name),nN.standard(nN.name)],color:SZ},{tag:[nN.definition(nN.name),nN.separator],color:yZ},{tag:[nN.typeName,nN.className,nN.number,nN.changed,nN.annotation,nN.modifier,nN.self,nN.namespace],color:mZ},{tag:[nN.operator,nN.operatorKeyword,nN.url,nN.escape,nN.regexp,nN.link,nN.special(nN.string)],color:vZ},{tag:[nN.meta,nN.comment],color:bZ},{tag:nN.strong,fontWeight:"bold"},{tag:nN.emphasis,fontStyle:"italic"},{tag:nN.strikethrough,textDecoration:"line-through"},{tag:nN.link,color:bZ,textDecoration:"underline"},{tag:nN.heading,fontWeight:"bold",color:gZ},{tag:[nN.atom,nN.bool,nN.special(nN.variableName)],color:SZ},{tag:[nN.processingInstruction,nN.string,nN.inserted],color:xZ},{tag:nN.invalid,color:OZ}]))];var QZ=dI.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),AZ=function(e){void 0===e&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:r=!1,theme:i="light",placeholder:o="",basicSetup:s=!0}=e,a=[];switch(t&&a.unshift(yI.of([dz])),s&&("boolean"==typeof s?a.unshift(pZ()):a.unshift(pZ(s))),o&&a.unshift(function(e){let t=lC.fromClass(class{constructor(t){this.view=t,this.placeholder=e?dE.set([dE.widget({widget:new JI(e),side:1}).range(0)]):dE.none}get decorations(){return this.view.state.doc.length?dE.none:this.placeholder}},{decorations:e=>e.decorations});return"string"==typeof e?[t,dI.contentAttributes.of({"aria-placeholder":e})]:t}(o)),i){case"light":a.push(QZ);break;case"dark":a.push(IZ);break;case"none":break;default:a.push(i)}return!1===n&&a.push(dI.editable.of(!1)),r&&a.push(I_.readOnly.of(!0)),[...a]};class NZ{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(e=>{try{e()}catch(e){console.error("TimeoutLatch callback error:",e)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class MZ{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),0===this.latches.size&&this.stop()}start(){null===this.interval&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)}}var DZ=null,zZ=g_.define(),jZ=[];function RZ(e){var{value:t,selection:n,onChange:r,onStatistics:i,onCreateEditor:o,onUpdate:s,extensions:a=jZ,autoFocus:l,theme:c="light",height:u=null,minHeight:d=null,maxHeight:h=null,width:f=null,minWidth:p=null,maxWidth:m=null,placeholder:g="",editable:v=!0,readOnly:O=!1,indentWithTab:y=!0,basicSetup:b=!0,root:w,initialState:x}=e,[S,k]=(0,E.useState)(),[$,_]=(0,E.useState)(),[P,C]=(0,E.useState)(),T=(0,E.useState)(()=>({current:null}))[0],I=(0,E.useState)(()=>({current:null}))[0],Q=dI.theme({"&":{height:u,minHeight:d,maxHeight:h,width:f,minWidth:p,maxWidth:m},"& .cm-scroller":{height:"100% !important"}}),A=dI.updateListener.of(e=>{if(e.docChanged&&"function"==typeof r&&!e.transactions.some(e=>e.annotation(zZ))){T.current?T.current.reset():(T.current=new NZ(()=>{if(I.current){var e=I.current;I.current=null,e()}T.current=null},200),("undefined"==typeof window?new MZ:(DZ||(DZ=new MZ),DZ)).add(T.current));var t=e.state.doc.toString();r(t,e)}i&&i((e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to)),selectedText:e.state.selection.ranges.some(e=>!e.empty)}))(e))}),N=[A,Q,...AZ({theme:c,editable:v,readOnly:O,placeholder:g,indentWithTab:y,basicSetup:b})];return s&&"function"==typeof s&&N.push(dI.updateListener.of(s)),N=N.concat(a),(0,E.useLayoutEffect)(()=>{if(S&&!P){var e={doc:t,selection:n,extensions:N},r=x?I_.fromJSON(x.json,e,x.fields):I_.create(e);if(C(r),!$){var i=new dI({state:r,parent:S,root:w});_(i),o&&o(i,r)}}return()=>{$&&(C(void 0),_(void 0))}},[S,P]),(0,E.useEffect)(()=>{e.container&&k(e.container)},[e.container]),(0,E.useEffect)(()=>()=>{$&&($.destroy(),_(void 0)),T.current&&(T.current.cancel(),T.current=null)},[$]),(0,E.useEffect)(()=>{l&&$&&$.focus()},[l,$]),(0,E.useEffect)(()=>{$&&$.dispatch({effects:y_.reconfigure.of(N)})},[c,a,u,d,h,f,p,m,g,v,O,y,b,r,s]),(0,E.useEffect)(()=>{if(void 0!==t){var e=$?$.state.doc.toString():"";if($&&t!==e){var n=()=>{$&&t!==$.state.doc.toString()&&$.dispatch({changes:{from:0,to:$.state.doc.toString().length,insert:t||""},annotations:[zZ.of(!0)]})};T.current&&!T.current.isDone?I.current=n:n()}}},[t,$]),{state:P,setState:C,view:$,setView:_,container:S,setContainer:k}}var ZZ=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],LZ=(0,E.forwardRef)((e,t)=>{var{className:n,value:r="",selection:i,extensions:o=[],onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:d="light",height:h,minHeight:f,maxHeight:p,width:m,minWidth:g,maxWidth:v,basicSetup:O,placeholder:y,indentWithTab:b,editable:w,readOnly:x,root:S,initialState:k}=e,$=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,ZZ),_=(0,E.useRef)(null),{state:C,view:T,container:I,setContainer:Q}=RZ({root:S,value:r,autoFocus:u,theme:d,height:h,minHeight:f,maxHeight:p,width:m,minWidth:g,maxWidth:v,basicSetup:O,placeholder:y,indentWithTab:b,editable:w,readOnly:x,selection:i,onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:o,initialState:k});(0,E.useImperativeHandle)(t,()=>({editor:_.current,state:C,view:T}),[_,I,C,T]);var A=(0,E.useCallback)(e=>{_.current=e,Q(e)},[Q]);if("string"!=typeof r)throw new Error("value must be typeof string but got "+typeof r);var N="string"==typeof d?"cm-theme-"+d:"cm-theme";return(0,P.jsx)("div",r$({ref:A,className:N+(n?" "+n:"")},$))});LZ.displayName="CodeMirror";const UZ=LZ;class XZ{constructor(e,t,n,r,i,o,s,a,l,c=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=i,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new XZ(e,[],t,n,n,0,[],0,r?new VZ(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,r=65535&e,{parser:i}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let s=i.dynamicPrecedence(r);if(s&&(this.score+=s),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,o?8:4,!0),void this.reduceContext(r,this.reducePos);let a=this.stack.length-3*(n-1)-(262144&e?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=a?this.stack[a-1]:0,d=this.bufferBase+this.buffer.length-u;if(r<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,e,d+4,!0)}if(262144&e)this.state=this.stack[a];else{let e=this.stack[a-3];this.state=i.getGoto(e,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,t,n,r=4,i=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4]){let e=!1;for(let t=i;t>0&&this.buffer[t-2]>n;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4)}this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(e,t,n,r)}shift(e,t,n,r){if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4);else{let i=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,r,4)}}apply(e,t,n,r){65536&e?this.reduce(e):this.shift(e,t,n,r)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new XZ(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new BZ(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(!(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<t.length;i+=2)(r=t[i+1])!=this.state&&this.p.parser.hasAction(r,e)&&n.push(t[i],r);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some((e,t)=>1&t&&e==r)||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[e],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,r=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],r,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(r,i)=>{if(!t.includes(r))return t.push(r),e.allActions(r,t=>{if(393216&t);else if(65536&t){let n=(t>>19)-i;if(n>1){let r=65535&t,i=this.stack.length-3*n;if(i>=0&&e.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let e=n(t,i+1);if(null!=e)return e}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new VZ(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class VZ{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class BZ{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class YZ{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new YZ(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new YZ(this.stack,this.pos,this.index)}}function WZ(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let r=0,i=0;r<e.length;){let o=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,n=!0),o+=i,n)break;o*=46}n?n[i++]=o:n=new t(o)}return n}class FZ{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const qZ=new FZ;class GZ{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=qZ,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!r)return null;let e=this.ranges[--r];i-=n.from-e.to,n=e}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];i+=e.from-n.to,n=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=qZ,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class HZ{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;eL(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}HZ.prototype.contextual=HZ.prototype.fallback=HZ.prototype.extend=!1;class KZ{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?WZ(e):e}token(e,t){let n=e.pos,r=0;for(;;){let n=e.next<0,i=e.resolveOffset(1,1);if(eL(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||r++,null==i)break;e.reset(i,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}}KZ.prototype.contextual=HZ.prototype.fallback=HZ.prototype.extend=!1;class JZ{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function eL(e,t,n,r,i,o){let s=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;0!=(a&e[s]);){let n=e[s+1];for(let r=s+3;r<n;r+=2)if((e[r+1]&a)>0){let n=e[r];if(l.allows(n)&&(-1==t.token.value||t.token.value==n||nL(n,t.token.value,i,o))){t.acceptToken(n);break}}let r=t.next,c=0,u=e[s+2];if(!(t.next<0&&u>c&&65535==e[n+3*u-3])){for(;c<u;){let i=c+u>>1,o=n+i+(i<<1),a=e[o],l=e[o+1]||65536;if(r<a)u=i;else{if(!(r>=l)){s=e[o+2],t.advance();continue e}c=i+1}}break}s=e[n+3*u-1]}}function tL(e,t,n){for(let r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}function nL(e,t,n,r){let i=tL(n,r,t);return i<0||tL(n,r,e)<i}const rL="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let iL=null;function oL(e,t,n){let r=e.cursor(lA.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}class sL{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?oL(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?oL(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],o=this.start[t]+n.positions[r];if(o>e)return this.nextStart=o,null;if(i instanceof cA){if(o==e){if(o<this.safeFrom)return null;let e=o+i.length;if(e<=this.safeTo){let t=i.prop(tA.lookAhead);if(!t||e+t<this.fragment.to)return i}}this.index[t]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+i.length}}}class aL{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(e=>new FZ)}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:i}=r,o=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let r=0;r<i.length;r++){if(!(1<<r&o))continue;let l=i[r],c=this.tokens[r];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=o||c.context!=s)&&(this.updateCachedToken(c,l,e),c.mask=o,c.context=s),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let r=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new FZ,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new FZ,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let i=t.specializers[r](this.stream.read(e.start,e.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){1&i?e.extended=i>>1:e.value=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:i}=e,{parser:o}=e.p,{data:s}=o;for(let e=0;e<2;e++)for(let a=o.stateSlot(i,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==r&&2==s[a+1]&&(r=this.putAction(fL(s,a+2),t,n,r));break}a=fL(s,a+2)}s[a]==t&&(r=this.putAction(fL(s,a+1),t,n,r))}return r}}class lL{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new GZ(t,r),this.tokens=new aL(e,this.stream),this.topTerm=e.top[1];let{from:i}=r[0];this.stacks=[XZ.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*e.bufferLength?new sL(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<n.length;o++){let s=n[o];for(;;){if(this.tokens.mainToken=null,s.pos>r)i.push(s);else{if(this.advanceStack(s,i,n))continue;{e||(e=[],t=[]),e.push(s);let n=this.tokens.getMainToken(s);t.push(n.value,n.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return rL&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw rL&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(n)return rL&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort((e,t)=>t.score-e.score);i.length>e;)i.pop();i.some(e=>e.reducePos>r)&&this.recovering--}else if(i.length>1){e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let n=e+1;n<i.length;n++){let r=i[n];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let e=1;e<i.length;e++)i[e].pos<this.minStackPos&&(this.minStackPos=i[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:i}=this,o=rL?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(r);s;){let r=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(e.state,s.type.id):-1;if(r>-1&&s.length&&(!t||(s.prop(tA.contextHash)||0)==n))return e.useNode(s,r),rL&&console.log(o+this.stackID(e)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof cA)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof cA&&0==s.positions[0]))break;s=a}}let s=i.stateSlot(e.state,4);if(s>0)return e.reduce(s),rL&&console.log(o+this.stackID(e)+` (via always-reduce ${i.getName(65535&s)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let l=a[s++],c=a[s++],u=a[s++],d=s==a.length||!n,h=d?e:e.split(),f=this.tokens.mainToken;if(h.apply(l,c,f?f.start:h.pos,u),rL&&console.log(o+this.stackID(h)+` (via ${65536&l?`reduce of ${i.getName(65535&l)}`:"shift"} for ${i.getName(c)} @ ${r}${h==e?"":", split"})`),d)return!0;h.pos>r?t.push(h):n.push(h)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return cL(e,t),!0}}runRecovery(e,t,n){let r=null,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=t[o<<1],l=t[1+(o<<1)],c=rL?this.stackID(s)+" -> ":"";if(s.deadEnd){if(i)continue;if(i=!0,s.restart(),rL&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}let u=s.split(),d=c;for(let e=0;u.forceReduce()&&e<10;e++){if(rL&&console.log(d+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;rL&&(d=this.stackID(u)+" -> ")}for(let e of s.recoverByInsert(a))rL&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),rL&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),cL(s,n)):(!r||r.score<s.score)&&(r=s)}return r}stackToTree(e){return e.close(),cA.build({buffer:YZ.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(iL||(iL=new WeakMap)).get(e);return t||iL.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function cL(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class uL{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const dL=e=>e;class hL extends CA{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map(t=>e.topRules[t][1]),r=[];for(let e=0;e<t.length;e++)r.push([]);function i(e,t,n){r[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=tA[e]);for(let n=1;n<t.length;){let r=t[n++];if(r>=0)i(r,e,t[n++]);else{let o=t[n+-r];for(let s=-r;s>0;s--)i(t[n++],e,o);n++}}}this.nodeSet=new oA(t.map((t,i)=>iA.define({name:i>=this.minRepeatTerm?void 0:t,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:e.skippedNodes&&e.skippedNodes.indexOf(i)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=KQ;let o=WZ(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(pL),this.states=WZ(e.states,Uint32Array),this.data=WZ(e.stateData),this.goto=WZ(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(e=>"number"==typeof e?new HZ(o,e):e),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new lL(this,e,t,n);for(let i of this.wrappers)r=i(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let i=r[t+1];;){let t=r[i++],o=1&t,s=r[i++];if(o&&n)return s;for(let n=i+(t>>1);i<n;i++)if(r[i]==e)return s;if(o)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let i,o=this.stateSlot(e,r?2:1);;o+=3){if(65535==(i=n[o])){if(1!=n[o+1]){if(2==n[o+1])return fL(n,o+2);break}i=n[o=fL(n,o+2)]}if(i==t||0==i)return fL(n,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,e=>e==t||null)}allActions(e,t){let n=this.stateSlot(e,4),r=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=fL(this.data,n+2)}r=t(fL(this.data,n+1))}return r}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=fL(this.data,n+2)}if(!(1&this.data[n+2])){let e=this.data[n+1];t.some((t,n)=>1&n&&t==e)||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(hL.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(t=>{let n=e.tokenizers.find(e=>e.from==t);return n?n.to:t})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,r)=>{let i=e.specializers.find(e=>e.from==n.external);if(!i)return n;let o=Object.assign(Object.assign({},n),{external:i.to});return t.specializers[r]=pL(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,i=this.dialects[t[e]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new uL(e,n,r)}static deserialize(e){return new hL(e)}}function fL(e,t){return e[t]|e[t+1]<<16}function pL(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const mL=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],gL=new class{constructor(e){this.start=e.start,this.shift=e.shift||dL,this.reduce=e.reduce||dL,this.reuse=e.reuse||dL,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:!1,shift:(e,t)=>5==t||6==t||320==t?e:321==t,strict:!1}),vL=new JZ((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&e.acceptToken(318)},{contextual:!0,fallback:!0}),OL=new JZ((e,t)=>{let n,{next:r}=e;mL.indexOf(r)>-1||(47!=r||47!=(n=e.peek(1))&&42!=n)&&(125==r||59==r||-1==r||t.context||e.acceptToken(316))},{contextual:!0}),yL=new JZ((e,t)=>{91!=e.next||t.context||e.acceptToken(317)},{contextual:!0}),bL=new JZ((e,t)=>{let{next:n}=e;if(43==n||45==n){if(e.advance(),n==e.next){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}else 63==n&&46==e.peek(1)&&(e.advance(),e.advance(),(e.next<48||e.next>57)&&e.acceptToken(3))},{contextual:!0});function wL(e,t){return e>=65&&e<=90||e>=97&&e<=122||95==e||e>=192||!t&&e>=48&&e<=57}const xL=new JZ((e,t)=>{if(60!=e.next||!t.dialectEnabled(0))return;if(e.advance(),47==e.next)return;let n=0;for(;mL.indexOf(e.next)>-1;)e.advance(),n++;if(wL(e.next,!0)){for(e.advance(),n++;wL(e.next,!1);)e.advance(),n++;for(;mL.indexOf(e.next)>-1;)e.advance(),n++;if(44==e.next)return;for(let t=0;;t++){if(7==t){if(!wL(e.next,!0))return;break}if(e.next!="extends".charCodeAt(t))break;e.advance(),n++}}e.acceptToken(4,-n)}),SL=MA({"get set async static":nN.modifier,"for while do if else switch try catch finally return throw break continue default case defer":nN.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":nN.operatorKeyword,"let var const using function class extends":nN.definitionKeyword,"import export from":nN.moduleKeyword,"with debugger new":nN.keyword,TemplateString:nN.special(nN.string),super:nN.atom,BooleanLiteral:nN.bool,this:nN.self,null:nN.null,Star:nN.modifier,VariableName:nN.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":nN.function(nN.variableName),VariableDefinition:nN.definition(nN.variableName),Label:nN.labelName,PropertyName:nN.propertyName,PrivatePropertyName:nN.special(nN.propertyName),"CallExpression/MemberExpression/PropertyName":nN.function(nN.propertyName),"FunctionDeclaration/VariableDefinition":nN.function(nN.definition(nN.variableName)),"ClassDeclaration/VariableDefinition":nN.definition(nN.className),"NewExpression/VariableName":nN.className,PropertyDefinition:nN.definition(nN.propertyName),PrivatePropertyDefinition:nN.definition(nN.special(nN.propertyName)),UpdateOp:nN.updateOperator,"LineComment Hashbang":nN.lineComment,BlockComment:nN.blockComment,Number:nN.number,String:nN.string,Escape:nN.escape,ArithOp:nN.arithmeticOperator,LogicOp:nN.logicOperator,BitOp:nN.bitwiseOperator,CompareOp:nN.compareOperator,RegExp:nN.regexp,Equals:nN.definitionOperator,Arrow:nN.function(nN.punctuation),": Spread":nN.punctuation,"( )":nN.paren,"[ ]":nN.squareBracket,"{ }":nN.brace,"InterpolationStart InterpolationEnd":nN.special(nN.brace),".":nN.derefOperator,", ;":nN.separator,"@":nN.meta,TypeName:nN.typeName,TypeDefinition:nN.definition(nN.typeName),"type enum interface implements namespace module declare":nN.definitionKeyword,"abstract global Privacy readonly override":nN.modifier,"is keyof unique infer asserts":nN.operatorKeyword,JSXAttributeValue:nN.attributeValue,JSXText:nN.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":nN.angleBracket,"JSXIdentifier JSXNameSpacedName":nN.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":nN.attributeName,"JSXBuiltin/JSXIdentifier":nN.standard(nN.tagName)}),kL={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},$L={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},_L={__proto__:null,"<":193},PL=hL.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:gL,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[SL],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[OL,yL,bL,xL,2,3,4,5,6,7,8,9,10,11,12,13,14,vL,new KZ("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new KZ("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:e=>kL[e]||-1},{term:343,get:e=>$L[e]||-1},{term:95,get:e=>_L[e]||-1}],tokenPrec:15201}),EL=[bR("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),bR("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),bR("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),bR("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),bR("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),bR("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),bR("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),bR("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),bR("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),bR('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),bR('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],CL=EL.concat([bR("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),bR("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),bR("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),TL=new PA,IL=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function QL(e){return(t,n)=>{let r=t.node.getChild("VariableDefinition");return r&&n(r,e),!0}}const AL=["FunctionDeclaration"],NL={FunctionDeclaration:QL("function"),ClassDeclaration:QL("class"),ClassExpression:()=>!0,EnumDeclaration:QL("constant"),TypeAliasDeclaration:QL("type"),NamespaceDeclaration:QL("namespace"),VariableDefinition(e,t){e.matchContext(AL)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function ML(e,t){let n=TL.get(t);if(n)return n;let r=[],i=!0;function o(t,n){let i=e.sliceString(t.from,t.to);r.push({label:i,type:n})}return t.cursor(lA.IncludeAnonymous).iterate(t=>{if(i)i=!1;else if(t.name){let e=NL[t.name];if(e&&e(t,o)||IL.has(t.name))return!1}else if(t.to-t.from>8192){for(let n of ML(e,t.node))r.push(n);return!1}}),TL.set(t,r),r}const DL=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,zL=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function jL(e){let t=uN(e.state).resolveInner(e.pos,-1);if(zL.indexOf(t.name)>-1)return null;let n="VariableName"==t.name||t.to-t.from<20&&DL.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let n=t;n;n=n.parent)IL.has(n.name)&&(r=r.concat(ML(e.state.doc,n)));return{options:r,from:n?t.from:e.pos,validFor:DL}}const RL=cN.define({name:"javascript",parser:PL.configure({props:[PN.add({IfStatement:MN({except:/^\s*({|else\b)/}),TryStatement:MN({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:AN({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":MN({except:/^\s*{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),zN.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":function(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null},BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),ZL={test:e=>/^JSX/.test(e.name),facet:oN({commentTokens:{block:{open:"{/*",close:"*/}"}}})},LL=RL.configure({dialect:"ts"},"typescript"),UL=RL.configure({dialect:"jsx",props:[sN.add(e=>e.isTop?[ZL]:void 0)]}),XL=RL.configure({dialect:"jsx ts",props:[sN.add(e=>e.isTop?[ZL]:void 0)]},"typescript");let VL=e=>({label:e,type:"keyword"});const BL="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(VL),YL=BL.concat(["declare","implements","private","protected","public"].map(VL));function WL(e={}){let t=e.jsx?e.typescript?XL:UL:e.typescript?LL:RL,n=e.typescript?CL.concat(YL):EL.concat(BL);return new bN(t,[RL.data.of({autocomplete:yj(zL,Oj(n))}),RL.data.of({autocomplete:jL}),e.jsx?GL:[]])}function FL(e,t,n=e.length){for(let r=null==t?void 0:t.firstChild;r;r=r.nextSibling)if("JSXIdentifier"==r.name||"JSXBuiltin"==r.name||"JSXNamespacedName"==r.name||"JSXMemberExpression"==r.name)return e.sliceString(r.from,Math.min(r.to,n));return""}const qL="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),GL=dI.inputHandler.of((e,t,n,r,i)=>{if((qL?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||">"!=r&&"/"!=r||!RL.isActiveAt(e.state,t,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange(e=>{var t;let n,{head:i}=e,o=uN(s).resolveInner(i-1,-1);if("JSXStartTag"==o.name&&(o=o.parent),s.doc.sliceString(i-1,i)!=r||"JSXAttributeValue"==o.name&&o.to>i);else{if(">"==r&&"JSXFragmentTag"==o.name)return{range:e,changes:{from:i,insert:"</>"}};if("/"==r&&"JSXStartCloseTag"==o.name){let e=o.parent,r=e.parent;if(r&&e.from==i-2&&((n=FL(s.doc,r.firstChild,i))||"JSXFragmentTag"==(null===(t=r.firstChild)||void 0===t?void 0:t.name))){let e=`${n}>`;return{range:Z$.cursor(i+e.length,-1),changes:{from:i,insert:e}}}}else if(">"==r){let t=function(e){for(;;){if("JSXOpenTag"==e.name||"JSXSelfClosingTag"==e.name||"JSXFragmentTag"==e.name)return e;if("JSXEscape"==e.name||!e.parent)return null;e=e.parent}}(o);if(t&&"JSXOpenTag"==t.name&&!/^\/?>|^<\//.test(s.doc.sliceString(i,i+2))&&(n=FL(s.doc,t,i)))return{range:e,changes:{from:i,insert:`</${n}>`}}}}return{range:e}});return!a.changes.empty&&(e.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function HL(e){return HL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HL(e)}function KL(e){return function(e){if(Array.isArray(e))return rU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(t){tU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=HL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nU(e,t){if(e){if("string"==typeof e)return rU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rU(e,t):void 0}}function rU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var iU=function(e){var t=e.id,n=e.data,r=e.selected,i=Fk(),o=i.nodes,s=i.edges,a=i.updateNodeData,l=(0,E.useMemo)(function(){var e=function(e){for(var t,n=[e],r=new Set,i=function(){var e=n.shift();if(r.has(e))return 0;r.add(e);var t=o.find(function(t){return t.id===e});if("triggerNode"===(null==t?void 0:t.type))return{v:t};var i,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nU(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(s.filter(function(t){return t.target===e}));try{for(a.s();!(i=a.n()).done;){var l=i.value;n.push(l.source)}}catch(e){a.e(e)}finally{a.f()}};n.length>0;)if(0!==(t=i())&&t)return t.v}(t);if(!e||!e.data.selectedEventType)return"";var n=e.data.selectedEventType,r=Pk[n];return r?function(e){var t="{\n";for(var n in e){var r=e[n].def.type,i="any";"number"===r?i="number":"string"===r?i="string":"boolean"===r&&(i="boolean"),t+="  ".concat(n,": ").concat(i,";\n")}return"const input: ".concat(t+="}")}(r):""},[t,o,s]);return(0,P.jsx)(t$,{id:t,title:"If Conditions",selected:r,children:(0,P.jsxs)("div",{children:[n.conditions.map(function(e,r){return(0,P.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[(0,P.jsxs)("span",{children:["Condition ",r+1]}),n.conditions.length>1&&(0,P.jsx)(T,{onClick:function(){return r=e.id,i=n.conditions.filter(function(e){return e.id!==r}),void a(t,{conditions:i});var r,i},children:"Remove"})]}),(0,P.jsx)(UZ,{className:"nodrag",value:e.code||"",height:"100px",extensions:[WL({typescript:!0})],width:"100%",onChange:function(r){return function(e,r){var i=n.conditions.map(function(t){return t.id===e?eU(eU({},t),{},{code:r}):t});a(t,{conditions:i})}(e.id,r)},theme:"dark",style:{cursor:"text"}}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:"5px"},children:[(0,P.jsx)("span",{children:"True"}),(0,P.jsx)(iu,{type:"source",position:Xs.Right,id:e.id,style:{position:"relative",transform:"none",right:0,top:0}})]})]},e.id)}),(0,P.jsx)(T,{onClick:function(){var e={id:crypto.randomUUID(),code:"return true;"};a(t,{conditions:[].concat(KL(n.conditions),[e])})},style:{marginTop:"10px"},children:"Add Else If"}),l&&(0,P.jsxs)("div",{style:{marginTop:"5px",background:"#272822",padding:"5px",borderRadius:"3px"},children:[(0,P.jsx)("div",{style:{color:"#888",fontSize:"11px",fontWeight:"bold"},children:"Available Input:"}),(0,P.jsx)("pre",{style:{fontSize:"10px",color:"#ccc",margin:0,whiteSpace:"pre-wrap"},children:l})]}),(0,P.jsx)("div",{style:{marginTop:"10px"},children:(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"5px"},children:[(0,P.jsx)("span",{children:"Else"}),(0,P.jsx)(iu,{type:"source",position:Xs.Right,id:"false",style:{position:"relative",transform:"none",right:0,top:0}})]})})]})})},oU=function(e){var t,n=e.id,r=e.data,i=e.selected,o=Fk().updateNodeData,s=yd(),a=s.some(function(e){return e.target===n&&"profileId"===e.targetHandle}),l=s.some(function(e){return e.target===n&&"lastMessageId"===e.targetHandle});return(0,P.jsxs)(t$,{id:n,title:"Create Messages",selected:i,children:[(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left,id:"profileId",style:{top:"0.5rem",transform:"translateY(-50%)"}}),(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Connection Profile"}),!a&&(0,P.jsx)(ae,{initialSelectedProfileId:r.profileId,onChange:function(e){o(n,{profileId:(null==e?void 0:e.id)||""})}})]}),(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left,id:"lastMessageId",style:{top:"0.5rem",transform:"translateY(-50%)"}}),(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Last Message ID (Optional)"}),!l&&(0,P.jsx)(I,{className:"nodrag",type:"number",value:null!==(t=r.lastMessageId)&&void 0!==t?t:"",onChange:function(e){var t=e.target.value;o(n,{lastMessageId:""===t?void 0:Number(t)})}})]})]}),(0,P.jsx)(iu,{type:"source",position:Xs.Right})]})},sU=function(e){var t=e.id,n=e.data,r=e.selected,i=Fk().updateNodeData;return(0,P.jsxs)(t$,{id:t,title:"String",selected:r,children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{children:"Value"}),(0,P.jsx)(I,{className:"nodrag",value:n.value,onChange:function(e){i(t,{value:e.target.value})}})]}),(0,P.jsx)(iu,{type:"source",position:Xs.Right})]})},aU=function(e){var t=e.id,n=e.data,r=e.selected,i=Fk().updateNodeData;return(0,P.jsxs)(t$,{id:t,title:"Number",selected:r,children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{children:"Value"}),(0,P.jsx)(I,{className:"nodrag",type:"number",value:n.value,onChange:function(e){var n=e.target.value;i(t,{value:""===n?0:Number(n)})}})]}),(0,P.jsx)(iu,{type:"source",position:Xs.Right})]})},lU=function(e){var t,n=e.id,r=e.data,i=e.selected,o=Fk().updateNodeData,s=yd(),a=s.some(function(e){return e.target===n&&"schema"===e.targetHandle}),l=s.some(function(e){return e.target===n&&"messages"===e.targetHandle}),c=s.some(function(e){return e.target===n&&"messageId"===e.targetHandle}),u=s.some(function(e){return e.target===n&&"maxResponseToken"===e.targetHandle}),d=s.some(function(e){return e.target===n&&"profileId"===e.targetHandle});return(0,P.jsxs)(t$,{id:n,title:"Structured Request",selected:i,children:[(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left,id:"profileId",style:{transform:"translateY(-50%)",top:"0.5rem"}}),(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Connection Profile"}),!d&&(0,P.jsx)(ae,{initialSelectedProfileId:r.profileId,onChange:function(e){o(n,{profileId:(null==e?void 0:e.id)||""})}})]}),(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left,id:"messages",style:{top:"0.5rem",transform:"translateY(-50%)"}}),(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Messages"}),!l&&(0,P.jsx)("span",{style:{fontSize:"10px",color:"#888"},children:" (Requires connection)"})]}),(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left,id:"schema",style:{top:"0.5rem",transform:"translateY(-50%)"}}),(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Schema Name"}),!a&&(0,P.jsx)(I,{className:"nodrag",value:r.schemaName,onChange:function(e){return o(n,{schemaName:e.target.value})}})]}),(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left,id:"messageId",style:{top:"0.5rem",transform:"translateY(-50%)"}}),(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Message ID"}),!c&&(0,P.jsx)(I,{className:"nodrag",type:"number",value:null!==(t=r.messageId)&&void 0!==t?t:"",onChange:function(e){var t=e.target.value;o(n,{messageId:""===t?void 0:Number(t)})}})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Prompt Engineering Mode"}),(0,P.jsx)(Q,{className:"nodrag",value:r.promptEngineeringMode,onChange:function(e){return o(n,{promptEngineeringMode:e.target.value})},children:Object.values(yn).map(function(e){return(0,P.jsx)("option",{value:e,children:e},e)})})]}),(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(iu,{type:"target",position:Xs.Left,id:"maxResponseToken",style:{top:"0.5rem",transform:"translateY(-50%)"}}),(0,P.jsx)("label",{style:{marginLeft:"10px"},children:"Max Response Token"}),!u&&(0,P.jsx)(I,{className:"nodrag",type:"number",value:r.maxResponseToken,onChange:function(e){return o(n,{maxResponseToken:Number(e.target.value)})}})]})]}),(0,P.jsx)(iu,{type:"source",position:Xs.Right})]})};function cU(e){return cU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cU(e)}function uU(e){return function(e){if(Array.isArray(e))return dU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dU(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function hU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hU(Object(n),!0).forEach(function(t){pU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=cU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mU=function(e){var t=e.id,n=e.data,r=e.selected,i=Fk().updateNodeData,o=function(e,r){var o=n.fields.map(function(t){return t.id===e?fU(fU({},t),r):t});i(t,{fields:o})};return(0,P.jsxs)(t$,{id:t,title:"Schema",selected:r,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{children:"Fields"}),(n.fields||[]).map(function(e){return(0,P.jsxs)("div",{style:{display:"flex",gap:"5px",marginTop:"5px"},children:[(0,P.jsx)(I,{className:"nodrag",value:e.name,onChange:function(t){return o(e.id,{name:t.target.value,type:e.type})}}),(0,P.jsxs)(Q,{className:"nodrag",value:e.type,onChange:function(t){return o(e.id,{name:e.name,type:t.target.value})},children:[(0,P.jsx)("option",{value:"string",children:"string"}),(0,P.jsx)("option",{value:"number",children:"number"}),(0,P.jsx)("option",{value:"boolean",children:"boolean"})]}),(0,P.jsx)(T,{onClick:function(){return r=e.id,o=n.fields.filter(function(e){return e.id!==r}),void i(t,{fields:o});var r,o},children:"Remove"})]},e.id)}),(0,P.jsx)(T,{className:"nodrag",onClick:function(){var e={id:crypto.randomUUID(),name:"newField",type:"string"};i(t,{fields:[].concat(uU(n.fields||[]),[e])})},style:{marginTop:"10px"},children:"Add Field"})]}),(0,P.jsx)(iu,{type:"source",position:Xs.Right})]})},gU=function(e){var t=e.id,n=e.data,r=e.selected,i=Fk().updateNodeData;return(0,P.jsxs)(t$,{id:t,title:"Profile ID",selected:r,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{children:"Connection Profile"}),(0,P.jsx)(ae,{initialSelectedProfileId:n.profileId,onChange:function(e){i(t,{profileId:(null==e?void 0:e.id)||""})}})]}),(0,P.jsx)(iu,{type:"source",position:Xs.Right})]})},vU=[{type:"triggerNode",label:"Trigger Node",data:{selectedEventType:"user_message_rendered"}},{type:"ifNode",label:"If Node",data:{conditions:[{id:crypto.randomUUID(),code:"return true;"}]}},{type:"createMessagesNode",label:"Create Messages Node",data:{profileId:""}},{type:"stringNode",label:"String Node",data:{value:"hello"}},{type:"numberNode",label:"Number Node",data:{value:123}},{type:"structuredRequestNode",label:"Structured Request Node",data:{profileId:"",schemaName:"mySchema",promptEngineeringMode:"native",maxResponseToken:1e3}},{type:"schemaNode",label:"Schema Node",data:{fields:[]}},{type:"profileIdNode",label:"Profile ID Node",data:{profileId:""}}],OU=function(){var e=Fk().addNode;return(0,P.jsxs)("div",{className:"flowchart-node-palette",children:[(0,P.jsx)("h3",{children:"Add Node"}),(0,P.jsx)("div",{style:{display:"flex"},children:vU.map(function(t){return(0,P.jsx)(T,{onClick:function(){return function(t,n){e({type:t,position:{x:100,y:100},data:n})}(t.type,t.data)},children:t.label.split(" Node")[0]},t.type)})})]})};function yU(e){return function(e){if(Array.isArray(e))return xU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bU(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wU(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function wU(e,t){if(e){if("string"==typeof e)return xU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xU(e,t):void 0}}function xU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var SU={triggerNode:Tk,ifNode:Ik,createMessagesNode:Qk,stringNode:Ak,numberNode:Nk,structuredRequestNode:Mk,schemaNode:Dk,profileIdNode:zk},kU=function(e){var t=[],n=new Set,r=new Set;if(!e.nodes||0===e.nodes.length)return{isValid:!0,errors:[],invalidNodeIds:n,invalidEdgeIds:r};var i,o=new Set(e.nodes.map(function(e){return e.id})),s=bU(e.nodes);try{var a=function(){var e=i.value,r=SU[e.type];if(r){var o=r.safeParse(e.data);if(!o.success){var s=o.error.issues.map(function(t){return"Node [".concat(e.id," (").concat(e.type,")]: ").concat(t.path.join(".")," - ").concat(t.message)});t.push.apply(t,yU(s)),n.add(e.id)}}else e.type&&!SU[e.type]&&(t.push("Node [".concat(e.id,']: Unknown node type "').concat(e.type,'".')),n.add(e.id))};for(s.s();!(i=s.n()).done;)a()}catch(e){s.e(e)}finally{s.f()}var l,c=bU(e.edges);try{for(c.s();!(l=c.n()).done;){var u=l.value;o.has(u.source)||(t.push("Edge [".concat(u.id,']: Source node "').concat(u.source,'" not found.')),r.add(u.id)),o.has(u.target)||(t.push("Edge [".concat(u.id,']: Target node "').concat(u.target,'" not found.')),r.add(u.id))}}catch(e){c.e(e)}finally{c.f()}var d={};e.nodes.forEach(function(e){return d[e.id]=[]}),e.edges.forEach(function(e){d[e.source]&&d[e.source].push(e.target)});var h,f=new Set,p=new Set,m=function(e){f.add(e),p.add(e);var t,n=bU(d[e]||[]);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(f.has(r)){if(p.has(r))return!0}else if(m(r))return!0}}catch(e){n.e(e)}finally{n.f()}return p.delete(e),!1},g=bU(e.nodes);try{for(g.s();!(h=g.n()).done;){var v=h.value;if(!f.has(v.id)&&m(v.id)){t.push("Flow has a cycle (circular dependency).");break}}}catch(e){g.e(e)}finally{g.f()}var O,y=bU(e.nodes.filter(function(e){return"triggerNode"===e.type}));try{var b=function(){var r=O.value;e.edges.some(function(e){return e.target===r.id})&&(t.push("Trigger Node [".concat(r.id,"] cannot have incoming connections.")),n.add(r.id)),e.edges.some(function(e){return e.source===r.id})&&(t.push("Trigger Node [".concat(r.id,"] cannot have outgoing connections.")),n.add(r.id))};for(y.s();!(O=y.n()).done;)b()}catch(e){y.e(e)}finally{y.f()}return{isValid:0===t.length,errors:t,invalidNodeIds:n,invalidEdgeIds:r}};const $U=_,_U={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e},captureMetaData:!1},PU=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",EU=new RegExp("^"+("["+PU+"]["+(PU+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*")+"$");function CU(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n}const TU=function(e){const t=EU.exec(e);return!(null==t)};let IU;IU="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class QU{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e,t){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),void 0!==t&&(this.child[this.child.length-1][IU]={startIndex:t})}static getMetaDataSymbol(){return IU}}function AU(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,i=!1,o=!1,s="";for(;t<e.length;t++)if("<"!==e[t]||o)if(">"===e[t]){if(o?"-"===e[t-1]&&"-"===e[t-2]&&(o=!1,r--):r--,0===r)break}else"["===e[t]?i=!0:s+=e[t];else{if(i&&RU(e,"!ENTITY",t)){let r,i;t+=7,[r,i,t]=MU(e,t+1),-1===i.indexOf("&")&&(n[r]={regx:RegExp(`&${r};`,"g"),val:i})}else if(i&&RU(e,"!ELEMENT",t)){t+=8;const{index:n}=jU(e,t+1);t=n}else if(i&&RU(e,"!ATTLIST",t))t+=8;else if(i&&RU(e,"!NOTATION",t)){t+=9;const{index:n}=DU(e,t+1);t=n}else{if(!RU(e,"!--",t))throw new Error("Invalid DOCTYPE");o=!0}r++,s=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}const NU=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function MU(e,t){t=NU(e,t);let n="";for(;t<e.length&&!/\s/.test(e[t])&&'"'!==e[t]&&"'"!==e[t];)n+=e[t],t++;if(ZU(n),t=NU(e,t),"SYSTEM"===e.substring(t,t+6).toUpperCase())throw new Error("External entities are not supported");if("%"===e[t])throw new Error("Parameter entities are not supported");let r="";return[t,r]=zU(e,t,"entity"),[n,r,--t]}function DU(e,t){t=NU(e,t);let n="";for(;t<e.length&&!/\s/.test(e[t]);)n+=e[t],t++;ZU(n),t=NU(e,t);const r=e.substring(t,t+6).toUpperCase();if("SYSTEM"!==r&&"PUBLIC"!==r)throw new Error(`Expected SYSTEM or PUBLIC, found "${r}"`);t+=r.length,t=NU(e,t);let i=null,o=null;if("PUBLIC"===r)[t,i]=zU(e,t,"publicIdentifier"),'"'!==e[t=NU(e,t)]&&"'"!==e[t]||([t,o]=zU(e,t,"systemIdentifier"));else if("SYSTEM"===r&&([t,o]=zU(e,t,"systemIdentifier"),!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:i,systemIdentifier:o,index:--t}}function zU(e,t,n){let r="";const i=e[t];if('"'!==i&&"'"!==i)throw new Error(`Expected quoted string, found "${i}"`);for(t++;t<e.length&&e[t]!==i;)r+=e[t],t++;if(e[t]!==i)throw new Error(`Unterminated ${n} value`);return[++t,r]}function jU(e,t){t=NU(e,t);let n="";for(;t<e.length&&!/\s/.test(e[t]);)n+=e[t],t++;if(!ZU(n))throw new Error(`Invalid element name: "${n}"`);let r="";if("E"===e[t=NU(e,t)]&&RU(e,"MPTY",t))t+=4;else if("A"===e[t]&&RU(e,"NY",t))t+=2;else{if("("!==e[t])throw new Error(`Invalid Element Expression, found "${e[t]}"`);for(t++;t<e.length&&")"!==e[t];)r+=e[t],t++;if(")"!==e[t])throw new Error("Unterminated content model")}return{elementName:n,contentModel:r.trim(),index:t}}function RU(e,t,n){for(let r=0;r<t.length;r++)if(t[r]!==e[n+r+1])return!1;return!0}function ZU(e){if(TU(e))return e;throw new Error(`Invalid entity name ${e}`)}const LU=/^[-+]?0x[a-fA-F0-9]+$/,UU=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,XU={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function VU(e,t={}){if(t=Object.assign({},XU,t),!e||"string"!=typeof e)return e;let n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if("0"===e)return 0;if(t.hex&&LU.test(n))return function(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(n,16);if(-1!==n.search(/.+[eE].+/))return function(e,t,n){if(!n.eNotation)return e;const r=t.match(BU);if(r){let i=r[1]||"";const o=-1===r[3].indexOf("e")?"E":"e",s=r[2],a=i?e[s.length+1]===o:e[s.length]===o;return s.length>1&&a?e:1!==s.length||!r[3].startsWith(`.${o}`)&&r[3][0]!==o?n.leadingZeros&&!a?(t=(r[1]||"")+r[3],Number(t)):e:Number(t)}return e}(e,n,t);{const r=UU.exec(n);if(r){const i=r[1]||"",o=r[2];let s=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),e;return e}(r[3]);const a=i?"."===e[o.length+1]:"."===e[o.length];if(!t.leadingZeros&&(o.length>1||1===o.length&&!a))return e;{const r=Number(n),a=String(r);if(0===r)return r;if(-1!==a.search(/[eE]/))return t.eNotation?r:e;if(-1!==n.indexOf("."))return"0"===a||a===s||a===`${i}${s}`?r:e;let l=o?s:n;return o?l===a||i+l===a?r:e:l===a||l===i+a?r:e}}return e}}const BU=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;class YU{constructor(e){var t;this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,16))}},this.addExternalEntities=WU,this.parseXml=KU,this.parseTextData=FU,this.resolveNameSpace=qU,this.buildAttributesMap=HU,this.isItStopNode=nX,this.replaceEntitiesValue=eX,this.readStopNodeData=oX,this.saveTextToParentTag=tX,this.addChild=JU,this.ignoreAttributesFn="function"==typeof(t=this.options.ignoreAttributes)?t:Array.isArray(t)?e=>{for(const n of t){if("string"==typeof n&&e===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}}:()=>!1}}function WU(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function FU(e,t,n,r,i,o,s){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,i,o);if(null==r)return e;if(typeof r!=typeof e||r!==e)return r;if(this.options.trimValues)return sX(e,this.options.parseTagValue,this.options.numberParseOptions);return e.trim()===e?sX(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function qU(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}const GU=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function HU(e,t,n){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){const n=CU(e,GU),r=n.length,i={};for(let e=0;e<r;e++){const r=this.resolveNameSpace(n[e][1]);if(this.ignoreAttributesFn(r,t))continue;let o=n[e][4],s=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(s=this.options.transformAttributeName(s)),"__proto__"===s&&(s="#__proto__"),void 0!==o){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const e=this.options.attributeValueProcessor(r,o,t);i[s]=null==e?o:typeof e!=typeof o||e!==o?e:sX(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[s]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=i,e}return i}}const KU=function(e){e=e.replace(/\r\n?/g,"\n");const t=new QU("!xml");let n=t,r="",i="";for(let o=0;o<e.length;o++){if("<"===e[o])if("/"===e[o+1]){const t=rX(e,">",o,"Closing Tag is not closed.");let s=e.substring(o+2,t).trim();if(this.options.removeNSPrefix){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&(r=this.saveTextToParentTag(r,n,i));const a=i.substring(i.lastIndexOf(".")+1);if(s&&-1!==this.options.unpairedTags.indexOf(s))throw new Error(`Unpaired tag can not be used as closing tag: </${s}>`);let l=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),n=this.tagsNodeStack.pop(),r="",o=t}else if("?"===e[o+1]){let t=iX(e,o,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new QU(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i,t.tagName)),this.addChild(n,e,i,o)}o=t.closeIndex+1}else if("!--"===e.substr(o+1,3)){const t=rX(e,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){const s=e.substring(o+4,t-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:s}])}o=t}else if("!D"===e.substr(o+1,2)){const t=AU(e,o);this.docTypeEntities=t.entities,o=t.i}else if("!["===e.substr(o+1,2)){const t=rX(e,"]]>",o,"CDATA is not closed.")-2,s=e.substring(o+9,t);r=this.saveTextToParentTag(r,n,i);let a=this.parseTextData(s,n.tagname,i,!0,!1,!0,!0);null==a&&(a=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:s}]):n.add(this.options.textNodeName,a),o=t+2}else{let s=iX(e,o,this.options.removeNSPrefix),a=s.tagName;const l=s.rawTagName;let c=s.tagExp,u=s.attrExpPresent,d=s.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1));const h=n;h&&-1!==this.options.unpairedTags.indexOf(h.tagname)&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),a!==t.tagname&&(i+=i?"."+a:a);const f=o;if(this.isItStopNode(this.options.stopNodes,i,a)){let t="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)"/"===a[a.length-1]?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),c=a):c=c.substr(0,c.length-1),o=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))o=s.closeIndex;else{const n=this.readStopNodeData(e,l,d+1);if(!n)throw new Error(`Unexpected end of ${l}`);o=n.i,t=n.tagContent}const r=new QU(a);a!==c&&u&&(r[":@"]=this.buildAttributesMap(c,i,a)),t&&(t=this.parseTextData(t,a,i,!0,u,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),r.add(this.options.textNodeName,t),this.addChild(n,r,i,f)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){"/"===a[a.length-1]?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),c=a):c=c.substr(0,c.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const e=new QU(a);a!==c&&u&&(e[":@"]=this.buildAttributesMap(c,i,a)),this.addChild(n,e,i,f),i=i.substr(0,i.lastIndexOf("."))}else{const e=new QU(a);this.tagsNodeStack.push(n),a!==c&&u&&(e[":@"]=this.buildAttributesMap(c,i,a)),this.addChild(n,e,i,f),n=e}r="",o=d}}else r+=e[o]}return t.child};function JU(e,t,n,r){this.options.captureMetaData||(r=void 0);const i=this.options.updateTag(t.tagname,n,t[":@"]);!1===i||("string"==typeof i?(t.tagname=i,e.addChild(t,r)):e.addChild(t,r))}const eX=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function tX(e,t,n,r){return e&&(void 0===r&&(r=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function nX(e,t,n){const r="*."+n;for(const n in e){const i=e[n];if(r===i||t===i)return!0}return!1}function rX(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}function iX(e,t,n,r=">"){const i=function(e,t,n=">"){let r,i="";for(let o=t;o<e.length;o++){let t=e[o];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:i,index:o};if(e[o+1]===n[1])return{data:i,index:o}}else"\t"===t&&(t=" ");i+=t}}(e,t+1,r);if(!i)return;let o=i.data;const s=i.index,a=o.search(/\s/);let l=o,c=!0;-1!==a&&(l=o.substring(0,a),o=o.substring(a+1).trimStart());const u=l;if(n){const e=l.indexOf(":");-1!==e&&(l=l.substr(e+1),c=l!==i.data.substr(e+1))}return{tagName:l,tagExp:o,closeIndex:s,attrExpPresent:c,rawTagName:u}}function oX(e,t,n){const r=n;let i=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=rX(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(i--,0===i))return{tagContent:e.substring(r,n),i:o};n=o}else if("?"===e[n+1]){n=rX(e,"?>",n+1,"StopNode is not closed.")}else if("!--"===e.substr(n+1,3)){n=rX(e,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===e.substr(n+1,2)){n=rX(e,"]]>",n,"StopNode is not closed.")-2}else{const r=iX(e,n,">");if(r){(r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&i++,n=r.closeIndex}}}function sX(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&VU(e,n)}return void 0!==e?e:""}const aX=QU.getMetaDataSymbol();function lX(e,t){return cX(e,t)}function cX(e,t,n){let r;const i={};for(let o=0;o<e.length;o++){const s=e[o],a=uX(s);let l="";if(l=void 0===n?a:n+"."+a,a===t.textNodeName)void 0===r?r=s[a]:r+=""+s[a];else{if(void 0===a)continue;if(s[a]){let e=cX(s[a],t,l);const n=hX(e,t);void 0!==s[aX]&&(e[aX]=s[aX]),s[":@"]?dX(e,s[":@"],l,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==i[a]&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(e)):t.isArray(a,l,n)?i[a]=[e]:i[a]=e}}}return"string"==typeof r?r.length>0&&(i[t.textNodeName]=r):void 0!==r&&(i[t.textNodeName]=r),i}function uX(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function dX(e,t,n,r){if(t){const i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){const o=i[s];r.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function hX(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}const fX={allowBooleanAttributes:!1,unpairedTags:[]};function pX(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function mX(e,t){const n=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){const r=e.substr(n,t-n);if(t>5&&"xml"===r)return SX("InvalidXml","XML declaration allowed only at the start of the document.",_X(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}continue}return t}function gX(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}const vX='"',OX="'";function yX(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if(e[t]===vX||e[t]===OX)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const bX=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function wX(e,t){const n=CU(e,bX),r={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return SX("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",PX(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return SX("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",PX(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return SX("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",PX(n[e]));const i=n[e][2];if(!kX(i))return SX("InvalidAttr","Attribute '"+i+"' is an invalid name.",PX(n[e]));if(r.hasOwnProperty(i))return SX("InvalidAttr","Attribute '"+i+"' is repeated.",PX(n[e]));r[i]=1}return!0}function xX(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function SX(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function kX(e){return TU(e)}function $X(e){return TU(e)}function _X(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function PX(e){return e.startIndex+e[1].length}var EX=new class{constructor(e){this.externalEntities={},this.options=function(e){return Object.assign({},_U,e)}(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=function(e,t){t=Object.assign({},fX,t);const n=[];let r=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=mX(e,o),o.err)return o}else{if("<"!==e[o]){if(pX(e[o]))continue;return SX("InvalidChar","char '"+e[o]+"' is not expected.",_X(e,o))}{let s=o;if(o++,"!"===e[o]){o=gX(e,o);continue}{let a=!1;"/"===e[o]&&(a=!0,o++);let l="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)l+=e[o];if(l=l.trim(),"/"===l[l.length-1]&&(l=l.substring(0,l.length-1),o--),!$X(l)){let t;return t=0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",SX("InvalidTag",t,_X(e,o))}const c=yX(e,o);if(!1===c)return SX("InvalidAttr","Attributes for '"+l+"' have open quote.",_X(e,o));let u=c.value;if(o=c.index,"/"===u[u.length-1]){const n=o-u.length;u=u.substring(0,u.length-1);const i=wX(u,t);if(!0!==i)return SX(i.err.code,i.err.msg,_X(e,n+i.err.line));r=!0}else if(a){if(!c.tagClosed)return SX("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",_X(e,o));if(u.trim().length>0)return SX("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",_X(e,s));if(0===n.length)return SX("InvalidTag","Closing tag '"+l+"' has not been opened.",_X(e,s));{const t=n.pop();if(l!==t.tagName){let n=_X(e,t.tagStartPos);return SX("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+l+"'.",_X(e,s))}0==n.length&&(i=!0)}}else{const a=wX(u,t);if(!0!==a)return SX(a.err.code,a.err.msg,_X(e,o-u.length+a.err.line));if(!0===i)return SX("InvalidXml","Multiple possible root nodes found.",_X(e,o));-1!==t.unpairedTags.indexOf(l)||n.push({tagName:l,tagStartPos:s}),r=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=gX(e,o);continue}if("?"!==e[o+1])break;if(o=mX(e,++o),o.err)return o}else if("&"===e[o]){const t=xX(e,o);if(-1==t)return SX("InvalidChar","char '&' is not expected.",_X(e,o));o=t}else if(!0===i&&!pX(e[o]))return SX("InvalidXml","Extra text at the end",_X(e,o));"<"===e[o]&&o--}}}return r?1==n.length?SX("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",_X(e,n[0].tagStartPos)):!(n.length>0)||SX("InvalidXml","Invalid '"+JSON.stringify(n.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):SX("InvalidXml","Start tag expected.",1)}(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new YU(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:lX(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}static getMetaDataSymbol(){return QU.getMetaDataSymbol()}}({ignoreAttributes:!0,textNodeName:"#text",trimValues:!0,allowBooleanAttributes:!0});function CX(e,t){if(t&&e){var n=function(n){"array"===t.properties[n].type&&e[n]&&!Array.isArray(e[n])&&(e[n]=[e[n]]),"object"===t.properties[n].type&&CX(e[n],t.properties[n]),"array"===t.properties[n].type&&"object"===t.properties[n].items.type&&(Array.isArray(e[n])?e[n].forEach(function(e){return CX(e,t.properties[n].items)}):CX(e[n],t.properties[n].items))};for(var r in t.properties)n(r)}}function TX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.match(/```(?:\w+\n|\n)([\s\S]*?)```/),i=r?r[1].trim():e.trim();try{switch(t){case"xml":var o=EX.parse(i);return o.root&&(o=o.root),n.schema&&CX(o,n.schema),o;case"json":return JSON.parse(i);default:throw new Error("Unsupported format specified: ".concat(t))}}catch(n){throw console.error("Error parsing response in format '".concat(t,"':"),n),console.error("Raw content received:",e),"xml"===t&&n.message.includes("Invalid XML")?new Error("Model response is not valid XML."):"json"===t&&n instanceof SyntaxError?new Error("Model response is not valid JSON."):new Error("Failed to parse response as ".concat(t,": ").concat(n.message))}}function IX(e){return IX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IX(e)}function QX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="",r="  ".repeat(t),i=function(i){if(e.hasOwnProperty(i)){var o=e[i];Array.isArray(o)?o.forEach(function(e){"object"===IX(e)&&null!==e?(n+="".concat(r,"<").concat(i,">\n"),n+=QX(e,t+1),n+="".concat(r,"</").concat(i,">\n")):n+="".concat(r,"<").concat(i,">").concat(e,"</").concat(i,">\n")}):"object"===IX(o)&&null!==o?(n+="".concat(r,"<").concat(i,">\n"),n+=QX(o,t+1),n+="".concat(r,"</").concat(i,">\n")):n+="".concat(r,"<").concat(i,">").concat(o,"</").concat(i,">\n")}};for(var o in e)i(o);return n}function AX(e,t){var n=NX(e);return"xml"===t?QX(n).trim():JSON.stringify(n,null,2)}function NX(e){if(e.example)return e.example;switch(e.type){case"object":var t={};if(e.properties)for(var n in e.properties)t[n]=NX(e.properties[n]);return t;case"array":return e.items?[NX(e.items)]:[];case"string":return e.description||"string";case"number":return 0;case"boolean":return!1;default:return null}}function MX(e){return function(e){if(Array.isArray(e))return DX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return DX(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DX(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zX(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return jX(c,"_invoke",function(n,r,i){var o,a,l,c=0,u=i||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,a=0,l=e,h.n=n,s}};function f(n,r){for(a=n,l=r,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],f=h.p,p=o[2];n>3?(i=p===r)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(a=0,h.v=r,h.n=o[1]):f<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,h.n=p,a=0))}if(i||n>1)return s;throw d=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,l=p;(t=a<2?e:l)||!d;){o||(a?a<3?(a>1&&(h.n=-1),f(a,l)):h.n=l:h.v=l);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==s)break}catch(t){o=e,a=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,i,o),!0),c}var s={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(jX(t={},r,function(){return this}),t),d=c.prototype=a.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,jX(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,jX(d,"constructor",c),jX(c,"constructor",l),l.displayName="GeneratorFunction",jX(c,i,"GeneratorFunction"),jX(d),jX(d,i,"Generator"),jX(d,r,function(){return this}),jX(d,"toString",function(){return"[object Generator]"}),(zX=function(){return{w:o,m:h}})()}function jX(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}jX=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){jX(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},jX(e,t,n,r)}function RX(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function ZX(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){RX(o,r,i,s,a,"next",e)}function a(e){RX(o,r,i,s,a,"throw",e)}s(void 0)})}}function LX(e,t){return UX.apply(this,arguments)}function UX(){return(UX=ZX(zX().m(function e(t,n){var r,i,o,s,a,l,c;return zX().w(function(e){for(;;)switch(e.n){case 0:if(i=SillyTavern.getContext(),o=i.extensionSettings,s=i.CONNECT_API_MAP,a=null===(r=o.connectionManager)||void 0===r||null===(r=r.profiles)||void 0===r?void 0:r.find(function(e){return e.id===t})){e.n=1;break}throw new Error("Connection profile with ID ".concat(t," not found. Please configure it in FlowChart settings."));case 1:return l=null!=a&&a.api?s[a.api]:null,e.n=2,On(null==l?void 0:l.selected,{targetCharacterId:j.this_chid,messageIndexesBetween:{end:n},presetName:null==a?void 0:a.preset,contextName:null==a?void 0:a.context,instructName:null==a?void 0:a.instruct,syspromptName:null==a?void 0:a.sysprompt,includeNames:!!V.selected_group});case 2:return c=e.v,e.a(2,c.result)}},e)}))).apply(this,arguments)}var XX=new mn;function VX(e,t,n,r,i,o){return BX.apply(this,arguments)}function BX(){return BX=ZX(zX().m(function e(t,n,r,i,o,s){var a,l;return zX().w(function(e){for(;;)if(0===e.n)return a=!o.json_schema&&!!s,l="",e.a(2,new Promise(function(e,i){var c=new AbortController;XX.generateRequest({profileId:t,prompt:n,maxTokens:r,custom:{stream:a,signal:c.signal},overridePayload:o},{abortController:c,onEntry:a?function(e,t){var n=t.text;l=n,n&&s&&s.onStream(n)}:void 0,onFinish:function(t,n,r){return r?i(r):void 0===n&&void 0===r?a?e({text:l}):i(new DOMException("Request aborted by user","AbortError")):void e(n)}})}))},e)})),BX.apply(this,arguments)}function YX(e,t,n,r,i,o,s){return WX.apply(this,arguments)}function WX(){return(WX=ZX(zX().m(function e(t,n,r,i,o,s,a){var l,c,u,d,h,f,p,m,g,v,O,y,b;return zX().w(function(e){for(;;)switch(e.n){case 0:if(l=GV.getSettings(),s!==yn.NATIVE){e.n=3;break}return e.n=1,VX(t,n,a,o,{json_schema:{name:i,strict:!0,value:$U.toJSONSchema(r)}});case 1:if(c=e.v,null!==(d=c)&&void 0!==d&&d.content){e.n=2;break}throw new Error("Structured request for ".concat(i," failed to return content."));case 2:u=c.content,e.n=6;break;case 3:return f=s,p=$U.toJSONSchema(r),m=AX(p,f),g=JSON.stringify(p,null,2),v=l.prompts[f],O={example_response:m},"json"===f&&(O.schema=g),y=Handlebars.compile(v,{noEscape:!0})(O),e.n=4,VX(t,[].concat(MX(n),[{role:"user",content:y}]),a,o,{});case 4:if(c=e.v,null!==(h=c)&&void 0!==h&&h.content){e.n=5;break}throw new Error("Structured request for ".concat(i," failed to return content."));case 5:u=TX(c.content,f,{schema:p});case 6:if((b=r.safeParse(u)).success){e.n=7;break}throw console.error("Zod validation failed:",b.error.issues),console.error("Raw content parsed:",u),new Error("Model response failed schema validation for ".concat(i,"."));case 7:return e.a(2,b.data)}},e)}))).apply(this,arguments)}function FX(e){return FX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FX(e)}function qX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qX(Object(n),!0).forEach(function(t){HX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HX(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KX(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(FX(e)+" is not iterable")}function JX(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return eV(c,"_invoke",function(n,r,i){var o,a,l,c=0,u=i||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,a=0,l=e,h.n=n,s}};function f(n,r){for(a=n,l=r,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],f=h.p,p=o[2];n>3?(i=p===r)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(a=0,h.v=r,h.n=o[1]):f<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,h.n=p,a=0))}if(i||n>1)return s;throw d=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,l=p;(t=a<2?e:l)||!d;){o||(a?a<3?(a>1&&(h.n=-1),f(a,l)):h.n=l:h.v=l);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==s)break}catch(t){o=e,a=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,i,o),!0),c}var s={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(eV(t={},r,function(){return this}),t),d=c.prototype=a.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,eV(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,eV(d,"constructor",c),eV(c,"constructor",l),l.displayName="GeneratorFunction",eV(c,i,"GeneratorFunction"),eV(d),eV(d,i,"Generator"),eV(d,r,function(){return this}),eV(d,"toString",function(){return"[object Generator]"}),(JX=function(){return{w:o,m:h}})()}function eV(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}eV=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){eV(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},eV(e,t,n,r)}function tV(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nV(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function nV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rV(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function iV(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){rV(o,r,i,s,a,"next",e)}function a(e){rV(o,r,i,s,a,"throw",e)}s(void 0)})}}function oV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sV(r.key),r)}}function sV(e){var t=function(e,t){if("object"!=FX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FX(t)?t:t+""}var aV=function(){return function(e,t,n){return t&&oV(e.prototype,t),n&&oV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dependencies=t},[{key:"executeFlow",value:(t=iV(JX().m(function e(t,n){var r,i,o,s,a,l,c,u,d,h,f,p=this;return JX().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=kU(t),i=r.isValid,o=r.errors,i){e.n=1;break}throw new Error(o.join("\n"));case 1:console.log("[FlowChart] Executing flow with args",n),s=this.getExecutionOrder(t),a={},l=new Set,c={executedNodes:[]},u=tV(s),e.p=2,h=JX().m(function e(){var r,i,o,s,u,h,f,m;return JX().w(function(e){for(;;)switch(e.n){case 0:if(r=d.value,i=t.nodes.find(function(e){return e.id===r})){e.n=1;break}return e.a(2,0);case 1:if(!l.has(r)){e.n=2;break}return e.a(2,0);case 2:return o=p.getNodeInputs(i,t.edges,a,n),e.n=3,p.executeNode(i,o,t);case 3:if(s=e.v,a[r]=s,l.add(r),c.executedNodes.push({nodeId:i.id,type:i.type,input:o,output:s}),"ifNode"===i.type&&s.nextNodeId){u=t.edges.filter(function(e){return e.source===r}),h=tV(u);try{for(h.s();!(f=h.n()).done;)(m=f.value).target!==s.nextNodeId&&p.markBranchAsExecuted(m.target,t,l)}catch(e){h.e(e)}finally{h.f()}}case 4:return e.a(2)}},e)}),u.s();case 3:if((d=u.n()).done){e.n=6;break}return e.d(KX(h()),4);case 4:if(0!==e.v){e.n=5;break}return e.a(3,5);case 5:e.n=3;break;case 6:e.n=8;break;case 7:e.p=7,f=e.v,u.e(f);case 8:return e.p=8,u.f(),e.f(8);case 9:return console.log("[FlowChart] Flow execution finished."),e.a(2,c)}},e,this,[[2,7,8,9]])})),function(e,n){return t.apply(this,arguments)})},{key:"markBranchAsExecuted",value:function(e,t,n){for(var r=[e],i=function(){var e=r.shift();if(!e||n.has(e))return 1;n.add(e);var i,o=tV(t.edges.filter(function(t){return t.source===e}));try{for(o.s();!(i=o.n()).done;){var s=i.value;r.push(s.target)}}catch(e){o.e(e)}finally{o.f()}};r.length>0;)i()}},{key:"getExecutionOrder",value:function(e){var t={},n={};e.nodes.forEach(function(e){t[e.id]=0,n[e.id]=[]}),e.edges.forEach(function(e){n[e.source]&&void 0!==t[e.target]&&(n[e.source].push(e.target),t[e.target]++)});for(var r=e.nodes.filter(function(e){return 0===t[e.id]}).map(function(e){return e.id}),i=[];r.length>0;){var o=r.shift();i.push(o),(n[o]||[]).forEach(function(e){void 0!==t[e]&&(t[e]--,0===t[e]&&r.push(e))})}return i}},{key:"getNodeInputs",value:function(e,t,n,r){var i,o=GX({},r),s=t.filter(function(t){return t.target===e.id}),a=tV(s);try{for(a.s();!(i=a.n()).done;){var l=i.value,c=n[l.source],u=l.targetHandle;if(c&&u){var d=l.sourceHandle;d&&"object"===FX(c)&&null!==c&&void 0!==c[d]?o[u]=c[d]:o[u]=c}else c&&"object"===FX(c)&&null!==c&&Object.assign(o,c)}}catch(e){a.e(e)}finally{a.f()}return o}},{key:"executeNode",value:(e=iV(JX().m(function e(t,n,r){var i,o,s,a,l,c,u,d,h,f,p,m,g,v,O,y,b,w,x,S,k,$,_,P,E,C,T,I,Q,A,N,M,D,z,j,R,Z,L,U,X,V,B,Y,W=this;return JX().w(function(e){for(;;)switch(e.p=e.n){case 0:console.log("[FlowChart] Executing node ".concat(t.id," (").concat(t.type,") with input:"),n),i={},X=t.type,e.n="triggerNode"===X?1:"createMessagesNode"===X?2:"ifNode"===X?11:"stringNode"===X?22:"numberNode"===X?23:"structuredRequestNode"===X?24:"schemaNode"===X?33:"profileIdNode"===X?34:35;break;case 1:return i=GX({},n),e.a(3,35);case 2:if(!(o=Qk.safeParse(t.data)).success){e.n=9;break}if(l=o.data,c=l.profileId,u=l.lastMessageId,d=null!==(s=n.profileId)&&void 0!==s?s:c,h=null!==(a=n.lastMessageId)&&void 0!==a?a:u,!d){e.n=7;break}return e.p=3,e.n=4,this.dependencies.getBaseMessagesForProfile(d,h);case 4:f=e.v,i=f,e.n=6;break;case 5:e.p=5,V=e.v,console.error("[FlowChart] Error in createMessagesNode ".concat(t.id,":"),V);case 6:e.n=8;break;case 7:console.error("[FlowChart] Profile ID not found for createMessagesNode ".concat(t.id,"."));case 8:e.n=10;break;case 9:console.error("[FlowChart] Invalid data for createMessagesNode ".concat(t.id,":"),o.error.issues);case 10:return e.a(3,35);case 11:if(!(p=Ik.safeParse(t.data)).success){e.n=20;break}m=p.data.conditions,g=null,v=tV(m),e.p=12,y=JX().m(function e(){var i,o,s,a,l;return JX().w(function(e){for(;;)switch(e.n){case 0:i=O.value,o=!1;try{s=W.dependencies.getSillyTavernContext(),a=new Function("input","stContext",i.code),o=a(n,s)}catch(e){console.error("[FlowChart] Error executing code in ifNode ".concat(t.id,":"),e)}if(!o){e.n=1;break}if(!(l=r.edges.find(function(e){return e.source===t.id&&e.sourceHandle===i.id}))){e.n=1;break}return g=l.target,e.a(2,1);case 1:return e.a(2)}},e)}),v.s();case 13:if((O=v.n()).done){e.n=16;break}return e.d(KX(y()),14);case 14:if(!e.v){e.n=15;break}return e.a(3,16);case 15:e.n=13;break;case 16:e.n=18;break;case 17:e.p=17,B=e.v,v.e(B);case 18:return e.p=18,v.f(),e.f(18);case 19:null===g&&(b=r.edges.find(function(e){return e.source===t.id&&"false"===e.sourceHandle}))&&(g=b.target),i={nextNodeId:g},e.n=21;break;case 20:console.error("[FlowChart] Invalid data for ifNode ".concat(t.id,":"),p.error.issues);case 21:return e.a(3,35);case 22:return(w=Ak.safeParse(t.data)).success?i=w.data.value:console.error("[FlowChart] Invalid data for stringNode ".concat(t.id,":"),w.error.issues),e.a(3,35);case 23:return(x=Nk.safeParse(t.data)).success?i=x.data.value:console.error("[FlowChart] Invalid data for numberNode ".concat(t.id,":"),x.error.issues),e.a(3,35);case 24:if(!(S=Mk.safeParse(t.data)).success){e.n=31;break}if(P=S.data,E=P.profileId,C=P.schemaName,T=P.messageId,I=P.promptEngineeringMode,Q=P.maxResponseToken,A=null!==(k=n.profileId)&&void 0!==k?k:E,N=n.schema,M=null!==($=n.messageId)&&void 0!==$?$:T,D=null!==(_=n.maxResponseToken)&&void 0!==_?_:Q,z=n.messages,!(A&&N&&z&&void 0!==M&&void 0!==D)){e.n=29;break}return e.p=25,e.n=26,this.dependencies.makeStructuredRequest(A,z,N,C||"response",M,I,D);case 26:j=e.v,i=j,e.n=28;break;case 27:e.p=27,Y=e.v,console.error("[FlowChart] Error in structuredRequestNode ".concat(t.id,":"),Y);case 28:e.n=30;break;case 29:console.error("[FlowChart] Missing inputs for structuredRequestNode ".concat(t.id,". Check connections for schema, messages, messageId, and maxResponseToken."));case 30:e.n=32;break;case 31:console.error("[FlowChart] Invalid data for structuredRequestNode ".concat(t.id,":"),S.error.issues);case 32:return e.a(3,35);case 33:return(R=Dk.safeParse(t.data)).success?(Z=R.data.fields,L=nS(Z.reduce(function(e,t){var n;switch(t.type){case"string":n=_w();break;case"number":n=xx();break;case"boolean":n=Tx()}return e[t.name]=n,e},{})),i=L):console.error("[FlowChart] Invalid data for schemaNode ".concat(t.id,":"),R.error.issues),e.a(3,35);case 34:return(U=zk.safeParse(t.data)).success?i=U.data.profileId:console.error("[FlowChart] Invalid data for profileIdNode ".concat(t.id,":"),U.error.issues),e.a(3,35);case 35:return e.a(2,i)}},e,this,[[25,27],[12,17,18,19],[3,5]])})),function(t,n,r){return e.apply(this,arguments)})}]);var e,t}();function lV(e){return lV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lV(e)}function cV(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return uV(c,"_invoke",function(n,r,i){var o,a,l,c=0,u=i||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,a=0,l=e,h.n=n,s}};function f(n,r){for(a=n,l=r,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],f=h.p,p=o[2];n>3?(i=p===r)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(a=0,h.v=r,h.n=o[1]):f<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,h.n=p,a=0))}if(i||n>1)return s;throw d=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,l=p;(t=a<2?e:l)||!d;){o||(a?a<3?(a>1&&(h.n=-1),f(a,l)):h.n=l:h.v=l);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==s)break}catch(t){o=e,a=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,i,o),!0),c}var s={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(uV(t={},r,function(){return this}),t),d=c.prototype=a.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,uV(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,uV(d,"constructor",c),uV(c,"constructor",l),l.displayName="GeneratorFunction",uV(c,i,"GeneratorFunction"),uV(d),uV(d,i,"Generator"),uV(d,r,function(){return this}),uV(d,"toString",function(){return"[object Generator]"}),(cV=function(){return{w:o,m:h}})()}function uV(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}uV=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){uV(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},uV(e,t,n,r)}function dV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dV(Object(n),!0).forEach(function(t){yV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fV(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function pV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||gV(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mV(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gV(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function gV(e,t){if(e){if("string"==typeof e)return vV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vV(e,t):void 0}}function vV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function OV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bV(r.key),r)}}function yV(e,t,n){return(t=bV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bV(e){var t=function(e,t){if("object"!=lV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lV(t)?t:t+""}var wV=[],xV=function(){return function(e,t,n){return t&&OV(e.prototype,t),n&&OV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yV(this,"registeredListeners",new Map),this.lowLevelRunner=new aV({getBaseMessagesForProfile:LX,makeStructuredRequest:YX,getSillyTavernContext:function(){return SillyTavern.getContext()}})},[{key:"reinitialize",value:function(){var e,t=this,n=SillyTavern.getContext().eventSource,r=mV(this.registeredListeners.entries());try{for(r.s();!(e=r.n()).done;){var i=pV(e.value,2),o=i[0],s=i[1];n.removeListener(o,s)}}catch(e){r.e(e)}finally{r.f()}this.registeredListeners.clear();var a=GV.getSettings().flows,l={};for(var c in a){var u=a[c],d=kU(u),h=d.isValid,f=d.errors;if(h){var p,m=u.nodes.filter(function(e){return"triggerNode"===e.type}),g=mV(m);try{for(g.s();!(p=g.n()).done;){var v=p.value,O=v.data.selectedEventType;O&&(l[O]||(l[O]=[]),l[O].push({flowId:c,nodeId:v.id}))}}catch(e){g.e(e)}finally{g.f()}}else G("error",'Flow "'.concat(c,'" is invalid and will not be run. Errors:')),f.forEach(function(e){return G("error","- ".concat(e))})}var y=function(e){var r=function(){G("info",'FlowChart: Event "'.concat(e,'" triggered.'));for(var n=l[e],r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s,a=mV(n);try{for(a.s();!(s=a.n()).done;){var c=s.value;t.executeFlow(c.flowId,c.nodeId,i)}}catch(e){a.e(e)}finally{a.f()}};n.on(e,r),t.registeredListeners.set(e,r)};for(var b in l)y(b)}},{key:"executeFlow",value:(e=cV().m(function e(t,n,r){var i,o,s,a,l,c,u;return cV().w(function(e){for(;;)switch(e.n){case 0:if(i=GV.getSettings(),o=i.flows[t]){e.n=1;break}return console.error("[FlowChart] Flow with id ".concat(t," not found.")),e.a(2);case 1:if(s=o.nodes.find(function(e){return e.id===n})){e.n=2;break}return e.a(2);case 2:return a=s.data.selectedEventType,l=Object.keys(Pk[a]||{}),c={},l.forEach(function(e,t){c[e]=r[t]}),e.n=3,this.lowLevelRunner.executeFlow(o,c);case 3:return(u=e.v)&&(wV.unshift(hV(hV({},u),{},{flowId:t,timestamp:new Date})),wV.length>50&&wV.pop()),e.a(2,u)}},e,this)}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){fV(o,r,i,s,a,"next",e)}function a(e){fV(o,r,i,s,a,"throw",e)}s(void 0)})},function(e,n,r){return t.apply(this,arguments)})}]);var e,t}(),SV=new xV;function kV(e){return kV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kV(e)}function $V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$V(Object(n),!0).forEach(function(t){PV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=kV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EV(e){return function(e){if(Array.isArray(e))return QV(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||IV(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CV(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=IV(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function TV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||IV(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IV(e,t){if(e){if("string"==typeof e)return QV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QV(e,t):void 0}}function QV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var AV=function(e){var t=e.invalidNodeIds,n=Fk(),r=n.nodes,i=n.edges,o=n.onNodesChange,s=n.onEdgesChange,a=n.onConnect,l=n.addNode,c=Zc().screenToFlowPosition,u=(0,E.useRef)(null),d=TV((0,E.useState)(null),2),h=d[0],f=d[1],p=(0,E.useRef)(!1),m=(0,E.useMemo)(function(){return{triggerNode:n$,ifNode:iU,createMessagesNode:oU,stringNode:sU,numberNode:aU,structuredRequestNode:lU,schemaNode:mU,profileIdNode:gU}},[]),g=(0,E.useCallback)(function(e){return Ck(e,r)},[r]),v=(0,E.useCallback)(function(e){p.current=!0,a(e)},[a]),O=(0,E.useCallback)(function(e,t){u.current=t,p.current=!1},[]),y=(0,E.useCallback)(function(e){if(u.current){if(p.current)return u.current=null,void(p.current=!1);var t=u.current,n=t.nodeId,i=t.handleId,o=t.handleType;if(n&&o){var s=r.find(function(e){return e.id===n});if(s&&s.type){var a=function(){var e=[];if("source"===o){var t,s=CV(vU);try{for(s.s();!(t=s.n()).done;){var a,l=t.value,c=null===(a=Ek[l.type])||void 0===a?void 0:a.inputs;if(c){var u,d=CV(c);try{for(d.s();!(u=d.n()).done;){var h=u.value,f={id:"temp",type:l.type,position:{x:0,y:0},data:structuredClone(l.data)};Ck({source:n,sourceHandle:i,target:"temp",targetHandle:h.id},[].concat(EV(r),[f]))&&e.push({nodeType:l.type,nodeLabel:l.label,connectToHandle:h.id})}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){s.e(e)}finally{s.f()}}else{var p,m=CV(vU);try{for(m.s();!(p=m.n()).done;){var g,v=p.value,O=null===(g=Ek[v.type])||void 0===g?void 0:g.outputs;if(O){var y,b=CV(O);try{for(b.s();!(y=b.n()).done;){var w=y.value,x={id:"temp",type:v.type,position:{x:0,y:0},data:structuredClone(v.data)};Ck({source:"temp",sourceHandle:w.id,target:n,targetHandle:i},[].concat(EV(r),[x]))&&e.push({nodeType:v.type,nodeLabel:v.label,connectToHandle:w.id})}}catch(e){b.e(e)}finally{b.f()}}}}catch(e){m.e(e)}finally{m.f()}}return Array.from(new Map(e.map(function(e){return[e.nodeType,e]})).values())}();if(u.current=null,0!==a.length){var d=c({x:e.clientX,y:e.clientY}),h=function(e,t){var r=vU.find(function(t){return t.type===e});if(r){var s=l({type:e,position:d,data:structuredClone(r.data)}),a="source"===o?{source:n,sourceHandle:i,target:s.id,targetHandle:t}:{source:s.id,sourceHandle:t,target:n,targetHandle:i};v(a)}};1===a.length?h(a[0].nodeType,a[0].connectToHandle):f({x:e.clientX,y:e.clientY,options:a.map(function(e){var t=e.nodeType,n=e.nodeLabel,r=e.connectToHandle;return{label:n,action:function(){h(t,r),f(null)}}})})}}else u.current=null}else u.current=null}},[r,c,l,v,f]),b=(0,E.useMemo)(function(){return r.map(function(e){return _V(_V({},e),{},{className:t.has(e.id)?"flow-node-invalid":""})})},[r,t]);return(0,P.jsxs)("div",{className:"flowchart-popup-ground",onContextMenu:function(e){return e.preventDefault()},children:[(0,P.jsxs)(vd,{nodes:b,edges:i,onNodesChange:o,onEdgesChange:s,onConnect:v,onConnectStart:O,onConnectEnd:y,onPaneClick:function(){},nodeTypes:m,colorMode:"dark",fitView:!0,isValidConnection:g,children:[(0,P.jsx)(_d,{}),(0,P.jsx)(Md,{})]}),h&&(0,P.jsx)("div",{className:"flowchart-context-menu",style:{top:h.y,left:h.x,zIndex:999,position:"fixed"},children:(0,P.jsx)("ul",{children:h.options.map(function(e){return(0,P.jsx)("li",{onClick:e.action,children:e.label},e.label)})})})]})},NV=function(){var e=Fk(),t=e.nodes,n=e.edges,r=e.loadFlow,i=e.getFlowData,o=GV.getSettings(),s=kn(),a=(0,E.useRef)(null);(0,E.useEffect)(function(){return a.current&&clearTimeout(a.current),a.current=setTimeout(function(){var e=i();o.flows[o.activeFlow]=structuredClone(e),GV.saveSettings(),SV.reinitialize()},500),function(){a.current&&clearTimeout(a.current)}},[t,n,o.activeFlow,i]);var l=(0,E.useMemo)(function(){return kU({nodes:t,edges:n})},[t,n]),c=l.isValid,u=l.errors,d=l.invalidNodeIds,h=l.invalidEdgeIds,f=(0,E.useMemo)(function(){return Object.keys(o.flows).map(function(e){return{value:e,label:e}})},[o.flows]);return(0,P.jsxs)("div",{className:"flowchart-ground-manager",children:[(0,P.jsx)("div",{className:"flowchart-preset-selector",children:(0,P.jsx)(ce,{label:"Flow",value:o.activeFlow,items:f,onChange:function(e){e&&o.flows[e]&&(o.activeFlow=e,r(structuredClone(o.flows[e])),s())},onItemsChange:function(e){var t,n,i={},a=!1,l=CV(e);try{for(l.s();!(t=l.n()).done;){var c=t.value;i[c.value]=o.flows[c.value]||bn(),c.value===o.activeFlow&&(a=!0)}}catch(e){l.e(e)}finally{l.f()}(o.flows=i,a)||(o.activeFlow=(null===(n=e[0])||void 0===n?void 0:n.value)||"",o.activeFlow?r(structuredClone(o.flows[o.activeFlow])):r({nodes:[],edges:[]}));s()},onCreate:function(e){return o.flows[e]?(G("error",'A flow named "'.concat(e,'" already exists.')),{confirmed:!1}):{confirmed:!0,value:e}},onRename:function(e,t){return o.flows[t]?(G("error",'A flow named "'.concat(t,'" already exists.')),{confirmed:!1}):(o.flows[t]=o.flows[e],delete o.flows[e],o.activeFlow===e&&(o.activeFlow=t),s(),{confirmed:!0})},enableCreate:!0,enableRename:!0,enableDelete:!0})}),!c&&(0,P.jsxs)("div",{className:"flowchart-errors",children:[(0,P.jsxs)("div",{className:"flowchart-errors-header",children:[(0,P.jsx)("strong",{children:"Flow is invalid:"}),(0,P.jsx)(T,{color:"danger",onClick:function(){var e=t.filter(function(e){return!d.has(e.id)}),i=n.filter(function(e){return!h.has(e.id)});r({nodes:e,edges:i})},children:"Clear Invalid Items"})]}),(0,P.jsx)("ul",{children:u.map(function(e,t){return(0,P.jsx)("li",{children:e},t)})})]}),(0,P.jsxs)("div",{className:"flowchart-editor-area",children:[(0,P.jsx)(OU,{}),(0,P.jsx)(AV,{invalidNodeIds:d})]})]})},MV=function(){return(0,P.jsx)(Wk,{children:(0,P.jsx)(pd,{children:(0,P.jsx)(NV,{})})})};function DV(e){return function(e){if(Array.isArray(e))return RV(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jV(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||jV(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jV(e,t){if(e){if("string"==typeof e)return RV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RV(e,t):void 0}}function RV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ZV=function(){var e=zV((0,E.useState)(DV(wV)),2),t=e[0],n=e[1];return(0,P.jsxs)("div",{className:"flowchart-popup-section",children:[(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,P.jsx)("h3",{children:"Run History"}),(0,P.jsx)(T,{onClick:function(){wV.length=0,n([])},color:"danger",children:"Clear History"})]}),0===t.length?(0,P.jsx)("p",{children:"No flow executions recorded yet."}):(0,P.jsx)("ul",{className:"flowchart-history-list",children:t.map(function(e,t){return(0,P.jsx)("li",{children:(0,P.jsxs)("details",{children:[(0,P.jsxs)("summary",{children:["Flow: ",(0,P.jsx)("strong",{children:e.flowId})," at ",e.timestamp.toLocaleString()," (",e.executedNodes.length," nodes executed)"]}),(0,P.jsx)("pre",{children:JSON.stringify(e.executedNodes,null,2)})]})},t)})})]})};function LV(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return UV(c,"_invoke",function(n,r,i){var o,a,l,c=0,u=i||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,a=0,l=e,h.n=n,s}};function f(n,r){for(a=n,l=r,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],f=h.p,p=o[2];n>3?(i=p===r)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(a=0,h.v=r,h.n=o[1]):f<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,h.n=p,a=0))}if(i||n>1)return s;throw d=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,l=p;(t=a<2?e:l)||!d;){o||(a?a<3?(a>1&&(h.n=-1),f(a,l)):h.n=l:h.v=l);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==s)break}catch(t){o=e,a=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,i,o),!0),c}var s={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(UV(t={},r,function(){return this}),t),d=c.prototype=a.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,UV(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,UV(d,"constructor",c),UV(c,"constructor",l),l.displayName="GeneratorFunction",UV(c,i,"GeneratorFunction"),UV(d),UV(d,i,"Generator"),UV(d,r,function(){return this}),UV(d,"toString",function(){return"[object Generator]"}),(LV=function(){return{w:o,m:h}})()}function UV(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}UV=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){UV(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},UV(e,t,n,r)}function XV(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function VV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return BV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var YV=function(e){var t=e.onSave,n=VV((0,E.useState)("prompts"),2),r=n[0],i=n[1],o=VV((0,E.useState)(0),2),s=o[0],a=o[1],l=SillyTavern.getContext().Popup,c=function(){var e,t=(e=LV().m(function e(){return LV().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l.show.confirm("Reset FlowChart Data","Are you sure you want to reset ALL prompts, the Fate Chart, Event Generation, and UNE data to their defaults? This action cannot be undone.");case 1:e.v&&(GV.getSettings().prompts=structuredClone(wn.prompts),a(function(e){return e+1}),G("info","All FlowChart prompts and data have been reset to default."));case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){XV(o,r,i,s,a,"next",e)}function a(e){XV(o,r,i,s,a,"throw",e)}s(void 0)})});return function(){return t.apply(this,arguments)}}();return(0,P.jsxs)("div",{className:"flowchart-data-popup",children:[(0,P.jsxs)("div",{className:"flowchart-popup-header",children:[(0,P.jsx)("h2",{children:"Customize FlowChart Data"}),(0,P.jsxs)("div",{className:"flowchart-popup-tabs",children:[(0,P.jsx)(T,{onClick:function(){return i("prompts")},children:"Prompts"}),(0,P.jsx)(T,{onClick:function(){return i("ground")},children:"Ground"}),(0,P.jsx)(T,{onClick:function(){return i("history")},children:"History"})]})]}),(0,P.jsxs)("div",{className:"flowchart-popup-content",children:["prompts"===r&&(0,P.jsx)($n,{},"prompts-".concat(s)),"ground"===r&&(0,P.jsx)(MV,{},"ground-".concat(s)),"history"===r&&(0,P.jsx)(ZV,{})]}),(0,P.jsxs)("div",{className:"flowchart-popup-footer",children:[(0,P.jsx)(T,{onClick:c,color:"danger",children:"Reset All to Default"}),(0,P.jsx)("div",{style:{flex:1}}),(0,P.jsx)(T,{onClick:function(){GV.saveSettings(),t()},color:"primary",children:"Save and Close"})]})]})};function WV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return FV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qV=function(){var e=WV((0,E.useState)(!1),2),t=e[0],n=e[1],r=function(){return n(!1)};return window.openFlowChartDataPopup=function(){return n(!0)},t?(0,P.jsx)(ie,{content:(0,P.jsx)(YV,{onSave:r}),type:N.DISPLAY,onComplete:r,options:{large:!0,wide:!0}}):null},GV=new class{settingsKey;defaultSettings;constructor(e,t){this.settingsKey=e,this.defaultSettings=t}async initializeSettings(e={}){const{strategy:t="recursive"}=e,n=this.defaultSettings.version,r=this.defaultSettings.formatVersion,i=SillyTavern.getContext().extensionSettings[this.settingsKey],o={version:{changed:!1,new:n??""},formatVersion:{changed:!1,new:r??""},oldSettings:null,newSettings:this.defaultSettings};if(!i)return SillyTavern.getContext().extensionSettings[this.settingsKey]=this.defaultSettings,this.saveSettings(),o;const s={...o,oldSettings:structuredClone(i),version:{changed:!1,old:i.version,new:i.version},formatVersion:{changed:!1,old:i.formatVersion,new:i.formatVersion}};if("recursive"===t){function a(e,t){let n=!1;for(const r of Object.keys(t))void 0===e[r]?(e[r]=t[r],n=!0):"object"==typeof t[r]&&null!==t[r]&&(e[r]=e[r]||{},a(e[r],t[r])&&(n=!0));return n}n&&i.version!==n&&(s.version.changed=!0,s.version.new=n,i.version=n),r&&"*"!==r&&i.formatVersion!==r&&(s.formatVersion.changed=!0,s.formatVersion.new=r,i.formatVersion=r),(a(i,this.defaultSettings)||s.version.changed||s.formatVersion.changed)&&this.saveSettings()}else if(Array.isArray(t)){n&&!i.version&&(i.version=n,s.version.changed=!0,s.version.new=n),r&&!i.formatVersion&&(i.formatVersion=r,s.formatVersion.changed=!0,s.formatVersion.new=r);let l=structuredClone(i),c=i.formatVersion;try{let u;do{u=!1;let d=t.find(e=>e.from===c);if(d&&d.to>c)l=await d.action(l),c=d.to,l.formatVersion=d.to,u=!0;else for(const h of t)if("*"===h.from&&h.to>c&&c!==h.to){l=await h.action(l),c=h.to,l.formatVersion=h.to,u=!0;break}}while(u);if(c!==i.formatVersion){s.formatVersion.changed=!0,s.formatVersion.new=c;const f=this.defaultSettings.version;f&&(l.version=f)}if(s.formatVersion.changed){for(const p of Object.keys(i))delete i[p];Object.assign(i,l),this.saveSettings()}}catch(m){throw console.error("Failed to apply version changes:",m),new Error(`Version migration failed: ${m instanceof Error?m.message:m}`,{cause:m})}}return s.newSettings=i,s}getSettings(){return SillyTavern.getContext().extensionSettings[this.settingsKey]}updateSetting(e,t){SillyTavern.getContext().extensionSettings[this.settingsKey][e]=t,this.saveSettings()}saveSettings(){SillyTavern.getContext().saveSettingsDebounced()}resetSettings(){SillyTavern.getContext().extensionSettings[this.settingsKey]=this.defaultSettings,this.saveSettings()}}("flowchart",wn),HV=function(){var e=kn(),t=GV.getSettings(),n=(0,E.useCallback)(function(t){t(GV.getSettings()),GV.saveSettings(),e()},[e]);return(0,P.jsxs)("div",{className:"flowchart-settings",children:[(0,P.jsxs)("div",{className:"inline-drawer",children:[(0,P.jsxs)("div",{className:"inline-drawer-toggle inline-drawer-header",children:[(0,P.jsx)("b",{children:"FlowChart"}),(0,P.jsx)("div",{className:"inline-drawer-icon fa-solid fa-circle-chevron-down down"})]}),(0,P.jsx)("div",{className:"inline-drawer-content",children:(0,P.jsxs)("div",{className:"flowchart-container",children:[(0,P.jsxs)("div",{className:"setting-row",children:[(0,P.jsx)("label",{children:"Enabled"}),(0,P.jsx)(I,{type:"checkbox",checked:t.enabled,onChange:function(e){var t=e.target.checked;n(function(e){return e.enabled=t}),window.updateFlowChartFateToggleUI&&window.updateFlowChartFateToggleUI()}})]}),(0,P.jsx)("div",{className:"setting-row",children:(0,P.jsx)(T,{onClick:function(){return window.openFlowChartDataPopup()},children:"Customize Prompts & Data"})})]})})]}),(0,P.jsx)(qV,{})]})};function KV(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return JV(c,"_invoke",function(n,r,i){var o,a,l,c=0,u=i||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,a=0,l=e,h.n=n,s}};function f(n,r){for(a=n,l=r,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],f=h.p,p=o[2];n>3?(i=p===r)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(a=0,h.v=r,h.n=o[1]):f<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,h.n=p,a=0))}if(i||n>1)return s;throw d=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,l=p;(t=a<2?e:l)||!d;){o||(a?a<3?(a>1&&(h.n=-1),f(a,l)):h.n=l:h.v=l);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==s)break}catch(t){o=e,a=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,i,o),!0),c}var s={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(JV(t={},r,function(){return this}),t),d=c.prototype=a.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,JV(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,JV(d,"constructor",c),JV(c,"constructor",l),l.displayName="GeneratorFunction",JV(c,i,"GeneratorFunction"),JV(d),JV(d,i,"Generator"),JV(d,r,function(){return this}),JV(d,"toString",function(){return"[object Generator]"}),(KV=function(){return{w:o,m:h}})()}function JV(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}JV=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){JV(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},JV(e,t,n,r)}function eB(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}new mn;function tB(){var e;return e=KV().m(function e(){return KV().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}),tB=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){eB(o,r,i,s,a,"next",e)}function a(e){eB(o,r,i,s,a,"throw",e)}s(void 0)})},tB.apply(this,arguments)}GV.initializeSettings().then(function(){!function(){var e=document.getElementById("extensions_settings");if(e){var t=document.getElementById("flowchart-react-settings-root");t||((t=document.createElement("div")).id="flowchart-react-settings-root",e.appendChild(t)),(0,C.createRoot)(t).render((0,P.jsx)(E.StrictMode,{children:(0,P.jsx)(HV,{})}))}else console.error("FlowChart: Extension settings container not found.")}(),function(){tB.apply(this,arguments)}(),SV.reinitialize()}).catch(function(e){console.error(e),G("error","FlowChart data migration failed. Check console for details.")});